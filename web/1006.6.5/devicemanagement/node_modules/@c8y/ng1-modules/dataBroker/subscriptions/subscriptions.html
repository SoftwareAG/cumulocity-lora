<div>
  <c8y-ui-title-set title="'Data subscriptions' | translate"></c8y-ui-title-set>

  <c8y-ui-action-bar-set>
    <a
      title="{{ 'Add data subscription' | translate }}"
      class="btn btn-link"
      ng-click="vm.toggleAddNewSubscriptionForm(vm.isShownAddNewSubscription)"
    >
      <i c8y-icon="plus-circle"></i> {{ 'Add data subscription' | translate }}
    </a>
    <button
      title="{{ 'Reload' | translate }}"
      type="button"
      class="btn btn-link"
      ng-click="vm.reload()"
    >
      <i c8y-icon="refresh"></i> {{ 'Reload' | translate }}
    </button>
  </c8y-ui-action-bar-set>

  <div
    class="c8y-empty-state text-center"
    ng-if="vm.isSubscriptionsListEmpty()"
    style="margin-top: 30px;"
  >
    <h1 c8y-icon="c8y-connector-in c8y-icon-duocolor"></h1>
    <h3 translate>No data subscriptions to display.</h3>
    <p translate>Add a data subscription by clicking below.</p>
    <button
      title="{{ 'Add data subscription' | translate }}"
      class="btn btn-primary"
      ng-click="vm.toggleAddNewSubscriptionForm(vm.isShownAddNewSubscription)"
    >
      {{ 'Add data subscription' | translate }}
    </button>
    <p class="top-m-xs" c8y-guide-docs>
      <small
        ><span translate
          >Find out more in the
          <a c8y-guide-href="users-guide/getting-started/">User guide`KEEP_ORIGINAL`</a>.</span
        ></small
      >
    </p>
  </div>

  <div class="card-group interact-grid">
    <c8y-data-broker-add-subscription
      on-reload="vm.reload()"
      is-shown="vm.isShownAddNewSubscription"
      ng-if="vm.isShownAddNewSubscription"
      class="col-xs-12 col-sm-4 col-md-3"
    ></c8y-data-broker-add-subscription>
    <c8y-data-broker-pending-subscription
      pending-subscription="pendingSubscription"
      on-reload="vm.reload()"
      ng-if="vm.pendingSubscriptions.length > 0"
      ng-repeat="pendingSubscription in vm.pendingSubscriptions | orderBy:'name'"
      class="col-xs-12 col-sm-4 col-md-3"
    ></c8y-data-broker-pending-subscription>
    <c8y-data-broker-subscription
      accepted-subscription="subscription"
      on-reload="vm.reload()"
      ng-if="vm.subscriptions.length > 0"
      ng-repeat="subscription in vm.subscriptions | orderBy:'connectorName'"
      class="col-xs-12 col-sm-4 col-md-3"
    ></c8y-data-broker-subscription>
  </div>
</div>
