"use strict";function _objectSpread(r){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?Object(arguments[e]):{},t=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),t.forEach(function(e){_defineProperty(r,e,o[e])})}return r}function _defineProperty(e,r,o){return r in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o,e}!function(){function e(o,e,r,t,n,i,c,u,a,p,g,l,y,s){var f=this;function d(){i.changeTitle({title:o.group.name})}function b(){a.updateGroupNavigation(o.group)}r.detail(p.groupId).then(t.getResData).then(function(e){f.group=e,o.group=e,f.originalGroup=_objectSpread({},e);var r=e.type;o.iconForGroup={"c8y-icon-group-smart":"c8y_DynamicGroup"===r,"c8y-icon-group-open":("c8y_DeviceGroup"===r||"c8y_DeviceSubgroup"===r)&&!e.c8y_BrokerSource,"c8y-icon-group-remote":"c8y_DeviceGroup"===r&&e.c8y_BrokerSource}}),u.shouldShowLocalSmartRules().then(function(e){o.smartRules=e}),l.canAdminMOs([p.groupId]).then(function(e){o.readOnly=!e}),_.assign(f,{groupId:p.groupId}),_.assign(o,{save:function(e){r.save(e).then(d).then(b).then(function(){n.success(g.getString('Group "{{name}}" saved.',e))}).finally(function(){o.groupDetailsForm.editable=!1,f.originalGroup=_objectSpread({},f.group)})},c8yConfig:c,removeGroup:function(){return y.getGroup(s.getContext().id).then(y.deleteGroupWithConfirmation).then(_.bind(e.path,e,"/group"))},onCancel:function(e){e.editable=!e.editable,o.group=_objectSpread({},f.originalGroup),f.group=_objectSpread({},f.originalGroup)}})}e.$inject=["$scope","$location","c8yInventory","c8yBase","c8yAlert","c8yTitle","c8yConfig","c8ySmartRulesAvailability","groupTypesHierarchyNavigator","$routeParams","gettextCatalog","c8yPermissions","groupsHierarchySvc","c8yUiUtil"],angular.module("c8y.groupsHierarchy").controller("groupDetailsCtrl",e)}();