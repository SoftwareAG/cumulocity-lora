<!-- if vm.registrationData is defined, show the view with QR-->
<div ng-if="vm.registrationData">
  <div class="modal-inner-scroll">
    <div class="bg-gray-medium-dark text-center">
      <label class="text-white" translate
        >Step <span class="badge badge-success">2</span> of 2</label
      >
    </div>
    <div class="c8y-wizard-body text-center">
      <h3 class="top-m text-light bottom-m" translate>
        Register smartphone
      </h3>
      <p class="bottom-m-md" translate>
        Open the Cloud Sensor App on your smartphone and scan the QR code below.
      </p>
      <div class="text-center">
        <div class="center-block bottom-m-md">
          <qrcode
            version="10"
            error-correction-level="M"
            size="200"
            data="{{ vm.registrationData }}"
          >
          </qrcode>
        </div>
      </div>
    </div>
    <div class="bg-gray-lighter text-center">
      <div class="card-block">
        <h4 class="text-info">
          <i c8y-icon="info-circle"></i>
          <translate>Heads up</translate>
        </h4>
        <small translate>
          By showing the QR code, you provide access to the data in your account. We recommend to
          use this functionality only for demo accounts.
        </small>
      </div>
    </div>
  </div>
  <div class="c8y-wizard-footer">
    <button
      title="{{ 'Back' | translate }}"
      class="btn btn-default"
      ng-click="vm.onGoTo({ stepId: 'install-sensor-app' })"
      translate
    >
      Back
    </button>
    <button
      title="{{ 'Cancel' | translate }}"
      class="btn btn-default"
      ng-click="vm.onCancel()"
      translate
    >
      Cancel
    </button>
    <button class="btn btn-info btn-pending" ng-if="!vm.phoneDashboardReady" disabled="disabled">
      <span translate>Waiting</span>
    </button>
    <button
      title="{{ 'Go to Smartphones group' | translate }}"
      class="btn btn-primary"
      ng-click="vm.onOk()"
      ng-if="vm.phoneDashboardReady"
      translate
    >
      Go to "Smartphones" group
    </button>
  </div>
</div>

<!-- if vm.registrationData is undefined, show message to use standart device registration -->
<div ng-if="!vm.registrationData">
  <div class="modal-inner-scroll">
    <div class="bg-gray-medium-dark text-center">
      <label class="text-white" translate
        >Step <span class="badge badge-success">2</span> of 2</label
      >
    </div>
    <div class="c8y-wizard-body text-center">
      <h3 class="top-m text-light bottom-m" translate>
        Register smartphone
      </h3>
      <p class="bottom-m-md" translate>
        Open the Cloud Sensor App and proceed with manual device registration option. Automatic
        smartphone registration is currently not supported with Single sign-on.
      </p>
    </div>
  </div>
  <div class="c8y-wizard-footer">
    <button
      title="{{ 'Back' | translate }}"
      class="btn btn-default"
      ng-click="vm.onGoTo({ stepId: 'install-sensor-app' })"
      translate
    >
      Back
    </button>
    <button
      title="{{ 'Back' | translate }}"
      class="btn btn-default"
      ng-click="vm.onCancel()"
      translate
    >
      Cancel
    </button>
  </div>
</div>
