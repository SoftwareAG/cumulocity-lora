<div
  class="dropdown "
  ng-class="{'open': vm.isOpen}"
  uib-dropdown
  ng-show="vm.isVisible()"
  is-open="vm.isOpen"
  on-toggle="vm.onToggle()"
>
  <button
    title="{{ 'Search' | translate }}"
    type="button"
    class="main-header-button dropdown-toggle c8y-dropdown"
    uib-dropdown-toggle
  >
    <i c8y-icon="search" class="fa-2x"></i>
  </button>

  <div class="search-header-menu dropdown-menu dropdown-menu-center" uib-dropdown-menu>
    <form ng-submit="vm.search(vm.term, 0)" placeholder-no-required-hint novalidate>
      <div class="input-group input-group-lg input-group-search">
        <input
          type="search"
          ng-click="$event.stopPropagation()"
          class="form-control input-lg"
          required="required"
          placeholder="{{ 'Search for groups or assetsâ€¦' | translate }}"
          ng-model="vm.term"
        />
        <span class="input-group-btn">
          <button
            type="button"
            class="btn btn-link dropdown-toggle"
            ng-if="vm.searchFunctionList.length > 1"
            uib-dropdown-toggle
          >
            <span class="caret"></span>
            <i c8y-icon="search"></i>
          </button>

          <button type="submit" class="btn btn-link" ng-if="vm.searchFunctionList.length == 1">
            <i c8y-icon="arrow-right"></i>
          </button>

          <ul class="dropdown-menu" ng-if="vm.searchFunctionList.length > 1" uib-dropdown-menu>
            <li
              ng-repeat="searchFunction in vm.searchFunctionList"
              ng-hide="vm.searchFunction.hide"
            >
              <a
                class="tooltip-no-max-width"
                href=""
                ng-click="vm.search(vm.term, $index)"
                uib-tooltip="{{ searchFunction.tooltip | translate }}"
                tooltip-placement="bottom"
                >{{ searchFunction.name | translate }}</a
              >
            </li>
          </ul>
        </span>
      </div>
    </form>
  </div>
</div>
