import * as tslib_1 from "tslib";
import { Component } from '@angular/core';
import { DeviceGridService, DeviceGridColumn, CustomDeviceGridColumn } from '@c8y/ngx-components/device-grid';
import { gettext } from '@c8y/ngx-components';
import { find } from 'lodash-es';
let DeviceGridExampleComponent = class DeviceGridExampleComponent {
    constructor(deviceGridService) {
        this.deviceGridService = deviceGridService;
        this.examples = [
            this.getExampleWithStandardColumns(),
            this.getExampleWithStandardColumnsAndSavedFilteringSorting(),
            this.getExampleWithCustomColumnAndPredefinedFiltering()
        ];
    }
    getExampleWithStandardColumns() {
        const columns = this.deviceGridService.getDefaultColumns();
        return {
            label: 'Standard columns',
            columns
        };
    }
    getExampleWithStandardColumnsAndSavedFilteringSorting() {
        const columns = this.deviceGridService.getDefaultColumns();
        const nameColumn = find(columns, { name: 'name' });
        nameColumn.externalFilterQuery = {
            names: ['*Temp*']
        };
        nameColumn.sortOrder = 'desc';
        return {
            label: 'Standard columns with saved filtering/sorting',
            columns
        };
    }
    getExampleWithCustomColumnAndPredefinedFiltering() {
        const columns = this.deviceGridService.getDefaultColumns();
        const typeColumn = new CustomDeviceGridColumn();
        typeColumn.name = 'type';
        typeColumn.path = 'type';
        typeColumn.header = gettext('Type');
        typeColumn.externalFilterQuery = {
            equals: ['c8y_MQTTDevice']
        };
        columns.splice(2, 0, typeColumn);
        return {
            label: 'Standard columns with custom one with predefined filtering',
            columns
        };
    }
    onExampleSelect(example) {
        this.columnsInput = example.columns;
    }
};
DeviceGridExampleComponent.ctorParameters = () => [
    { type: DeviceGridService }
];
DeviceGridExampleComponent = tslib_1.__decorate([
    Component({
        selector: 'c8y-device-grid-example',
        template: "<div class=\"row\">\n  <c8y-device-grid\n    [title]=\"'Select devices for bulk operation'\"\n    [columns]=\"columnsInput\"\n    [actionControls]=\"[]\"\n    (onColumnsChange)=\"columnsOutput = $event\"\n    (onDeviceQueryStringChange)=\"deviceQueryStringOutput = $event\"\n  ></c8y-device-grid>\n</div>\n\n<div class=\"row\">\n  <div class=\"card col-sm-6\">\n    <div class=\"card-header separator\">\n      <h4 class=\"card-title\">Input</h4>\n    </div>\n    <div class=\"card-block\">\n      <div class=\"c8y-select-wrapper\">\n        <select\n          class=\"form-control\"\n          [ngModel]=\"selectedExample\"\n          (ngModelChange)=\"onExampleSelect($event)\"\n        >\n          <option *ngFor=\"let example of examples\" [ngValue]=\"example\">{{\n            example.label\n          }}</option></select\n        ><span></span>\n      </div>\n      <pre\n        >{{ columnsInput | json }}\n      </pre>\n    </div>\n  </div>\n\n  <div class=\"card col-sm-6\">\n    <div class=\"card-header\">\n      <span>\n        <h4 class=\"card-title\">Output</h4>\n      </span>\n    </div>\n    <div class=\"card-block\">\n      <pre\n        >{{ deviceQueryStringOutput | json }}\n      </pre>\n      <pre\n        >{{ columnsOutput | json }}\n      </pre>\n    </div>\n  </div>\n</div>\n"
    })
], DeviceGridExampleComponent);
export { DeviceGridExampleComponent };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGV2aWNlLWdyaWQtZXhhbXBsZS5jb21wb25lbnQuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AYzh5L25neC1jb21wb25lbnRzL2RldmljZS1ncmlkLWV4YW1wbGUvIiwic291cmNlcyI6WyJkZXZpY2UtZ3JpZC1leGFtcGxlLmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUMxQyxPQUFPLEVBQ0wsaUJBQWlCLEVBQ2pCLGdCQUFnQixFQUNoQixzQkFBc0IsRUFDdkIsTUFBTSxpQ0FBaUMsQ0FBQztBQUN6QyxPQUFPLEVBQUUsT0FBTyxFQUFFLE1BQU0scUJBQXFCLENBQUM7QUFFOUMsT0FBTyxFQUFFLElBQUksRUFBRSxNQUFNLFdBQVcsQ0FBQztBQU1qQyxJQUFhLDBCQUEwQixHQUF2QyxNQUFhLDBCQUEwQjtJQU9yQyxZQUFzQixpQkFBb0M7UUFBcEMsc0JBQWlCLEdBQWpCLGlCQUFpQixDQUFtQjtRQUN4RCxJQUFJLENBQUMsUUFBUSxHQUFHO1lBQ2QsSUFBSSxDQUFDLDZCQUE2QixFQUFFO1lBQ3BDLElBQUksQ0FBQyxxREFBcUQsRUFBRTtZQUM1RCxJQUFJLENBQUMsZ0RBQWdELEVBQUU7U0FDeEQsQ0FBQztJQUNKLENBQUM7SUFFRCw2QkFBNkI7UUFDM0IsTUFBTSxPQUFPLEdBQUcsSUFBSSxDQUFDLGlCQUFpQixDQUFDLGlCQUFpQixFQUFFLENBQUM7UUFDM0QsT0FBTztZQUNMLEtBQUssRUFBRSxrQkFBa0I7WUFDekIsT0FBTztTQUNSLENBQUM7SUFDSixDQUFDO0lBRUQscURBQXFEO1FBQ25ELE1BQU0sT0FBTyxHQUFHLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxpQkFBaUIsRUFBRSxDQUFDO1FBQzNELE1BQU0sVUFBVSxHQUFHLElBQUksQ0FBQyxPQUFPLEVBQUUsRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFFLENBQUMsQ0FBQztRQUNuRCxVQUFVLENBQUMsbUJBQW1CLEdBQUc7WUFDL0IsS0FBSyxFQUFFLENBQUMsUUFBUSxDQUFDO1NBQ2xCLENBQUM7UUFDRixVQUFVLENBQUMsU0FBUyxHQUFHLE1BQU0sQ0FBQztRQUM5QixPQUFPO1lBQ0wsS0FBSyxFQUFFLCtDQUErQztZQUN0RCxPQUFPO1NBQ1IsQ0FBQztJQUNKLENBQUM7SUFFRCxnREFBZ0Q7UUFDOUMsTUFBTSxPQUFPLEdBQUcsSUFBSSxDQUFDLGlCQUFpQixDQUFDLGlCQUFpQixFQUFFLENBQUM7UUFDM0QsTUFBTSxVQUFVLEdBQUcsSUFBSSxzQkFBc0IsRUFBRSxDQUFDO1FBQ2hELFVBQVUsQ0FBQyxJQUFJLEdBQUcsTUFBTSxDQUFDO1FBQ3pCLFVBQVUsQ0FBQyxJQUFJLEdBQUcsTUFBTSxDQUFDO1FBQ3pCLFVBQVUsQ0FBQyxNQUFNLEdBQUcsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQ3BDLFVBQVUsQ0FBQyxtQkFBbUIsR0FBRztZQUMvQixNQUFNLEVBQUUsQ0FBQyxnQkFBZ0IsQ0FBQztTQUMzQixDQUFDO1FBQ0YsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLFVBQVUsQ0FBQyxDQUFDO1FBQ2pDLE9BQU87WUFDTCxLQUFLLEVBQUUsNERBQTREO1lBQ25FLE9BQU87U0FDUixDQUFDO0lBQ0osQ0FBQztJQUVELGVBQWUsQ0FBQyxPQUFPO1FBQ3JCLElBQUksQ0FBQyxZQUFZLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQztJQUN0QyxDQUFDO0NBQ0YsQ0FBQTs7WUFoRDBDLGlCQUFpQjs7QUFQL0MsMEJBQTBCO0lBSnRDLFNBQVMsQ0FBQztRQUNULFFBQVEsRUFBRSx5QkFBeUI7UUFDbkMsb3lDQUFtRDtLQUNwRCxDQUFDO0dBQ1csMEJBQTBCLENBdUR0QztTQXZEWSwwQkFBMEIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7XG4gIERldmljZUdyaWRTZXJ2aWNlLFxuICBEZXZpY2VHcmlkQ29sdW1uLFxuICBDdXN0b21EZXZpY2VHcmlkQ29sdW1uXG59IGZyb20gJ0BjOHkvbmd4LWNvbXBvbmVudHMvZGV2aWNlLWdyaWQnO1xuaW1wb3J0IHsgZ2V0dGV4dCB9IGZyb20gJ0BjOHkvbmd4LWNvbXBvbmVudHMnO1xuXG5pbXBvcnQgeyBmaW5kIH0gZnJvbSAnbG9kYXNoLWVzJztcblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnYzh5LWRldmljZS1ncmlkLWV4YW1wbGUnLFxuICB0ZW1wbGF0ZVVybDogJy4vZGV2aWNlLWdyaWQtZXhhbXBsZS5jb21wb25lbnQuaHRtbCdcbn0pXG5leHBvcnQgY2xhc3MgRGV2aWNlR3JpZEV4YW1wbGVDb21wb25lbnQge1xuICBleGFtcGxlczogQXJyYXk8eyBsYWJlbDogc3RyaW5nOyBjb2x1bW5zOiBEZXZpY2VHcmlkQ29sdW1uW10gfT47XG4gIHNlbGVjdGVkRXhhbXBsZTtcbiAgY29sdW1uc0lucHV0OiBEZXZpY2VHcmlkQ29sdW1uW107XG4gIGNvbHVtbnNPdXRwdXQ6IERldmljZUdyaWRDb2x1bW5bXTtcbiAgZGV2aWNlUXVlcnlTdHJpbmdPdXRwdXQ6IHN0cmluZztcblxuICBjb25zdHJ1Y3Rvcihwcm90ZWN0ZWQgZGV2aWNlR3JpZFNlcnZpY2U6IERldmljZUdyaWRTZXJ2aWNlKSB7XG4gICAgdGhpcy5leGFtcGxlcyA9IFtcbiAgICAgIHRoaXMuZ2V0RXhhbXBsZVdpdGhTdGFuZGFyZENvbHVtbnMoKSxcbiAgICAgIHRoaXMuZ2V0RXhhbXBsZVdpdGhTdGFuZGFyZENvbHVtbnNBbmRTYXZlZEZpbHRlcmluZ1NvcnRpbmcoKSxcbiAgICAgIHRoaXMuZ2V0RXhhbXBsZVdpdGhDdXN0b21Db2x1bW5BbmRQcmVkZWZpbmVkRmlsdGVyaW5nKClcbiAgICBdO1xuICB9XG5cbiAgZ2V0RXhhbXBsZVdpdGhTdGFuZGFyZENvbHVtbnMoKSB7XG4gICAgY29uc3QgY29sdW1ucyA9IHRoaXMuZGV2aWNlR3JpZFNlcnZpY2UuZ2V0RGVmYXVsdENvbHVtbnMoKTtcbiAgICByZXR1cm4ge1xuICAgICAgbGFiZWw6ICdTdGFuZGFyZCBjb2x1bW5zJyxcbiAgICAgIGNvbHVtbnNcbiAgICB9O1xuICB9XG5cbiAgZ2V0RXhhbXBsZVdpdGhTdGFuZGFyZENvbHVtbnNBbmRTYXZlZEZpbHRlcmluZ1NvcnRpbmcoKSB7XG4gICAgY29uc3QgY29sdW1ucyA9IHRoaXMuZGV2aWNlR3JpZFNlcnZpY2UuZ2V0RGVmYXVsdENvbHVtbnMoKTtcbiAgICBjb25zdCBuYW1lQ29sdW1uID0gZmluZChjb2x1bW5zLCB7IG5hbWU6ICduYW1lJyB9KTtcbiAgICBuYW1lQ29sdW1uLmV4dGVybmFsRmlsdGVyUXVlcnkgPSB7XG4gICAgICBuYW1lczogWycqVGVtcConXVxuICAgIH07XG4gICAgbmFtZUNvbHVtbi5zb3J0T3JkZXIgPSAnZGVzYyc7XG4gICAgcmV0dXJuIHtcbiAgICAgIGxhYmVsOiAnU3RhbmRhcmQgY29sdW1ucyB3aXRoIHNhdmVkIGZpbHRlcmluZy9zb3J0aW5nJyxcbiAgICAgIGNvbHVtbnNcbiAgICB9O1xuICB9XG5cbiAgZ2V0RXhhbXBsZVdpdGhDdXN0b21Db2x1bW5BbmRQcmVkZWZpbmVkRmlsdGVyaW5nKCkge1xuICAgIGNvbnN0IGNvbHVtbnMgPSB0aGlzLmRldmljZUdyaWRTZXJ2aWNlLmdldERlZmF1bHRDb2x1bW5zKCk7XG4gICAgY29uc3QgdHlwZUNvbHVtbiA9IG5ldyBDdXN0b21EZXZpY2VHcmlkQ29sdW1uKCk7XG4gICAgdHlwZUNvbHVtbi5uYW1lID0gJ3R5cGUnO1xuICAgIHR5cGVDb2x1bW4ucGF0aCA9ICd0eXBlJztcbiAgICB0eXBlQ29sdW1uLmhlYWRlciA9IGdldHRleHQoJ1R5cGUnKTtcbiAgICB0eXBlQ29sdW1uLmV4dGVybmFsRmlsdGVyUXVlcnkgPSB7XG4gICAgICBlcXVhbHM6IFsnYzh5X01RVFREZXZpY2UnXVxuICAgIH07XG4gICAgY29sdW1ucy5zcGxpY2UoMiwgMCwgdHlwZUNvbHVtbik7XG4gICAgcmV0dXJuIHtcbiAgICAgIGxhYmVsOiAnU3RhbmRhcmQgY29sdW1ucyB3aXRoIGN1c3RvbSBvbmUgd2l0aCBwcmVkZWZpbmVkIGZpbHRlcmluZycsXG4gICAgICBjb2x1bW5zXG4gICAgfTtcbiAgfVxuXG4gIG9uRXhhbXBsZVNlbGVjdChleGFtcGxlKSB7XG4gICAgdGhpcy5jb2x1bW5zSW5wdXQgPSBleGFtcGxlLmNvbHVtbnM7XG4gIH1cbn1cbiJdfQ==