{"version":3,"file":"c8y-ngx-components.js","sources":["ng://@c8y/ngx-components/core/common/extension-hooks.ts","ng://@c8y/ngx-components/core/common/state-service.abstract.ts","ng://@c8y/ngx-components/core/action-bar/action-bar.service.ts","ng://@c8y/ngx-components/core/action/action.service.ts","ng://@c8y/ngx-components/core/i18n/gettext.ts","ng://@c8y/ngx-components/core/alert/alert.service.ts","ng://@c8y/ngx-components/core/common/ApplicationOptions.ts","ng://@c8y/ngx-components/core/common/options.service.ts","ng://@c8y/ngx-components/core/common/ui-state.service.ts","ng://@c8y/ngx-components/core/navigator/navigator-node.ts","ng://@c8y/ngx-components/core/navigator/navigator-node-root.ts","ng://@c8y/ngx-components/core/navigator/navigator.service.ts","ng://@c8y/ngx-components/core/header/header.service.ts","ng://@c8y/ngx-components/core/tabs/tabs.service.ts","ng://@c8y/ngx-components/core/bootstrap/bootstrap.component.ts","ng://@c8y/ngx-components/core/breadcrumb/breadcrumb.service.ts","ng://@c8y/ngx-components/core/i18n/languages.ts","ng://@c8y/ngx-components/core/i18n/locale.path.ts","ng://@c8y/ngx-components/core/i18n/patterns-message.hook.ts","ng://@c8y/ngx-components/core/i18n/pattern-messages.service.ts","ng://@c8y/ngx-components/core/i18n/missing-translation-custom.handler.ts","ng://@c8y/ngx-components/core/i18n/pattern-messages.data.ts","ng://@c8y/ngx-components/core/i18n/translate.loader.ts","ng://@c8y/ngx-components/core/i18n/translate.parser.ts","ng://@c8y/ngx-components/core/i18n/i18n.module.ts","ng://@c8y/ngx-components/core/i18n/import-locales.ts","ng://@c8y/ngx-components/core/i18n/parse-module.ts","ng://@c8y/ngx-components/core/i18n/load-locale.ts","ng://@c8y/ngx-components/core/i18n/translate.service.ts","ng://@c8y/ngx-components/core/common/date.pipe.ts","ng://@c8y/ngx-components/core/common/load-more.component.ts","ng://@c8y/ngx-components/core/common/forOf.directive.ts","ng://@c8y/ngx-components/core/common/humanize-app-name.pipe.ts","ng://@c8y/ngx-components/core/common/humanize.pipe.ts","ng://@c8y/ngx-components/core/common/icon.directive.ts","ng://@c8y/ngx-components/core/common/map-function.pipe.ts","ng://@c8y/ngx-components/core/common/outlet.directive.ts","ng://@c8y/ngx-components/core/common/progress-bar.component.ts","ng://@c8y/ngx-components/core/common/shorten-user-name.pipe.ts","ng://@c8y/ngx-components/core/common/status.model.ts","ng://@c8y/ngx-components/core/common/single-operation.component.ts","ng://@c8y/ngx-components/core/common/user-preferences/user-preferences-storage-local.ts","ng://@c8y/ngx-components/core/common/user-preferences/user-preferences-store-inventory.ts","ng://@c8y/ngx-components/core/common/user-preferences/user-preferences.service.ts","ng://@c8y/ngx-components/core/common/common.module.ts","ng://@c8y/ngx-components/core/common/memoize.decorator.ts","ng://@c8y/ngx-components/core/action-bar/action-bar-item.component.ts","ng://@c8y/ngx-components/core/action-bar/action-bar.component.ts","ng://@c8y/ngx-components/core/action-bar/action-bar.module.ts","ng://@c8y/ngx-components/core/action/action-outlet.component.ts","ng://@c8y/ngx-components/core/action/action.component.ts","ng://@c8y/ngx-components/core/action/action.module.ts","ng://@c8y/ngx-components/core/alert/alert-details.component.ts","ng://@c8y/ngx-components/core/alert/alert-outlet.component.ts","ng://@c8y/ngx-components/core/alert/alert-text.component.ts","ng://@c8y/ngx-components/core/alert/alert.component.ts","ng://@c8y/ngx-components/core/alert/alert.module.ts","ng://@c8y/ngx-components/core/audit-log/audit-log.component.ts","ng://@c8y/ngx-components/core/audit-log/audit-log.module.ts","ng://@c8y/ngx-components/core/login/login.model.ts","ng://@c8y/ngx-components/core/login/login.service.ts","ng://@c8y/ngx-components/core/authentication/password-confirm-modal.component.ts","ng://@c8y/ngx-components/core/authentication/password.service.ts","ng://@c8y/ngx-components/core/authentication/password-check-list.component.ts","ng://@c8y/ngx-components/core/authentication/password-confirm.directive.ts","ng://@c8y/ngx-components/core/authentication/password-strength-checker.service.ts","ng://@c8y/ngx-components/core/authentication/password-strength.component.ts","ng://@c8y/ngx-components/core/authentication/new-password.component.ts","ng://@c8y/ngx-components/core/modal/modal-confirm.component.ts","ng://@c8y/ngx-components/core/modal/modal.component.ts","ng://@c8y/ngx-components/core/modal/modal.service.ts","ng://@c8y/ngx-components/core/modal/popover-confirm.component.ts","ng://@c8y/ngx-components/core/modal/modal.module.ts","ng://@c8y/ngx-components/core/forms/phone-validation.directive.ts","ng://@c8y/ngx-components/core/forms/validation-pattern.ts","ng://@c8y/ngx-components/core/forms/default-validation.directive.ts","ng://@c8y/ngx-components/core/forms/min-validation.directive.ts","ng://@c8y/ngx-components/core/forms/max-validation.directive.ts","ng://@c8y/ngx-components/core/forms/message.directive.ts","ng://@c8y/ngx-components/core/forms/messages.component.ts","ng://@c8y/ngx-components/core/forms/form-group.component.ts","ng://@c8y/ngx-components/core/forms/input-group-list.component.ts","ng://@c8y/ngx-components/core/forms/input-group-list-container.directive.ts","ng://@c8y/ngx-components/core/forms/json-validation-prettifier.directive.ts","ng://@c8y/ngx-components/core/forms/text-area-row-height.directive.ts","ng://@c8y/ngx-components/core/forms/required-input-placeholder.directive.ts","ng://@c8y/ngx-components/core/forms/ip-range-input-list.component.ts","ng://@c8y/ngx-components/core/forms/filter-input.component.ts","ng://@c8y/ngx-components/core/forms/forms.module.ts","ng://@c8y/ngx-components/core/authentication/totp-challenge.component.ts","ng://@c8y/ngx-components/core/authentication/sms-challenge.component.ts","ng://@c8y/ngx-components/core/authentication/totp-setup.component.ts","ng://@c8y/ngx-components/core/authentication/provide-phone-number.component.ts","ng://@c8y/ngx-components/core/authentication/authentication.module.ts","ng://@c8y/ngx-components/core/breadcrumb/breadcrumb-item.component.ts","ng://@c8y/ngx-components/core/breadcrumb/breadcrumb-outlet.component.ts","ng://@c8y/ngx-components/core/breadcrumb/breadcrumb.component.ts","ng://@c8y/ngx-components/core/breadcrumb/breadcrumb.module.ts","ng://@c8y/ngx-components/core/search/search-outlet.component.ts","ng://@c8y/ngx-components/core/search/search.service.ts","ng://@c8y/ngx-components/core/search/search.component.ts","ng://@c8y/ngx-components/core/search/highlight.component.ts","ng://@c8y/ngx-components/core/search/search-result-empty.component.ts","ng://@c8y/ngx-components/core/search/search.module.ts","ng://@c8y/ngx-components/core/user/user-menu.service.ts","ng://@c8y/ngx-components/core/user/user-menu-item.component.ts","ng://@c8y/ngx-components/core/user/user-edit-modal.component.ts","ng://@c8y/ngx-components/core/user/user-totp-setup.component.ts","ng://@c8y/ngx-components/core/user/user-edit.component.ts","ng://@c8y/ngx-components/core/user/user-menu-outlet.component.ts","ng://@c8y/ngx-components/core/user/user-totp-revoke.component.ts","ng://@c8y/ngx-components/core/user/user.module.ts","ng://@c8y/ngx-components/core/header/application/app-icon.component.ts","ng://@c8y/ngx-components/core/header/application/app-switcher.component.ts","ng://@c8y/ngx-components/core/docs/defaults.items.ts","ng://@c8y/ngx-components/core/docs/docs.models.ts","ng://@c8y/ngx-components/core/docs/docs.service.ts","ng://@c8y/ngx-components/core/header/header-bar/header-bar.component.ts","ng://@c8y/ngx-components/core/header/title/title-outlet.component.ts","ng://@c8y/ngx-components/core/header/title/title.component.ts","ng://@c8y/ngx-components/core/navigator/navigator-entry.component.ts","ng://@c8y/ngx-components/core/navigator/navigator-icon.component.ts","ng://@c8y/ngx-components/core/navigator/navigator-node.component.ts","ng://@c8y/ngx-components/core/navigator/navigator-outlet.component.ts","ng://@c8y/ngx-components/core/navigator/navigator.module.ts","ng://@c8y/ngx-components/core/header/right-drawer/right-drawer.component.ts","ng://@c8y/ngx-components/core/header/header.module.ts","ng://@c8y/ngx-components/core/login/change-password.component.ts","ng://@c8y/ngx-components/core/login/credentials.component.ts","ng://@c8y/ngx-components/core/login/login.component.ts","ng://@c8y/ngx-components/core/login/recover-password.component.ts","ng://@c8y/ngx-components/core/login/totp-auth.component.ts","ng://@c8y/ngx-components/core/login/login.module.ts","ng://@c8y/ngx-components/core/tabs/tab.component.ts","ng://@c8y/ngx-components/core/tabs/tabs-outlet.component.ts","ng://@c8y/ngx-components/core/tabs/tabs.module.ts","ng://@c8y/ngx-components/core/bootstrap/cookie-banner/cookie-banner.component.ts","ng://@c8y/ngx-components/core/bootstrap/bootstrap.module.ts","ng://@c8y/ngx-components/core/dynamic-component/dynamic-component.model.ts","ng://@c8y/ngx-components/core/dynamic-component/dynamic-component.service.ts","ng://@c8y/ngx-components/core/dynamic-component/dynamic-component.component.ts","ng://@c8y/ngx-components/core/dynamic-component/dynamic-component.module.ts","ng://@c8y/ngx-components/core/dashboard/dashboard-child-action.component.ts","ng://@c8y/ngx-components/core/dashboard/dashboard-child-title.component.ts","ng://@c8y/ngx-components/core/dashboard/dashboard.component.ts","ng://@c8y/ngx-components/core/dashboard/dashboard-child-change.ts","ng://@c8y/ngx-components/core/dashboard/dashboard-child.component.ts","ng://@c8y/ngx-components/core/dashboard/widgets-dashboard.component.ts","ng://@c8y/ngx-components/core/docs/guide-href.directive.ts","ng://@c8y/ngx-components/core/docs/guide-docs.component.ts","ng://@c8y/ngx-components/core/docs/docs.module.ts","ng://@c8y/ngx-components/core/dashboard/dashboard.module.ts","ng://@c8y/ngx-components/core/data-grid/column/cell-renderer.ts","ng://@c8y/ngx-components/core/data-grid/column/filtering-form-renderer.ts","ng://@c8y/ngx-components/core/data-grid/column/column.directive.ts","ng://@c8y/ngx-components/core/data-grid/data-grid.model.ts","ng://@c8y/ngx-components/core/data-grid/grid-data-source.ts","ng://@c8y/ngx-components/core/data-grid/data-grid.component.ts","ng://@c8y/ngx-components/core/data-grid/column/cell-renderer.component.ts","ng://@c8y/ngx-components/core/data-grid/column/filtering-form-renderer.component.ts","ng://@c8y/ngx-components/core/data-grid/data-grid.module.ts","ng://@c8y/ngx-components/core/device-status/device-availability.ts","ng://@c8y/ngx-components/core/device-status/device-status.component.ts","ng://@c8y/ngx-components/core/device-status/device-status.module.ts","ng://@c8y/ngx-components/core/drop-area/drop-area.component.ts","ng://@c8y/ngx-components/core/drop-area/drop-area.module.ts","ng://@c8y/ngx-components/core/file-picker/file-picker.component.ts","ng://@c8y/ngx-components/core/file-picker/file-picker.module.ts","ng://@c8y/ngx-components/core/list-group/list-group.component.ts","ng://@c8y/ngx-components/core/list-group/list-item-action.component.ts","ng://@c8y/ngx-components/core/list-group/list-item-collapse.component.ts","ng://@c8y/ngx-components/core/list-group/list-item-footer.component.ts","ng://@c8y/ngx-components/core/list-group/list-item.component.ts","ng://@c8y/ngx-components/core/list-group/list-item-icon.component.ts","ng://@c8y/ngx-components/core/list-group/list-item-body.component.ts","ng://@c8y/ngx-components/core/list-group/list-item-checkbox.component.ts","ng://@c8y/ngx-components/core/list-group/list-item-radio.component.ts","ng://@c8y/ngx-components/core/list-group/list-group.module.ts","ng://@c8y/ngx-components/core/realtime/realtime-button.component.ts","ng://@c8y/ngx-components/core/realtime/realtime.module.ts","ng://@c8y/ngx-components/core/select-modal/select-modal.model.ts","ng://@c8y/ngx-components/core/select-modal/select-modal.component.ts","ng://@c8y/ngx-components/core/select-modal/select-modal-filter.pipe.ts","ng://@c8y/ngx-components/core/select-modal/select-modal.module.ts","ng://@c8y/ngx-components/core/select/select.component.ts","ng://@c8y/ngx-components/core/select/typeahead.component.ts","ng://@c8y/ngx-components/core/select/select.module.ts","ng://@c8y/ngx-components/core/stepper/stepper-icon.directive.ts","ng://@c8y/ngx-components/core/stepper/stepper.component.ts","ng://@c8y/ngx-components/core/stepper/stepper-progress.component.ts","ng://@c8y/ngx-components/core/stepper/stepper-buttons.component.ts","ng://@c8y/ngx-components/core/stepper/stepper.module.ts","ng://@c8y/ngx-components/core/date-picker/date-picker.component.ts","ng://@c8y/ngx-components/core/date-picker/date-picker.module.ts","ng://@c8y/ngx-components/core/core.module.ts","ng://@c8y/ngx-components/core/router/router-tabs.resolver.ts","ng://@c8y/ngx-components/core/router/router.models.ts","ng://@c8y/ngx-components/core/router/view-context.service.ts","ng://@c8y/ngx-components/core/router/context-route.service.ts","ng://@c8y/ngx-components/core/router/router.service.ts","ng://@c8y/ngx-components/core/router/context-route.component.ts","ng://@c8y/ngx-components/api/api.service.ts","ng://@c8y/ngx-components/api/data.module.ts","ng://@c8y/ngx-components/core/router/context-route.guard.ts","ng://@c8y/ngx-components/core/router/empty.component.ts","ng://@c8y/ngx-components/core/router/router.module.ts","ng://@c8y/ngx-components/core/quicklink/quick-link.component.ts","ng://@c8y/ngx-components/core/quicklink/quick-link.module.ts","ng://@c8y/ngx-components/core/realtime/realtime.service.ts","ng://@c8y/ngx-components/core/realtime/operation-bulk-realtime.service.ts","ng://@c8y/ngx-components/core/realtime/realtime.model.ts","ng://@c8y/ngx-components/index.ts","ng://@c8y/ngx-components/c8y-ngx-components.ts"],"sourcesContent":["import { ActivatedRoute, NavigationEnd, Router } from '@angular/router';\nimport { flatten, isFunction, sortBy } from 'lodash-es';\nimport { combineLatest, defer, from, isObservable, Observable, of, race } from 'rxjs';\nimport { filter, map, merge, startWith, switchMap } from 'rxjs/operators';\n\nexport function fromTrigger(router, refresh, factories) {\n  return router.events.pipe(\n    filter(evt => evt instanceof NavigationEnd),\n    merge(refresh),\n    startWith(1),\n    switchMap(() => fromFactories(factories, router))\n  );\n}\nexport function fromFactories<T>(\n  factories?,\n  router?: Router,\n  withFirstEmpty = true\n): Observable<T[]> {\n  return !Array.isArray(factories) || factories.length < 1\n    ? of([])\n    : defer(() => {\n        const factoryObservables = resolveInjectedFactories(factories).map(f => {\n          return toObservable(\n            Array.isArray(f) ? f : f && isFunction(f.get) ? f.get(getActivatedRoute(router)) : [f],\n            withFirstEmpty\n          );\n        });\n        return combineLatest(...factoryObservables);\n      }).pipe(map(results => sortByPriority([].concat(...results))));\n}\n\nexport function resolveInjectedFactories(factories) {\n  return flatten(factories.map(f => (isFunction(f) ? f() : [f])));\n}\n\nexport function stateToFactory<T>(componentsState): ExtensionFactory<T> {\n  const components$ = componentsState.pipe(map((componentSet: Set<T>) => Array.from(componentSet)));\n  return { get: () => components$ };\n}\n\nexport function sortByPriority(items) {\n  return sortBy(items, 'priority');\n}\n\nfunction toObservable(factoryResult, withFirstEmpty) {\n  let observable;\n  if (!factoryResult) {\n    return of([]);\n  } else if (typeof factoryResult.then === 'function' || isObservable(factoryResult)) {\n    if (withFirstEmpty) {\n      const forceObservable = from(factoryResult);\n      const withEmptyFirst = forceObservable.pipe(startWith([]));\n      observable = race(forceObservable, withEmptyFirst);\n    } else {\n      observable = from(factoryResult);\n    }\n  } else {\n    observable = of(factoryResult);\n  }\n  return observable.pipe(\n    map(result => (Array.isArray(result) ? result : [result]).filter(item => !!item))\n  );\n}\n\n/**\n * Allows to extend the existing applications from a module.\n */\nexport interface ExtensionFactory<T> {\n  /**\n   * Allows to resolve the data of an extension point.\n   * The return value can be a Promise or Observable\n   * (allowing for asynchronous data resolution).\n   *\n   * @param activatedRoute The current activated route (if possible to resolve).\n   */\n  get(activatedRoute?: ActivatedRoute): Observable<T[] | T> | Promise<T[] | T> | T[] | T;\n}\n\n/**\n * Extension points allow to extend the application from\n * any module\n */\nexport interface ExtensionPoint<T> {\n  /**\n   * Observable that emits of array of extensions active at any give time\n   */\n  readonly items$: Observable<T[]>;\n  /**\n   * Call the extension factories to refresh them.\n   */\n  refresh();\n}\n\n/**\n * Helper function to get the activated route in\n * a service (as ActivatedRoute injection only\n * works in components). Works as long as we only use\n * a tree and no child is active at the same time.\n *\n * @param router The current router\n */\nexport function getActivatedRoute(router: Router) {\n  if (router && router.routerState && router.routerState.root) {\n    let route = router.routerState.root;\n    while (route.firstChild) {\n      route = route.firstChild;\n    }\n    return route;\n  }\n}\n","import { Observable, BehaviorSubject } from 'rxjs';\nimport { distinctUntilChanged, map } from 'rxjs/operators';\n\n/**\n * A abstract state which should be included in each state.\n * @abstract\n */\nexport abstract class StateService {\n  /**\n   * Saves the state. Should not be accessible directly. Use map or the getter to access\n   * the state. Use functions in the implementation to change the state.\n   */\n  protected abstract state$: BehaviorSubject<any> | any;\n\n  /**\n   * Should return the current state of this StateService\n   */\n  abstract get state();\n\n  /**\n   * Maps to a property and just returns that property.\n   * @param mappedProperty The property to map to.\n   */\n  map(mappedProperty: (stateProperty) => any): Observable<any> {\n    return this.state$.pipe(map(mappedProperty), distinctUntilChanged());\n  }\n\n  /**\n   * Emits a new state.\n   */\n  protected emitNewState() {\n    this.state$.next(this.state);\n  }\n}\n","import { Injectable, InjectionToken, Injector } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { BehaviorSubject, Observable, Subject } from 'rxjs';\nimport { map, shareReplay } from 'rxjs/operators';\nimport {\n  ExtensionPoint,\n  fromTrigger,\n  sortByPriority,\n  stateToFactory\n} from '../common/extension-hooks';\nimport { StateService } from '../common/state-service.abstract';\nimport { ActionBarItem } from './action-bar.model';\n\n/**\n * A hook to use for Multi Provider extension.\n */\nexport const HOOK_ACTION_BAR = new InjectionToken('ActionBarFactory');\n\n/**\n * A service which defines action-bar items.\n */\n@Injectable({\n  providedIn: 'root'\n})\nexport class ActionBarService extends StateService implements ExtensionPoint<ActionBarItem> {\n  items$: Observable<ActionBarItem[]>;\n  readonly refreshTrigger = new Subject();\n  protected state$ = new BehaviorSubject<Set<ActionBarItem>>(new Set<ActionBarItem>());\n\n  constructor(private injector: Injector, router: Router) {\n    super();\n    this.items$ = fromTrigger(router, this.refreshTrigger, [\n      () => this.injector.get(HOOK_ACTION_BAR, []),\n      stateToFactory(this.state$)\n    ]).pipe(\n      map((items: ActionBarItem[]) => sortByPriority(items)),\n      shareReplay(1)\n    );\n  }\n\n  /**\n   * Returns the current state.\n   * @readonly\n   * @returns The current set of actions.\n   */\n  get state(): Set<ActionBarItem> {\n    return this.state$.value;\n  }\n\n  refresh() {\n    this.refreshTrigger.next();\n  }\n\n  /**\n   * Adds a new item to the action bar in the header and emits a state change.\n   * @param item The item to add.\n   */\n  add(item: ActionBarItem) {\n    this.state.add(item);\n    this.emitNewState();\n  }\n\n  /**\n   * Removes an action bar item from the header and emits a state change.\n   * @param item The item to remove.\n   */\n  remove(item: ActionBarItem) {\n    this.state.delete(item);\n    this.emitNewState();\n  }\n}\n","import { Injector, Injectable, InjectionToken } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { BehaviorSubject, Observable, Subject } from 'rxjs';\nimport { StateService } from '../common/state-service.abstract';\nimport { Action, ActionFactory } from './action.model';\nimport {\n  fromTrigger,\n  ExtensionPoint,\n  stateToFactory,\n  sortByPriority\n} from '../common/extension-hooks';\nimport { map, shareReplay } from 'rxjs/operators';\n\n/**\n * A hook to use for Multi Provider extension.\n */\nexport const HOOK_ACTION = new InjectionToken('ActionFactory');\n\n/**\n * A service which defines global actions.\n */\n@Injectable({\n  providedIn: 'root'\n})\nexport class ActionService extends StateService implements ExtensionPoint<Action> {\n  items$: Observable<Action[]>;\n  readonly refreshTrigger = new Subject();\n  readonly state$ = new BehaviorSubject<Set<Action>>(new Set<Action>());\n\n  constructor(private injector: Injector, router: Router) {\n    super();\n    this.items$ = fromTrigger(router, this.refreshTrigger, [\n      () => this.injector.get(HOOK_ACTION, []),\n      stateToFactory(this.state$)\n    ]).pipe(\n      map((items: Action[]) => sortByPriority(items)),\n      shareReplay(1)\n    );\n  }\n\n  /**\n   * Refresh the extension factories\n   */\n  refresh() {\n    this.refreshTrigger.next(1);\n  }\n\n  /**\n   * Returns the current state.\n   * @readonly\n   * @returns The current set of actions.\n   */\n  get state(): Set<Action> {\n    return this.state$.value;\n  }\n\n  /**\n   * Adds a new item to the actions in the header and emits a state change.\n   * @param item The item to add.\n   */\n  add(item: Action) {\n    this.state.add(item);\n    this.emitNewState();\n  }\n\n  /**\n   * Removes an action from the header and emits a state change.\n   * @param item The item to remove.\n   */\n  remove(item: Action) {\n    this.state.delete(item);\n    this.emitNewState();\n  }\n}\n","// Just for translation annotation\n// Note: Own file because of conflicts if put in barrel directly.\nexport const _ = (str) => str;\nexport function gettext(str) {\n          return str;\n}\n","import { Alert } from './alert.model';\nimport { BehaviorSubject } from 'rxjs';\nimport { Injectable } from '@angular/core';\nimport { StateService } from '../common/state-service.abstract';\nimport { gettext } from '../i18n/gettext';\n\ntype alertType = 'success' | 'warning' | 'danger' | 'info' | 'system';\n/**\n * A service which allows to display alerts.\n */\n@Injectable({\n  providedIn: 'root'\n})\nexport class AlertService extends StateService {\n  /**\n   * Returns all alerts.\n   * @readonly\n   */\n  get state() {\n    return this.state$.value;\n  }\n  state$ = new BehaviorSubject<Alert[]>([]);\n\n  private MAX_ALERTS = 3;\n  private ALERT_TIMEOUT = 3000;\n\n  /**\n   * Adds a new alert to the current state.\n   */\n  add(alert: Alert) {\n    this.addAlert(alert);\n  }\n\n  /**\n   * Adds a alert by text.\n   */\n  addByText(type: alertType, txt: string, detailedData?: string): void {\n    this.addAlert({ text: txt, type, detailedData });\n  }\n\n  /**\n   * Returns all alerts.\n   * @deprecated Use alertService.alerts instead.\n   */\n  list(): Alert[] {\n    return this.state;\n  }\n\n  /**\n   * Remove an alert from the current state.\n   */\n  remove(alert: Alert) {\n    this.changeAlerts(this.state.filter(item => !this.areSame(alert, item)));\n  }\n\n  /**\n   * Updates matching alert with provided values.\n   */\n  update(alert: Alert, fieldsToUpdate: Partial<Alert>) {\n    this.changeAlerts(\n      this.state.map(item => {\n        if (this.areSame(alert, item)) {\n          Object.assign(item, fieldsToUpdate);\n        }\n        return item;\n      })\n    );\n  }\n\n  /**\n   * Removes last danger alert. Replacement for silentError.\n   *\n   * @example\n   * ```typescript\n   *  try {\n   *    // something that might throw a danger server msg\n   *  } catch (ex) {\n   *   this.alarmService.removeLastDanger();\n   *  }\n   * ```\n   */\n  removeLastDanger() {\n    const firstDangerAlarm = this.state.reverse().find(({ type }) => type === 'danger');\n    this.changeAlerts(this.state.filter(alarm => alarm !== firstDangerAlarm));\n  }\n\n  /**\n   * Shorthand for a save successful alert.\n   * @param savedObject The object which was saved.\n   * @return A function that can be executed to show the msg.\n   */\n  saveSuccess(savedObject: string) {\n    return () => {\n      const text = `${savedObject} saved successfully`;\n      this.addByText('success', text);\n    };\n  }\n\n  /**\n   * Shorthand for a create successful alert.\n   * @param createdObject The object which was created.\n   * @return A function that can be executed to show the msg.\n   */\n  createSuccess(createdObject) {\n    return () => {\n      const text = `${createdObject} created successfully`;\n      this.addByText('success', text);\n    };\n  }\n\n  /**\n   * Clears all alerts.\n   */\n  clearAll() {\n    this.changeAlerts([]);\n  }\n\n  /**\n   * A shorthand to display a simple success message.\n   * @param text The success text.\n   * @param detailedData The text with additional information.\n   */\n  success(text: string, detailedData?: string) {\n    this.addByText('success', text, detailedData);\n  }\n\n  /**\n   * A shorthand to display a simple danger message.\n   * @param text The danger text.\n   * @param detailedData The text with additional information.\n   */\n  danger(text: string, detailedData?: string) {\n    this.addByText('danger', text, detailedData);\n  }\n\n  /**\n   * A shorthand to display a simple info message.\n   * @param text The info text.\n   * @param detailedData The text with additional information.\n   */\n  info(text: string, detailedData?: string) {\n    this.addByText('info', text, detailedData);\n  }\n\n  /**\n   * A shorthand to display a simple warning message.\n   * @param text The warning text.\n   * @param detailedData The text with additional information.\n   */\n  warning(text: string, detailedData?: string) {\n    this.addByText('warning', text, detailedData);\n  }\n\n  addServerFailure(error: any, type: alertType = 'danger') {\n    const { data, res } = error;\n    let text = data && data.message ? data.message : null;\n    let detailedData;\n    if (data) {\n      if (typeof data === 'object') {\n        detailedData = data.exceptionMessage;\n      } else if (typeof data === 'string') {\n        detailedData = data;\n      }\n    }\n    const hasRelevantMessage = !!(text || detailedData);\n    if (!text) {\n      text = gettext('A server error occurred.');\n    }\n    if (!hasRelevantMessage) {\n      detailedData = {\n        status: res.status,\n        statusText: res.statusText,\n        url: res.url\n      };\n    }\n\n    this.addAlert({\n      type,\n      text,\n      detailedData\n    });\n  }\n\n  areSame(alert1: Alert, alert2: Alert) {\n    return (\n      alert1.text === alert2.text &&\n      alert1.type === alert2.type &&\n      alert1.detailedData === alert2.detailedData &&\n      alert1.onClose === alert2.onClose &&\n      alert1.onDetail === alert2.onDetail\n    );\n  }\n\n  private changeAlerts(newAlerts: Alert[]) {\n    this.state$.next(newAlerts);\n  }\n\n  private addAlert(alert: Alert): void {\n    if (!alert.text && !alert.type) {\n      throw new Error('Cannot add empty alert');\n    }\n\n    const alertAlreadyAdded = this.state.find(item => this.areSame(alert, item));\n    if (alertAlreadyAdded) {\n      return;\n    }\n\n    this.changeAlerts([...this.state, alert]);\n    this.hideAutomaticallyIfNeeded(alert);\n    this.removeOldestIfMax();\n  }\n\n  private hideAutomaticallyIfNeeded(alert: Alert) {\n    const isSuccess = alert.type === 'success';\n    const noDetails = !alert.detailedData;\n    let alertTimeout = isSuccess && noDetails ? this.ALERT_TIMEOUT : 0;\n    if (typeof alert.timeout !== 'undefined') {\n      alertTimeout = alert.timeout;\n    }\n    if (alertTimeout) {\n      setTimeout(() => this.remove(alert), alertTimeout);\n    }\n  }\n\n  private removeOldestIfMax() {\n    if (this.state.length > this.MAX_ALERTS) {\n      const [, ...firstRemoved] = this.state;\n      this.changeAlerts(firstRemoved);\n    }\n  }\n}\n","/*\n * -----------------------------WARNING---------------------------------\n * This file has an *exact* copy in packages/cli/src/webpack.\n * Any changes to this file must be reflected there, too.\n */\nexport class ApplicationOptions {\n  /** Application name (saved to the server). */\n  name: string;\n  /** Application context path (saved to the server). */\n  contextPath: string;\n  /** Application key (saved to the server). */\n  key: string;\n  /** Set to `true` if the application is hybrid and uses Angular and AngularJS simultaneously. */\n  upgrade?: boolean;\n  /** Path to the branding entry file. */\n  brandingEntry?: string;\n  /** Path to tsccnfig.json file if TypeScript is used (default: ./tsconfig.json). */\n  tsConfigPath?: string;\n  /** Entry module for Angular compiler (only used with lazy loaded routes), e.g. `'app.module.ts#AppModule'`. */\n  entryModule?: string;\n  /** Path to custom index.html (otherwise default one will be used). */\n  indexTemplate?: string;\n  /** URL to dynamically fetched options. */\n  dynamicOptionsUrl?: string;\n  /** URL to favicon. */\n  faviconUrl?: string;\n  /** URL to *.css file which will replace default branding. */\n  brandingUrl?: string;\n  /** Object with properties that will be converted to CSS custom variables. */\n  brandingCssVars?: {\n    [key: string]: string;\n  };\n  /**\n   * Allows for adding or overriding languages available in the application.\n   *\n   * Its keys are language codes and its values are objects with the following properties:\n   *\n   * - `name`: English name of the language,\n   * - `nativeName`: native name of the language,\n   * - `url`: full URL to JSON file with compiled translations;\n   *    if not defined, translations will be loaded from `${localePath}/${langCode}.json`.\n   *\n   * Example:\n   * ```json\n   * \"languages\": {\n   *   \"de\": {\n   *     \"name\": \"German\",\n   *     \"nativeName\": \"Deutsch\",\n   *     \"url\": \"/apps/public/ui-assets/de.json\"\n   *   }\n   * }\n   * ```\n   */\n  languages?: {\n    [langCode: string]: {\n      name: string;\n      nativeName: string;\n      url: string;\n    };\n  };\n  /**\n   * Allows for adding custom translations. It is an optional property.\n   *\n   * Its keys are language codes (https://cumulocity.com/guides/users-guide/getting-started/#a-name-languages-a-available-languages)\n   * and its values are objects with key-value pairs, where the key is the original string in English and the value - its translation.\n   *\n   * - `Home`: \"Startseite\"\n   *\n   * For example you can add the translation of your custom cookie banner configured in the branding settings:\n   * ```json\n   * \"i18nExtra\": {\n   *   \"de\": {\n   *     \"About cookies on Cumulocity IoT\": \"Informationen zu Cookies in Cumulocity IoT\",\n   *     \"Click Agree and Proceed to accept cookies and go directly to the platform or click on Privacy Policy to see detailed descriptions of the used cookies.\": \"Klicken Sie auf Zustimmen und fortfahren, um Cookies zu akzeptieren und direkt zur Plattform zu gelangen, oder klicken Sie auf Datenschutzrichtlinie, um detaillierte Beschreibungen der verwendeten Cookies anzuzeigen.\"\n   *   }\n   * }\n   * ```\n   */\n  i18nExtra?: {\n    [langCode: string]: {\n      [key: string]: string;\n    };\n  };\n  /** Path to the folder from which *.po files will be loaded. */\n  localePath?: string;\n  /** Array of URLs to additional *.css files to be loaded at runtime. */\n  extraCssUrls?: string[];\n  /** Documentation links settings. */\n  docs?: {\n    /** Hide default links to documentation. */\n    noDefault: boolean;\n    /** List of regex strings. Matching default docs URLs will be hidden. */\n    excludeDefault: string[];\n    /** Additional links to be displayed. */\n    links: Array<{\n      /** Icon classes with `c8y-icon`, e.g. `c8y-icon c8y-icon-add-user` or `c8y-icon c8y-icon-device-connect`. */\n      icon: string;\n      label: string;\n      url: string;\n      type: 'doc' | 'quicklink';\n    }>;\n  };\n  /** Application icon to be displayed in app switcher and header bar. */\n  icon?: {\n    class?: string;\n    url?: string;\n  };\n\n  // These are the old options\n  /** Hide application in app switcher (saved to the server). */\n  noAppSwitcher?: boolean;\n  /** HTML page title. */\n  globalTitle?: string;\n  /** Hide \"powered by\" and version info at the bottom of the navigator and in the user menu. */\n  hidePowered?: boolean;\n  /** URL to support page (set to `false` to hide the link). */\n  supportUrl?: boolean | string;\n  /**\n   * Replacement string for `user` field in audit logs for actions performed by a support user\n   * (available placeholders: `{{support_user}}`, `{{supported_user}}`).\n   */\n  supportUserString?: string;\n  /** Enable or disable the right drawer. */\n  rightDrawer?: boolean;\n  /** Enable or disable breadcrumbs in the header for groups and devices (default: false). */\n  breadcrumbs?: boolean;\n  /** Collapse navigator on initial load. */\n  hideNavigator?: boolean;\n  /** Show tabs horizontally or vertically. */\n  tabsHorizontal?: boolean;\n  /** Additional link to display on login screen. */\n  loginExtraLink?: {\n    url: string;\n    label: string;\n  };\n  /** Enable or disable storage limitation feature. */\n  storageLimitationFeatureEnabled?: boolean;\n  /** Name of company handling support requests from app users (displayed in notification message). */\n  companyName?: string;\n  /** URL template for documentation links (default: `'${docsBaseUrl}${partialUrl}'`). */\n  guideHrefTemplate?: string;\n  /** Base URL for documentation links. */\n  docsBaseUrl?: string;\n  /** CSP string to be added to `index.html`. */\n  contentSecurityPolicy?: string;\n  /** Enables cloud sensor wizard */\n  sensorPhone?: boolean;\n  /** Legacy list of imported plugins. */\n  imports?: string[];\n  /** Show or hide a newsletter subscription checkbox in edit user modal. */\n  newsletter?: boolean;\n  /** Indicates whether the entry point is traversed from legacy cumulocity*.json app manifest. */\n  legacy?: boolean;\n  /** Path to the root node_modules dir (useful when working in monorepo setup, e.g. yarn workspaces). */\n  rootNodeModulesPath?: string;\n  /** Cookie Banner configuration */\n  cookieBanner?: {\n    cookieBannerTitle?: string;\n    cookieBannerText?: string;\n    policyUrl?: string;\n  };\n  /** A key for the product experience software Gainsight. */\n  gainsightKey?: string;\n}\n","import { InjectionToken, Optional, Inject, Injectable } from '@angular/core';\nimport { camelCase, isUndefined } from 'lodash-es';\nimport { ApplicationOptions } from './ApplicationOptions';\nimport { ExtensionFactory } from './extension-hooks';\nimport { SystemOptionsService, TenantOptionsService } from '@c8y/ngx-components/api';\n\nexport const HOOK_OPTIONS = new InjectionToken<ExtensionFactory<ApplicationOptions>>('App options');\n\n/**\n * A service that allows to set or get application options\n * which configure the default behavior of the UI.\n */\n@Injectable()\nexport class OptionsService extends ApplicationOptions {\n  [key: string]: any;\n  constructor(\n    @Optional() @Inject(HOOK_OPTIONS) options,\n    private systemOptionsService: SystemOptionsService,\n    private tenantOptionService: TenantOptionsService\n  ) {\n    super();\n    this.setupOptions(options);\n  }\n\n  /**\n   * Returns an application option used to configure the UI.\n   * @param optionKey The application options key.\n   * @param defaultValue A value to return if non is set.\n   */\n  get(optionKey: keyof OptionsService, defaultValue?: any) {\n    let value = this[optionKey];\n    if (typeof value === 'undefined') {\n      value = this[camelCase(optionKey)];\n    }\n    return typeof value !== 'undefined' ? value : defaultValue;\n  }\n\n  /**\n   * Sets an application option.\n   * @param key The key to set.\n   * @param value The value to set.\n   */\n  set(key: string, value: any) {\n    this[camelCase(key)] = value;\n  }\n\n  /**\n   * Gets support url from tenant options.\n   * If response returns '404 not found' it gets the support url from application options.\n   * If the support link within application options is not provided the UI will use the system options.\n   * Is the support link explicitly set to false it will be hidden.\n   * NOTE: The tenant option endpoint returns the system option setting if non is set on the tenant.\n   *\n   * @returns Returns support url or false.\n   */\n  async getSupportUrl() {\n    if (isUndefined(this.supportUrl)) {\n      this.supportUrl = await this.getTenantOption('configuration', 'system.support.url');\n    }\n    return isUndefined(this.supportUrl) ? false : this.supportUrl;\n  }\n\n  /**\n   * Returns if the tenant allows to show the activate-support user menu entry.\n   * Note: Only if system-level support-user/enabled is false we can activate it at tenant level.\n   */\n  async getActivateSupportUser() {\n    const option = await this.getSystemOption('support-user', 'enabled', true);\n    return !option;\n  }\n\n  /**\n   * Gets a value from the system service and parses it.\n   *\n   * @param category The category for this option.\n   * @param key The key for that option.\n   * @param defaultValue The default if the option was not found.\n   */\n  async getSystemOption(category: string, key: string, defaultValue?: any) {\n    return this.getOptionFromService(category, key, this.systemOptionsService, defaultValue);\n  }\n\n  /**\n   * Gets a value from the tenant service and parses it.\n   *\n   * @param category The category for this option.\n   * @param key The key for that option.\n   * @param defaultValue The default if the option was not found.\n   */\n  async getTenantOption(category: string, key: string, defaultValue?: any) {\n    return this.getOptionFromService(category, key, this.tenantOptionService, defaultValue);\n  }\n\n  private setupOptions(options: any[] | null) {\n    if (options) {\n      if (!Array.isArray(options)) {\n        options = [options];\n      }\n      options.forEach(optionMap => {\n        if (optionMap) {\n          Object.keys(optionMap).forEach(key => {\n            this[camelCase(key)] = optionMap[key];\n          });\n        }\n      });\n    }\n  }\n\n  private async getOptionFromService(category, key, service, defaultValue) {\n    try {\n      const { data } = await service.detail({ category, key });\n      return this.parseOptionRawValue(data.value, defaultValue);\n    } catch (ex) {\n      return defaultValue;\n    }\n  }\n\n  private parseOptionRawValue(rawValue, defaultValue) {\n    let value;\n    try {\n      value = JSON.parse(rawValue);\n    } catch (e) {\n      value = isUndefined(rawValue) ? defaultValue : rawValue;\n    }\n    return value;\n  }\n}\n","import { Injectable, isDevMode } from '@angular/core';\nimport { keys } from 'lodash-es';\nimport { BehaviorSubject } from 'rxjs';\nimport { scan, distinctUntilChanged, map, filter } from 'rxjs/operators';\nimport { StateService } from './state-service.abstract';\nimport { OptionsService } from './options.service';\nimport { FetchClient } from '@c8y/client';\n\nimport { ApplicationService, IUser, ICurrentTenant } from '@c8y/client';\nimport { ApiService } from '@c8y/ngx-components/api';\n\n@Injectable()\nexport class AppStateService extends StateService {\n  state$: BehaviorSubject<any> = new BehaviorSubject<any>({\n    app: {\n      name: this.options.name,\n      contextPath: this.getCurrentContextPath() || this.options.contextPath\n    },\n    supportUrl: this.options.supportUrl,\n    lang: this.options.get('defaultLanguage', 'en'),\n    langs: this.getLangs(),\n    langsDetail: this.options.languages,\n    loginOptions: this.options.loginOptions,\n    activateSupportUserAvailable: undefined,\n    versions: {\n      backend: undefined,\n      ui: this.options.versions || { ngx: undefined }\n    },\n    hidePowered: this.options.hidePowered,\n    isLoading: false,\n    showRightDrawer: this.options.rightDrawer,\n    loginExtraLink: this.options.get('login_extra_link'),\n    newsletter: this.options.newsletter\n  });\n  currentSupportUserName: BehaviorSubject<string | null> = new BehaviorSubject(null);\n  currentUser: BehaviorSubject<IUser | null> = new BehaviorSubject(null);\n  currentTenant: BehaviorSubject<ICurrentTenant | null> = new BehaviorSubject(null);\n\n  constructor(\n    private applicationService: ApplicationService,\n    public apiService: ApiService,\n    private options: OptionsService,\n    private fetchClient: FetchClient\n  ) {\n    super();\n    this.apiService.calls\n      .pipe(\n        filter(({ url }) => !/cep\\/realtime/.test(url)),\n        map(({ phase }) => (phase === 'start' ? 1 : -1)),\n        scan((count, item) => count + item, 0),\n        map(count => count > 0),\n        distinctUntilChanged()\n      )\n      .subscribe(isLoading => (this.state.isLoading = isLoading));\n\n    this.assignApplicationKeyToDefaultHeaders();\n  }\n\n  assignApplicationKeyToDefaultHeaders() {\n    if (!isDevMode()) {\n      this.fetchClient.defaultHeaders = {\n        ...(this.fetchClient.defaultHeaders || {}),\n        'X-Cumulocity-Application-Key': this.options.key\n      };\n    }\n  }\n\n  /**\n   * Returns the current state.\n   */\n  get state() {\n    return this.state$.value;\n  }\n\n  getLangs() {\n    const { languages } = this.options;\n    return languages ? keys(languages).filter(k => languages[k]) : [];\n  }\n\n  /**\n   * Returns the correct UI version. In hybrid mode for angular and ngx.\n   */\n  get uiVersion() {\n    const version = this.state.versions.ui;\n    return version.ngx || version.ng1;\n  }\n\n  /**\n   * Loads the app manifest. If no access -> throw an error to verify app access.\n   */\n  async loadManifest() {\n    try {\n      const { application } = (await this.applicationService.detail(\n        `${this.state.app.contextPath}/manifest`\n      )).data as any;\n      this.state.app.manifest = application;\n      this.loadDefaultOptions();\n    } catch (ex) {\n      throw ex;\n    }\n  }\n\n  /**\n   * Checks current users application list and matches it against given application name.\n   * Returns true if application is in the list.\n   * @param name application name\n   */\n  async isApplicationAvailable(name: string) {\n    const { data } = await this.applicationService.listByUser(undefined, { pageSize: 100 });\n    return data.some(app => app.name === name);\n  }\n\n  /**\n   * Sets current user (including support user).\n   * @param userInfo Info about current user and support user to be set.\n   */\n  setUser(userInfo: { user: IUser; supportUserName: string }) {\n    this.currentSupportUserName.next(userInfo.supportUserName || null);\n    this.currentUser.next(userInfo.user);\n  }\n\n  private getCurrentContextPath() {\n    const match = window.location.pathname.match(/\\/apps\\/(public\\/){0,1}(.+?)(\\/|\\?|#|$)/);\n    return match && match[2];\n  }\n\n  private async loadDefaultOptions() {\n    this.state.supportUrl = await this.options.getSupportUrl();\n    this.state.activateSupportUserAvailable = await this.options.getActivateSupportUser();\n    this.state.versions.backend = await this.options.getSystemOption('system', 'version');\n    try {\n      this.showIncompatibleVersionsError();\n    } catch (ex) {\n      // ignore this\n    }\n    this.emitNewState();\n  }\n\n  private showIncompatibleVersionsError() {\n    const uiVersion = this.state.versions.ui.ngx;\n    const backendVersion = this.state.versions.backend;\n    const uiVersionArray = uiVersion\n      .replace(/[^\\d.]/g, '')\n      .split('.')\n      .map(Number);\n    const beVersionArray = backendVersion\n      .replace(/[^\\d.]/g, '')\n      .split('.')\n      .map(Number);\n    const multiplier = Math.pow(\n      10,\n      Math.ceil(Math.log10(Math.max(...uiVersionArray, ...beVersionArray) + 1))\n    );\n    const sumReducer = (acc, cur) => acc + cur;\n    const calculateVersionMapper = (curr, idx) => curr * (multiplier / Math.pow(10, idx));\n    const uiVersionNumber = uiVersionArray.map(calculateVersionMapper).reduce(sumReducer);\n    const beVersionNumber = beVersionArray.map(calculateVersionMapper).reduce(sumReducer);\n    const showError = uiVersionNumber > beVersionNumber;\n    if (showError) {\n      const errorContent = `You are running version ${uiVersion} of the UI and version ${backendVersion} of backend!`;\n      console.log('%c ' + errorContent, 'font-weight: bold; font-size: 30px; color: red;');\n    }\n  }\n}\n","import { TemplateRef, Type } from '@angular/core';\nimport { matches, snakeCase } from 'lodash-es';\nimport { NavigatorNodeData } from './navigator-node-data';\nimport { PopoverConfirmComponent } from '../modal/popover-confirm.component';\n\nexport interface ClickOptions {\n  icon?: boolean;\n  expander?: boolean;\n  open?: boolean;\n  $event?: any; // TODO: add proper type\n}\n\nexport class NavigatorNode {\n  icon: string;\n  iconTemplate?: TemplateRef<any>;\n  iconComponent?: Type<any>;\n  children: NavigatorNode[] = [];\n  label;\n  path: string;\n  parents: NavigatorNode[] = [];\n  loading?: boolean;\n  routerLinkExact: boolean = true;\n  open: boolean = false;\n  hidden: boolean = false;\n  draggable: boolean = false;\n  droppable: boolean = false;\n  dragged = false;\n  draggedHover = false;\n  confirm: PopoverConfirmComponent = undefined;\n  private _priority: number = 0;\n  private expandDragTimeout;\n\n  get hasChildren() {\n    return this.children.length > 0;\n  }\n\n  get id() {\n    return 'navigator_node_' + snakeCase(this.label);\n  }\n\n  get priority() {\n    if (this._priority) {\n      return this._priority;\n    } else {\n      const childrenPriorities = this.children.map(({ priority }) => priority || 0);\n      if (childrenPriorities.length) {\n        return childrenPriorities.length ? Math.max(...childrenPriorities) : 0;\n      }\n      return 0;\n    }\n  }\n\n  set priority(priority) {\n    this._priority = priority;\n  }\n\n  constructor(data?: NavigatorNodeData) {\n    this.update(data);\n  }\n\n  openOnStart(url: string) {\n    return false;\n  }\n\n  add(node: NavigatorNode) {\n    if (node === this) {\n      throw new Error('Adding node to itself');\n    }\n    if (this.children.indexOf(node) === -1) {\n      this.children.push(node);\n    }\n    if (node.parents.indexOf(this) === -1) {\n      node.parents.push(this);\n    }\n    this.updateChildren();\n  }\n\n  remove(node: NavigatorNode) {\n    const ix = this.children.indexOf(node);\n    const pix = node.parents.indexOf(this);\n    if (ix > -1) {\n      this.children.splice(ix, 1);\n    }\n    if (pix > -1) {\n      node.parents.splice(pix, 1);\n    }\n    this.updateChildren();\n  }\n\n  update(data?: NavigatorNodeData) {\n    if (data) {\n      Object.assign(this, data);\n      if (data.hidden !== undefined) {\n        this.parents.forEach(p => {\n          p.updateHidden();\n        });\n      }\n    }\n  }\n\n  find(predicate) {\n    if (typeof predicate === 'string') {\n      const compareLabel = predicate.toLocaleLowerCase();\n      predicate = ({ label }) => compareLabel === label.toLowerCase();\n    }\n    if (typeof predicate === 'object') {\n      predicate = matches(predicate);\n    }\n    if (typeof predicate !== 'function') {\n      throw new Error('Invalid search predicate');\n    }\n    return this.children.reduce(\n      (found, child) => found || child.find(predicate),\n      this.children.find(predicate)\n    );\n  }\n\n  empty() {\n    this.children.length = 0;\n  }\n\n  click(options: ClickOptions = {}) {\n    // do nothing\n  }\n\n  drop($event) {\n    $event.stopPropagation();\n    clearTimeout(this.expandDragTimeout);\n  }\n\n  dragStart($event) {\n    $event.stopPropagation();\n    // we can't pass a object to setData, so we do it via service\n    // set data is still needed, to make the drag&drop work\n    $event.dataTransfer.setData('node', 'node');\n    this.dragged = true;\n  }\n\n  dragEnd($event) {\n    $event.stopPropagation();\n    this.dragged = false;\n    $event.dataTransfer.clearData();\n  }\n\n  get canDrop() {\n    return this.droppable;\n  }\n\n  get canNavigate() {\n    return typeof this.path !== 'undefined';\n  }\n\n  dragEnter($event) {\n    $event.preventDefault();\n    $event.stopPropagation();\n    this.draggedHover = true;\n    if (!this.open) {\n      this.expandDragTimeout = setTimeout(() => this.expand(), 1000);\n    }\n  }\n\n  dragLeave($event) {\n    $event.preventDefault();\n    $event.stopPropagation();\n    this.draggedHover = false;\n    clearTimeout(this.expandDragTimeout);\n  }\n\n  expand() {\n    if (!this.open) {\n      this.open = true;\n      this.click({ open: true, expander: true });\n    }\n  }\n\n  traverse(callback) {\n    if (this.children) {\n      this.children.forEach(child => {\n        callback(child);\n        child.traverse(callback);\n      });\n    }\n  }\n\n  destroy() {\n    // nothing todo here\n  }\n\n  protected updateChildren() {\n    this.sort();\n    this.updateHidden();\n  }\n\n  protected sort() {\n    this.children.sort((a, b) => {\n      if (a.priority > b.priority) {\n        return -1;\n      } else if (a.priority < b.priority) {\n        return 1;\n      } else if ((a.label || '').toLowerCase() < (b.label || '').toLowerCase()) {\n        return -1;\n      } else if ((a.label || '').toLowerCase() > (b.label || '').toLowerCase()) {\n        return 1;\n      } else {\n        return 0;\n      }\n    });\n  }\n\n  protected updateHidden() {\n    if (typeof this.path === 'undefined') {\n      this.hidden = !this.children.some(({ hidden }) => !hidden);\n    }\n  }\n}\n","import { NavigatorNode } from './navigator-node';\nimport { NavigatorNodeData } from './navigator-node-data';\nimport { assign } from 'lodash-es';\n\nexport class NavigatorNodeRoot extends NavigatorNode {\n  addRoot(nodeData: Partial<NavigatorNodeData>) {\n    const { parent } = nodeData;\n    const node = this.createNode(nodeData);\n    let localParent;\n\n    if (parent) {\n      if (typeof parent === 'object') {\n        localParent = this.find(parent.label);\n        if (localParent) {\n          localParent.update(parent);\n        }\n      } else if (typeof parent === 'string' || typeof parent === 'function') {\n        localParent = this.find(parent);\n      }\n\n      if (!localParent) {\n        localParent = this.createNode(parent);\n        if (!this.find((n) => localParent === n)) {\n          this.add(localParent);\n        }\n      }\n    }\n\n    (localParent || this).add(node);\n    return node;\n  }\n\n  createNode(nodeData) {\n    if (nodeData instanceof NavigatorNode) {\n      return nodeData;\n    }\n    if (typeof nodeData === 'string') {\n      return new NavigatorNode({ label: nodeData });\n    }\n    if (typeof nodeData === 'object') {\n      return new NavigatorNode({ ...nodeData, parent: undefined });\n    }\n    throw new Error('Wrong type of node data');\n  }\n}\n","import { Injectable, InjectionToken, Injector } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { BehaviorSubject, Observable, Subject } from 'rxjs';\nimport { map, shareReplay } from 'rxjs/operators';\nimport { ExtensionPoint, fromTrigger, sortByPriority, stateToFactory } from '../common/extension-hooks';\nimport { StateService } from '../common/state-service.abstract';\nimport { NavigatorNode } from './navigator-node';\nimport { NavigatorNodeData } from './navigator-node-data';\nimport { NavigatorNodeRoot } from './navigator-node-root';\n\n/**\n * A hook to use for Multi Provider extension.\n */\nexport const HOOK_NAVIGATOR_NODES = new InjectionToken('NavigatorNodesFactory');\n\n/**\n * A service which defines the navigator.\n */\n@Injectable({\n  providedIn: 'root'\n})\nexport class NavigatorService extends StateService implements ExtensionPoint<NavigatorNode> {\n  items$: Observable<NavigatorNode[]>;\n  readonly refreshTrigger = new Subject();\n  readonly state$ = new BehaviorSubject<Set<NavigatorNode>>(new Set<NavigatorNode>());\n  firstUrl = true;\n\n  constructor(\n    private injector: Injector,\n    private router: Router\n  ) {\n    super();\n    const rootNode = new NavigatorNodeRoot();\n    this.items$ = fromTrigger(router, this.refreshTrigger, [\n      () => this.injector.get(HOOK_NAVIGATOR_NODES, []),\n      stateToFactory(this.state$),\n    ]).pipe(\n      map((nodes: Partial<NavigatorNodeData[]>) => {\n        const noParent = nodes.filter(node => !node.parent);\n        const withParent = nodes.filter(node => node.parent);\n\n        // Based on the sortedNodes array, the nodes are sequentially created.\n        // Nodes sorting is done in two steps to have the top-level nodes first.\n        // This way, by the time we are adding a child node, the parent node is already present.\n        const sortedNodes = sortByPriority(noParent).concat(sortByPriority(withParent));\n        rootNode.empty();\n        sortedNodes.forEach((node) => rootNode.addRoot(node));\n        return rootNode.children;\n      }),\n      shareReplay(1)\n    );\n  }\n\n  openOnFirstUrl(node: NavigatorNode) {\n    if (this.firstUrl && !!node.path) {\n      return this.router.isActive(node.path, node.routerLinkExact) || node.openOnStart(this.router.url);\n    }\n    return false;\n  }\n\n  /**\n   * Returns the current state.\n   * @readonly\n   * @returns The current set of actions.\n   */\n  get state(): Set<NavigatorNode> {\n    return this.state$.value;\n  }\n\n  /**\n   * Refresh the extension factories\n   */\n  refresh() {\n    this.refreshTrigger.next(1);\n  }\n\n  /**\n   * Adds a new node to the navigator.\n   * @param nav The node to add.\n   */\n  add(item: NavigatorNode) {\n    this.state.add(item);\n    this.emitNewState();\n  }\n\n  /**\n   * Removes a node from the navigator.\n   * @param nav The node ro remove.\n   */\n  remove(item: NavigatorNode) {\n    this.state.delete(item);\n    this.emitNewState();\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { BehaviorSubject, Observable, of } from 'rxjs';\nimport { distinctUntilChanged, map, combineLatest, debounceTime } from 'rxjs/operators';\nimport { OptionsService } from '../common/options.service';\nimport { StateService } from '../common/state-service.abstract';\nimport { NavigatorService } from '../navigator/navigator.service';\nimport { Header } from './header.model';\n\n/**\n * A service which defines header functions.\n */\n@Injectable({\n  providedIn: 'root'\n})\nexport class HeaderService extends StateService {\n  header$: Observable<Header>;\n  navigatorOpen$: Observable<boolean>;\n\n  hasItemsInNavigator$ = this.navigatorService.items$.pipe(\n    map(({ length }) => !!length),\n    distinctUntilChanged()\n  );\n\n  state$: BehaviorSubject<Header> = new BehaviorSubject<Header>({\n    title: undefined,\n    nav: {\n      open: false\n    }\n  });\n\n  title = undefined;\n\n  constructor(private navigatorService: NavigatorService, private options: OptionsService) {\n    super();\n    this.header$ = this.map((header: Header) => header);\n    this.navigatorOpen$ = this.map(({ nav }) => nav.open).pipe(\n      combineLatest(this.hasItemsInNavigator$),\n      map(([open, hasItems]) => open && hasItems)\n    );\n    const titleReference = document.querySelector('title');\n    this.title = {\n      elementRef: titleReference,\n      originalValue: titleReference && titleReference.innerText\n    };\n  }\n\n  get state() {\n    return this.state$.value;\n  }\n\n  get navigatorHiddenOnStartup() {\n    return this.options.hideNavigator;\n  }\n\n  get largeWidth() {\n    return document.documentElement.clientWidth > 1200;\n  }\n\n  get shouldToggle() {\n    return this.largeWidth && !this.navigatorHiddenOnStartup && !this.state.nav.open;\n  }\n\n  /**\n   * Toggles the navigator open status.\n   */\n  toggleNavigator() {\n    this.state.nav.open = !this.state.nav.open;\n    this.emitNewState();\n  }\n\n  /**\n   * Force to close the navigator.\n   */\n  closeNavigator() {\n    this.state.nav.open = false;\n    this.emitNewState();\n  }\n\n  /**\n   * Configures navigation options.\n   * @param config Object with the properties:\n   * - open: Boolean\n   */\n  configNavigator(config: any = {}) {\n    this.state.nav = Object.assign(this.state.nav, config);\n    this.emitNewState();\n  }\n\n  /**\n   * Change the application title.\n   * @param newTitle The new title of the application.\n   */\n  changeTitle(newTitle?: any) {\n    this.state.title = newTitle;\n    this.emitNewState();\n  }\n\n  /**\n   * Change the page title.\n   * @param newTitle The new title of the page.\n   */\n  changePageTitle(newTitle?: string) {\n    this.title.elementRef.innerText = newTitle\n      ? `${newTitle} / ${this.title.originalValue}`\n      : `${this.title.originalValue}`;\n  }\n\n  /**\n   * This methods checks if the navigator toggles on startup\n   * or if an item is added to the navigator node.\n   * Delay of 300ms is intended for animation purpose.\n   */\n  verifyIfNavOpen() {\n    this.hasItemsInNavigator$\n      .pipe(debounceTime(300))\n      .subscribe(hasItems => hasItems && this.shouldToggle && this.toggleNavigator());\n  }\n\n  shouldShowBreadcrumbs() {\n    return this.options.breadcrumbs;\n  }\n}\n","import { Injectable, InjectionToken, Injector, ViewContainerRef } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { TranslateService } from '@ngx-translate/core';\nimport { BehaviorSubject, Observable, Subject } from 'rxjs';\nimport { distinctUntilChanged, filter, first, map, shareReplay } from 'rxjs/operators';\nimport { ExtensionPoint, fromTrigger, stateToFactory } from '../common/extension-hooks';\nimport { StateService } from '../common/state-service.abstract';\nimport { Tab } from './tab.model';\nimport { OptionsService } from '../common/options.service';\n\nexport const HOOK_TABS = new InjectionToken('TabsFactory');\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class TabsService extends StateService implements ExtensionPoint<Tab> {\n  items$: Observable<Tab[]>;\n  orientation$: Observable<string>;\n  readonly refreshTrigger = new Subject();\n  readonly state$ = new BehaviorSubject<Set<Tab>>(new Set<Tab>());\n\n  constructor(\n    private injector: Injector,\n    router: Router,\n    private translateService: TranslateService,\n    private options: OptionsService\n  ) {\n    super();\n    this.items$ = fromTrigger(router, this.refreshTrigger, [\n      () => this.injector.get(HOOK_TABS, []),\n      stateToFactory(this.state$)\n    ]).pipe(\n      map(tabs => this.prepareTabs(tabs)),\n      shareReplay(1),\n      distinctUntilChanged()\n    );\n\n    this.orientation$ = this.items$.pipe(\n      map((tabs: Tab[]) => {\n        const firstTabWithDefinedOrientation = tabs.find(tab => tab.orientation);\n        if (firstTabWithDefinedOrientation) {\n          return firstTabWithDefinedOrientation.orientation;\n        }\n        return this.options.tabsHorizontal ? 'horizontal' : 'vertical';\n      }),\n      distinctUntilChanged()\n    );\n  }\n\n  prepareTabs(tabs) {\n    return this.sortTabs(\n      tabs\n        .map(tab => ({\n          ...tab,\n          template: tab.template instanceof ViewContainerRef ? tab.template : undefined\n        }))\n        .filter((tab, index, self) => index === self.findIndex(t => t.path === tab.path))\n    );\n  }\n\n  sortTabs(tabs) {\n    return tabs.sort((a, b) => {\n      const priorityOrder = (b.priority || 0) - (a.priority || 0);\n\n      const aTranslatedLabel = this.translateService.instant(a.label);\n      const bTranslatedLabel = this.translateService.instant(b.label);\n      const translatedLabelOrder = aTranslatedLabel.localeCompare(bTranslatedLabel);\n\n      return priorityOrder || translatedLabelOrder;\n    });\n  }\n\n  /**\n   * Refresh the extension factories\n   */\n  refresh() {\n    this.refreshTrigger.next(1);\n  }\n\n  /**\n   * Returns the current state.\n   * @readonly\n   * @returns The current set of actions.\n   */\n  get state(): Set<Tab> {\n    return this.state$.value;\n  }\n\n  /**\n   * Adds a new item to tabs and emits state change\n   * @param item The item to add.\n   */\n  add(item: Tab) {\n    this.state.add(item);\n    this.emitNewState();\n  }\n\n  /**\n   * Removes a tab and emits a state change.\n   * @param item The item to remove.\n   */\n  remove(item: Tab) {\n    this.state.delete(item);\n    this.emitNewState();\n  }\n\n  get firstTab$() {\n    return this.items$.pipe(\n      map(tabs => tabs[0]),\n      filter(Boolean),\n      first()\n    );\n  }\n}\n","import { combineLatest, distinctUntilChanged, map } from 'rxjs/operators';\n\nimport { ActionBarService } from '../action-bar/action-bar.service';\nimport { AppStateService } from '../common/ui-state.service';\nimport { Component } from '@angular/core';\nimport { HeaderService } from '../header/header.service';\nimport { NavigatorService } from '../navigator/navigator.service';\nimport { Observable } from 'rxjs';\nimport { OptionsService } from '../common/options.service';\nimport { TabsService } from '../tabs/tabs.service';\n\n@Component({\n  selector: 'c8y-bootstrap',\n  templateUrl: './bootstrap.template.html'\n})\nexport class BootstrapComponent {\n  navigatorOpen$: Observable<boolean>;\n  noAppsMargin$: Observable<boolean>;\n  tabsOrientation: string;\n\n  get showPoweredBy() {\n    return !this.options.get('hidePowered');\n  }\n\n  constructor(\n    public tabs: TabsService,\n    public ui: AppStateService,\n    public navigator: NavigatorService,\n    public actionBar: ActionBarService,\n    private options: OptionsService,\n    public headerService: HeaderService\n  ) {\n      this.noAppsMargin$ = this.headerService.map(({ nav }) => !nav.open && nav.hiddenOnStartup);\n      this.tabsOrientation = this.options.tabsHorizontal ? 'horizontal' : 'vertical';\n      this.ui.map(({ lang }) => lang).pipe(\n        distinctUntilChanged(),\n      ).subscribe(() => {\n        this.actionBar.refresh();\n      });\n    }\n}\n","import { Injectable, InjectionToken, Injector } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { BehaviorSubject, Observable, Subject } from 'rxjs';\nimport { map, shareReplay } from 'rxjs/operators';\nimport { fromTrigger, stateToFactory } from '../common/extension-hooks';\nimport { StateService } from '../common/state-service.abstract';\nimport { Breadcrumb, BreadcrumbItem } from './breadcrumb.model';\n\nexport const HOOK_BREADCRUMB = new InjectionToken('BreadcrumbFactory');\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class BreadcrumbService extends StateService {\n  items$: Observable<Breadcrumb[]>;\n  readonly refreshTrigger = new Subject();\n  readonly state$ = new BehaviorSubject<Set<Breadcrumb>>(new Set<Breadcrumb>());\n  private preferredPath: string;\n\n  constructor(private injector: Injector, router: Router) {\n    super();\n    this.items$ = fromTrigger(router, this.refreshTrigger, [\n      () => this.injector.get(HOOK_BREADCRUMB, []),\n      stateToFactory(this.state$)\n    ]).pipe(\n      map(breadcrumbs => this.sortByPreferredPath(breadcrumbs)),\n      shareReplay(1)\n    );\n  }\n\n  get state() {\n    return this.state$.value;\n  }\n\n  /**\n   * Adds a new item to the action bar in the header.\n   * @param item The item to add.\n   */\n  add(item: Breadcrumb) {\n    this.state.add(item);\n    this.emitNewState();\n  }\n\n  /**\n   * Removes an action bar item from the header.\n   * @param item The item to remove.\n   */\n  remove(item: Breadcrumb) {\n    this.state.delete(item);\n    this.emitNewState();\n  }\n\n  /**\n   * Refresh the extension factories\n   */\n  refresh() {\n    this.refreshTrigger.next(1);\n  }\n\n  /**\n   * Sets the crumb that contains that path to the top.\n   * @param path The path to prefer.\n   */\n  selectPreferredByPath(path: string) {\n    this.preferredPath = path;\n    this.refresh();\n  }\n\n  sortByPreferredPath(breadcrumbs) {\n    if (this.preferredPath) {\n      return breadcrumbs.sort(bc =>\n        bc.items.find((item: BreadcrumbItem) => !!item.path.match(this.preferredPath)) ? -1 : 1\n      );\n    }\n    return breadcrumbs;\n  }\n}\n","import { InjectionToken } from '@angular/core';\n\nexport const LANGUAGES = new InjectionToken('Languages');\n","import { InjectionToken } from '@angular/core';\n\nexport const LOCALE_PATH = new InjectionToken('Locale path');\n","import { InjectionToken } from '@angular/core';\n\nexport const HOOK_PATTERN_MESSAGES = new InjectionToken('Pattern Messages');\n","import { Injectable, Inject } from '@angular/core';\nimport { TranslateService } from '@ngx-translate/core';\nimport { mapValues, each } from 'lodash-es';\nimport { HOOK_PATTERN_MESSAGES } from './patterns-message.hook';\nimport { formatDate } from '@angular/common';\n\n/**\n * A service to translate messages by using regexp patterns.\n */\n@Injectable({\n  providedIn: 'root'\n})\nexport class PatternMessagesService {\n  translateService: TranslateService;\n  patterns: any = {};\n  pipes = {\n    absoluteDate: (date: string|number|Date) =>\n      formatDate(date, 'medium', this.translateService.currentLang),\n    translate: (key) =>\n      this.translateService.instant(key)\n  };\n\n  constructor(\n    @Inject(HOOK_PATTERN_MESSAGES) patterns\n  ) {\n    each(patterns, (pattern) => {\n      Object.assign(this.patterns, pattern);\n    });\n  }\n\n  translate(message: string) {\n    const translation = this.translateWithPatterns(message);\n    return (translation !== message) ? translation : '';\n  }\n\n  private translateWithPatterns(message, patterns = this.patterns) {\n    let translatedMessage = message;\n\n    each(patterns, (patternCfg, pattern) => {\n      const globalRegExp = new RegExp(pattern, 'g');\n      let globalMatch;\n\n      if (!globalRegExp.test(translatedMessage)) {\n        return;\n      }\n      globalRegExp.test(''); // reset the regexp\n      globalMatch = globalRegExp.exec(translatedMessage);\n      while (globalMatch !== null) {\n        const [ localMatch ] = globalMatch;\n\n        const placeholderValues = mapValues(patternCfg.placeholders, (placeholder) => {\n          const expr = placeholder.capture || placeholder;\n          let replacement = localMatch.replace(new RegExp(pattern, 'g'), expr);\n\n          if (placeholder.translate) {\n            replacement = this.translateWithPatterns(replacement, placeholder.translate);\n          }\n\n          return replacement;\n        });\n        translatedMessage = translatedMessage.replace(\n          localMatch,\n          this.translateWithParams(patternCfg, placeholderValues)\n        );\n\n        globalMatch = globalRegExp.exec(translatedMessage);\n      }\n    });\n    return translatedMessage;\n  }\n\n  private translateWithParams(patternCfg: any, params: any = {}) {\n    const { defaultLang, currentLang, compiler } = this.translateService;\n    const translations = this.translateService.store.translations[currentLang];\n    const defaultTranslations = this.translateService.store.translations[defaultLang];\n    const originalKey = patternCfg.gettext;\n\n    let originalValue = originalKey;\n    if (translations) {\n      if (translations[originalKey]) {\n        originalValue = translations[originalKey];\n      } else if (defaultTranslations) {\n        if (defaultTranslations[originalKey]) {\n          originalValue = defaultTranslations[originalKey];\n        }\n      }\n    }\n\n    let key = originalKey;\n    let value = originalValue;\n    const interpolateParams = {\n      ...params,\n      noPatternMessages: true\n    };\n\n    let match;\n    const pipeRegex = RegExp('{{\\\\s*([^\\\\s]+)\\\\s*\\\\|\\\\s*([^\\\\s]+)\\\\s*}}', 'g');\n    // tslint:disable-next-line:no-conditional-assignment\n    while ((match = pipeRegex.exec(originalKey)) !== null) {\n      const [placeholder, paramName, pipeName] = match;\n      if (this.pipes[pipeName]) {\n        key = key.replace(placeholder, `{{${paramName}}}`);\n        value = value.replace(placeholder, `{{${paramName}}}`);\n        interpolateParams[paramName] = this.pipes[pipeName](params[paramName]);\n      }\n    }\n\n    if (translations) {\n      translations[key] = compiler.compile(value, currentLang);\n    }\n    return this.translateService.instant(key, interpolateParams);\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { PatternMessagesService } from './pattern-messages.service';\nimport {\n  MissingTranslationHandler,\n  MissingTranslationHandlerParams,\n  TranslateParser,\n  TranslateService\n} from '@ngx-translate/core';\n\n@Injectable()\nexport class MissingTranslationCustomHandler implements MissingTranslationHandler {\n  translateService: TranslateService;\n  cache: any = {};\n\n  constructor(\n    private parser: TranslateParser,\n    private patternMessagesService: PatternMessagesService\n  ) {}\n\n  handle(params: MissingTranslationHandlerParams) {\n    const { key: messageKey, interpolateParams, translateService } = params;\n    this.translateService = translateService;\n\n    let translation = this.getFromCache(messageKey, interpolateParams);\n\n    if (!translation) {\n      const patternMessageTranslation = this.getPatternMessageTranslation(messageKey, interpolateParams);\n      if (patternMessageTranslation) {\n        translation = patternMessageTranslation;\n      } else {\n        translation = this.parser.interpolate(messageKey, interpolateParams);\n      }\n\n      this.addToCache(messageKey, interpolateParams, translation);\n    }\n\n    return translation;\n  }\n\n  private getFromCache(messageKey: string, interpolateParams: object): string {\n    const { currentLang } = this.translateService;\n    const currentCache = this.cache[currentLang] || {};\n    const cacheKey = this.getCacheKey(messageKey, interpolateParams);\n    return currentCache[cacheKey];\n  }\n\n  private addToCache(messageKey: string, interpolateParams: object, translation: string) {\n    const { currentLang } = this.translateService;\n    const currentCache = this.cache[currentLang] = this.cache[currentLang] || {};\n    const cacheKey = this.getCacheKey(messageKey, interpolateParams);\n    currentCache[cacheKey] = translation;\n  }\n\n  private getCacheKey(messageKey: string, interpolateParams: object): string {\n    return interpolateParams ? `${messageKey} ${JSON.stringify(interpolateParams)}` : messageKey;\n  }\n\n  private getPatternMessageTranslation(messageKey: string, interpolateParams: object): string {\n    const shouldTryPatternMessages = !interpolateParams || !((interpolateParams as any).noPatternMessages);\n\n    if (shouldTryPatternMessages) {\n      if (!this.patternMessagesService.translateService) {\n        this.patternMessagesService.translateService = this.translateService;\n      }\n      return this.patternMessagesService.translate(messageKey);\n    }\n\n    return undefined;\n  }\n}\n","/* tslint:disable:max-line-length */\nimport { gettext } from './gettext';\n\nconst bulkOperationAuditLogTextPlaceholders = {\n  updatesList: {\n    capture: '$1',\n    translate: {\n      \"status='(.+?)'\": {\n        gettext: gettext('status=\"{{status | translate}}\"'),\n        placeholders: {\n          status: '$1'\n        }\n      },\n      \"generalStatus='(.+?)'\": {\n        gettext: gettext('generalStatus=\"{{generalStatus | translate}}\"'),\n        placeholders: {\n          generalStatus: '$1'\n        }\n      },\n      \"progress='(.+?)'\": {\n        gettext: gettext('progress=\"{{progress}}\"'),\n        placeholders: {\n          progress: '$1'\n        }\n      },\n      'note=(.+?)': {\n        gettext: gettext('note=\"{{note}}\"'),\n        placeholders: {\n          note: '$1'\n        }\n      }\n    }\n  }\n};\n\nexport const MESSAGES = {\n  '^Access is denied$': {\n    gettext: gettext('Access denied.')\n  },\n  '^Alarm created$': {\n    gettext: gettext('Alarm created')\n  },\n  '^Alarm updated$': {\n    gettext: gettext('Alarm updated')\n  },\n  '^API is not available with the new domain$': {\n    gettext: gettext('Could not activate custom domain. DNS setup is incorrect.')\n  },\n  '^Application with given name already exist$': {\n    gettext: gettext('Application with given name already exists.')\n  },\n  '^Application with id (.+?) is already assigned to the tenant (.+?)$': {\n    gettext: gettext('This application is already assigned to tenant \"{{tenant}}\".'),\n    placeholders: {\n      tenant: '$2'\n    }\n  },\n  '^Apply software changes: (.+?)\\\\.?$': {\n    gettext: gettext('Apply software changes: {{ softwareChanges }}'),\n    placeholders: {\n      softwareChanges: {\n        capture: '$1',\n        translate: {\n          'install \"(.+?)\" \\\\(version: (.+?)\\\\)': {\n            gettext: gettext('install \"{{ softwareName }}\" (version: {{ softwareVersion }})'),\n            placeholders: {\n              softwareName: '$1',\n              softwareVersion: '$2'\n            }\n          },\n          'install \"([^\"]+)\"(?! \\\\(version: .+?\\\\))': {\n            gettext: gettext('install \"{{ softwareName }}\"'),\n            placeholders: {\n              softwareName: '$1'\n            }\n          },\n          'delete \"(.+?)\" \\\\(version: (.+?)\\\\)': {\n            gettext: gettext('delete \"{{ softwareName }}\" (version: {{ softwareVersion }})'),\n            placeholders: {\n              softwareName: '$1',\n              softwareVersion: '$2'\n            }\n          },\n          'delete \"([^\"]+)\"(?! \\\\(version: .+?\\\\))': {\n            gettext: gettext('delete \"{{ softwareName }}\"'),\n            placeholders: {\n              softwareName: '$1'\n            }\n          }\n        }\n      }\n    }\n  },\n  '^Assign device profile (.+?) to device (.+?)$': {\n    gettext: gettext('Assign device profile {{profileName}} to device {{deviceName}}'),\n    placeholders: {\n      profileName: '$1',\n      deviceName: '$2'\n    }\n  },\n  '^(.+)pplication for tenant (.+) with properties \\\\( (.+?) \\\\) already exists$': {\n    gettext: gettext(\n      'Application for tenant \"{{tenant}}\" with the following values ({{valuesList}}) already exists.'\n    ),\n    placeholders: {\n      tenant: '$2',\n      valuesList: '$3'\n    }\n  },\n  '^Authentication failed! : User account is locked$': {\n    gettext: gettext('Authentication failed due to: user account is locked.')\n  },\n  '^Availability monitoring record$': {\n    gettext: gettext('Availability monitoring record')\n  },\n  '^Can not activate a certificate which is either expired or not yet valid$': {\n    gettext: gettext('Cannot activate a certificate which is either expired or not yet valid.')\n  },\n  '^Cannot add certificate - certificate with (.+?) fingerprint already exists. : Certificate with (.+?) fingerprint already exists.': {\n    gettext: gettext(\n      'Could not add certificate. Certificate with {{fingerprint}} fingerprint already exists.'\n    ),\n    placeholders: {\n      fingerprint: '$1'\n    }\n  },\n  '^Cannot change password. : Provided token does not exist.$': {\n    gettext: gettext('Cannot change password: provided token is invalid.')\n  },\n  '^Cannot deploy module (.*)$': {\n    gettext: gettext('Cannot deploy module due to error: \"{{ errorMessage | translate }}\".'),\n    placeholders: {\n      errorMessage: '$1'\n    }\n  },\n  \"^Cannot deploy module (.+?)! : Compilation failed in module '(.+?)' in expression '(.+?)' : Incorrect syntax near '(.+?)' at line (\\\\d+) column (\\\\d+) \\\\[([\\\\S\\\\s]+?)\\\\]$\": {\n    gettext: gettext(\n      'Could not deploy module \"{{moduleName}}\". Compilation failed in expression \"{{expression}}\": incorrect syntax near \"{{incorrectExpression}}\" at line {{line}} column {{column}}.'\n    ),\n    placeholders: {\n      moduleName: '$1',\n      expression: '$3',\n      incorrectExpression: '$4',\n      line: '$5',\n      column: '$6'\n    }\n  },\n  \"^Cannot deploy module (.+?)! : Compilation failed in module '(.+?)' in expression '(.+?)' : Incorrect syntax near '(.+?)' at line (\\\\d+) column (\\\\d+) near reserved keyword '(.+?)' \\\\[([\\\\S\\\\s]+?)\\\\]$\": {\n    gettext: gettext(\n      'Could not deploy module \"{{moduleName}}\". Compilation failed in expression \"{{expression}}\": incorrect syntax near \"{{incorrectExpression}}\" at line {{line}} column {{column}} near reserved keyword \"{{keyword}}\".'\n    ),\n    placeholders: {\n      moduleName: '$1',\n      expression: '$3',\n      incorrectExpression: '$4',\n      line: '$5',\n      column: '$6',\n      keyword: '$7'\n    }\n  },\n  \"^Cannot deploy module (.+?)! : Compilation failed in module '(.+?)' in expression '(.+?)' : Incorrect syntax near '(.+?)' at line (\\\\d+) column (\\\\d+), please check the where clause \\\\[([\\\\S\\\\s]+?)\\\\]$\": {\n    gettext: gettext(\n      'Could not deploy module \"{{moduleName}}\". Compilation failed in expression \"{{expression}}\": incorrect syntax near \"{{incorrectExpression}}\" at line {{line}} column {{column}}, check \"where\" clause.'\n    ),\n    placeholders: {\n      moduleName: '$1',\n      expression: '$3',\n      incorrectExpression: '$4',\n      line: '$5',\n      column: '$6'\n    }\n  },\n  \"^Cannot deploy module (.+?)! : Deployment failed in module '(.+?)' in expression '(.+?)' : Exception compiling script '(.+?)' of dialect '(.+?)': missing (.+?) before statement \\\\((.+?)\\\\) \\\\[([\\\\S\\\\s]+?)\\\\]$\": {\n    gettext: gettext(\n      'Could not deploy module \"{{moduleName}}\". Compilation failed in expression \"{{expression}}\": exception compiling script \"{{scriptName}}\" of dialect \"{{scriptDialect}}\": missing \"{{missingSyntax}}\" before statement \"{{affectedStatement}}\".'\n    ),\n    placeholders: {\n      moduleName: '$1',\n      expression: '$3',\n      scriptName: '$4',\n      scriptDialect: '$5',\n      missingSyntax: '$6',\n      affectedStatement: '$7'\n    }\n  },\n  \"^Cannot execute bulk operation on empty group. Group with id='(\\\\d+?)' doesn't have child assets.$\": {\n    gettext: gettext(\n      'Could not execute bulk operation on an empty group. Group with ID \"{{groupId}}\" has no child assets.'\n    ),\n    placeholders: {\n      groupId: '$1'\n    }\n  },\n  \"^Cannot execute bulk operation on empty group. DynamicGroup with id='(\\\\d+?)' doesn't have child assets$\": {\n    gettext: gettext(\n      'Could not execute bulk operation on an empty group. Smart group with ID \"{{groupId}}\" has no child assets.'\n    ),\n    placeholders: {\n      groupId: '$1'\n    }\n  },\n  '^Cannot parse X509 certificate. : Could not parse certificate: (.+?)$': {\n    gettext: gettext('Could not parse X.509 certificate: {{ failureReason | translate }}.'),\n    placeholders: {\n      failureReason: '$1'\n    }\n  },\n  '^Cannot reschedule bulk operation. All its operations are successful$': {\n    gettext: gettext('Cannot reschedule bulk operation. All its operations are already successful.')\n  },\n  '^Cannot reset user password : Cannot find user with such email.$': {\n    gettext: gettext('Cannot reset password for user with such email: email not found.')\n  },\n  '^Cannot update/delete application binary via this endpoint$': {\n    gettext: gettext('Cannot update/delete application binary via this endpoint')\n  },\n  \"^Can't delete user because it is used by another managed object$\": {\n    gettext: gettext(\n      'Cannot delete device with associated device owner because this owner is still assigned to other device(s). Try to remove only the device.'\n    )\n  },\n  '^Cep module created$': {\n    gettext: gettext('CEP module created')\n  },\n  '^Cep module updated$': {\n    gettext: gettext('CEP module updated')\n  },\n  '^Cep module deleted$': {\n    gettext: gettext('CEP module deleted')\n  },\n  '^Cep module \"(.+?)\" created$': {\n    gettext: gettext('CEP module \"{{name}}\" created'),\n    placeholders: {\n      name: '$1'\n    }\n  },\n  '^Cep module \"(.+?)\" updated$': {\n    gettext: gettext('CEP module \"{{name}}\" updated'),\n    placeholders: {\n      name: '$1'\n    }\n  },\n  '^Cep module \"(.+?)\" deleted$': {\n    gettext: gettext('CEP module \"{{name}}\" deleted'),\n    placeholders: {\n      name: '$1'\n    }\n  },\n  '^Command state is invalid: (.+)$': {\n    gettext: gettext('Command state is invalid: {{violations}}'),\n    placeholders: {\n      violations: {\n        capture: '$1',\n        translate: {\n          '(\\\\w+?) - may not be null': {\n            gettext: gettext('\"{{field}}\" must not be null'),\n            placeholders: {\n              field: '$1'\n            }\n          }\n        }\n      }\n    }\n  },\n  '^Could not connect to endpoint (.+)\\\\. Could not verify `(.+)` host key with fingerprint `(.+)` for `(.+)` on port (.+)\\\\. If you expected that key, please remove the previous one from configuration to allow for connection\\\\.$': {\n    gettext: gettext(\n      'Could not connect to endpoint \"{{endpointName}}\". Could not verify {{keyType}} host key with fingerprint {{fingerprint}} for host {{host}} on port {{port}}. If you expected this key, please remove the previous one from configuration to allow for connection.'\n    ),\n    placeholders: {\n      endpointName: '$1',\n      keyType: '$2',\n      fingerprint: '$3',\n      host: '$4',\n      port: '$5'\n    }\n  },\n  '^Could not login to ssh server on endpoint \"(.+)\"\\\\. Provided credential for user \"(.+)\" is incorrect\\\\.$': {\n    gettext: gettext(\n      'Could not access SSH server on endpoint \"{{endpointName}}\". Provided credentials for user \"{{userName}}\" are incorrect.'\n    ),\n    placeholders: {\n      endpointName: '$1',\n      userName: '$2'\n    }\n  },\n  '^Could not save object remoteAccessUpdate: (.+)$': {\n    gettext: '{{errorMessages}}',\n    placeholders: {\n      errorMessages: {\n        capture: '$1',\n        translate: {\n          'Could not recognize host-key format': {\n            gettext: gettext('Could not recognize \"Host key\" format')\n          },\n          'Could not recognize key-pair format': {\n            gettext: gettext('Could not recognize the format of \"Public key\" or \"Private key\"')\n          }\n        }\n      }\n    }\n  },\n  '^Could not update user. : Error persisting user (.+?)!$': {\n    gettext: gettext('Could not update user \"{{username}}\".'),\n    placeholders: {\n      username: '$1'\n    }\n  },\n  'Create bulk operation$': {\n    gettext: gettext('Create bulk operation')\n  },\n  '^Create bulk operation: (.+)$': {\n    gettext: gettext('Create bulk operation: {{updatesList}}'),\n    placeholders: bulkOperationAuditLogTextPlaceholders\n  },\n  '^Creation ramp must be greater than (\\\\d+?)$': {\n    gettext: gettext('Bulk operation delay must be greater than {{minSeconds}} seconds.'),\n    placeholders: {\n      minSeconds: '$1'\n    }\n  },\n  '^Created container$': {\n    gettext: gettext('Container created.')\n  },\n  '^Created pod: (.+)$': {\n    gettext: gettext('Pod \"{{imageName}}\" created.'),\n    placeholders: {\n      imageName: '$1'\n    }\n  },\n  '^CSV file contained empty dataset$': {\n    gettext: gettext('No entries found in uploaded CSV file.')\n  },\n  '^Cycle detected for route (.+?)!$': {\n    gettext: gettext('Cycle detected for route {{route}}.'),\n    placeholders: {\n      route: '$1'\n    }\n  },\n  '^Data broker processing is currently overloaded and may stop forwarding your data\\\\. Please contact support\\\\.$': {\n    gettext: gettext(\n      'Data broker processing is currently overloaded and may stop forwarding your data. Please contact support.'\n    )\n  },\n  '^Data broker processing is not able to connect do destination tenant, thus data forwarding is not working\\\\. Please contact support\\\\.$': {\n    gettext: gettext(\n      'Data broker processing is not able to connect to destination tenant, thus data forwarding is not working. Please contact support.'\n    )\n  },\n  '^Delete bulk operation$': {\n    gettext: gettext('Delete bulk operation')\n  },\n  '^Delete bulk operation: (.+)$': {\n    gettext: gettext('Delete bulk operation: {{updatesList}}'),\n    placeholders: bulkOperationAuditLogTextPlaceholders\n  },\n  \"^Device id '(.+?)' contains '(.+?)' character which is not permitted.$\": {\n    gettext: gettext('ID \"{{deviceId}}\" contains invalid character: \"{{invalidCharacter}}\".'),\n    placeholders: {\n      deviceId: '$1',\n      invalidCharacter: '$2'\n    }\n  },\n  \"^Device name: '(.+?)', alarm text: '(.+?)'$\": {\n    gettext: gettext('Device name: \"{{deviceName}}\", alarm text: \"{{alarmText | translate}}\"'),\n    placeholders: {\n      deviceName: '$1',\n      alarmText: '$2'\n    }\n  },\n  '^Display name$': {\n    gettext: gettext('Login alias')\n  },\n  '^Domain name in uploaded certificate differs from the one in use$': {\n    gettext: gettext(\n      'Domain name in uploaded certificate differs from the one in use. Please deactivate the custom domain before uploading new certificate.'\n    )\n  },\n  '^Domain name is already in use by another tenant!$': {\n    gettext: gettext('Domain name is already used by another tenant.')\n  },\n  '^Duplicated connector for instanceUrl (.+?)!$': {\n    gettext: gettext('Target URL {{targetUrl}} already used by another connector.'),\n    placeholders: {\n      targetUrl: '$1'\n    }\n  },\n  '^Duplicated connector for name (.+?)!$': {\n    gettext: gettext('Connector name \"{{name}}\" already used by another connector.'),\n    placeholders: {\n      name: '$1'\n    }\n  },\n  '^Entry is outside of the target dir: (.+)$': {\n    gettext: gettext('File entry outside of the target directory: \"{{path}}\".'),\n    placeholders: {\n      path: '$1'\n    }\n  },\n  '^Error during password validation. : Password must have at least (\\\\d+?) characters and no more than (\\\\d+?) and must contain only Latin1 characters.$': {\n    gettext: gettext(\n      'Password is invalid. It must have at least {{minCharactersCount}} and no more than {{maxCharactersCount}} characters.'\n    ),\n    placeholders: {\n      minCharactersCount: '$1',\n      maxCharactersCount: '$2'\n    }\n  },\n  '^Error during password validation. : Your password has been used already. Choose another.$': {\n    gettext: gettext('This password has already been used earlier. Use a different one.')\n  },\n  \"^Error in statement (.+?):(.+?)! : Incorrect syntax near '(.+?)' near reserved keyword '(.+?)' \\\\[([\\\\S\\\\s]+?)\\\\]$\": {\n    gettext: gettext(\n      'Error in statement {{moduleName}}:{{statementNumber}}. Incorrect syntax near expression \"{{expression}}\" near reserved keyword \"{{keyword}}\".'\n    ),\n    placeholders: {\n      moduleName: '$1',\n      statementNumber: '$2',\n      expression: '$3',\n      keyword: '$4'\n    }\n  },\n  '^External id not found; external id = ID \\\\[type=(.+?), value=(.+?)\\\\]$': {\n    gettext: gettext('External ID not found for type \"{{type}}\" and value \"{{value}}\".'),\n    placeholders: {\n      type: '$1',\n      value: '$2'\n    }\n  },\n  '^Error occurred when trying to find an Application for id ID (.+) : Could not find application by ID (\\\\d+)$': {\n    gettext: gettext('Could not find application by ID {{applicationId}}.'),\n    placeholders: {\n      applicationId: '$2'\n    }\n  },\n  '^Http status code: 404\\n{error=\"options/Not Found\",message=\"Unable to find option by given key: sigfox-agent/provider.token\",info=\"https://www.cumulocity.com/guides/reference-guide/#error_reporting\",details=\"null\"}': {\n    gettext: gettext('Unable to find option by given key: sigfox-agent/provider.token')\n  },\n  '^Failed to delete application.  : Cannot remove application assigned to other tenants.$': {\n    gettext: gettext('Could not delete application assigned to other tenants.')\n  },\n  '^Failed to extract certificate from PKCS12$': {\n    gettext: gettext('Failed to extract certificate from PKCS12.')\n  },\n  '^Failed to update domain at the platform$': {\n    gettext: gettext('Failed to update domain at the platform.')\n  },\n  \"^Finding device data from database failed : No managedObject for id '(.+?)'!$\": {\n    gettext: gettext('Could not find managed object with ID \"{{deviceId}}\".'),\n    placeholders: {\n      deviceId: '$1'\n    }\n  },\n  '^Following mandatory fields should be included: (.+?)$': {\n    gettext: gettext('Following mandatory fields should be included: {{fields}}'),\n    placeholders: {\n      fields: '$1'\n    }\n  },\n  '^Global Role updated$': {\n    gettext: gettext('Global role updated')\n  },\n  '^Global Role (.+?) updated$': {\n    gettext: gettext('Global role \"{{name}}\" updated'),\n    placeholders: {\n      name: '$1'\n    }\n  },\n  '^Global Role (.+?) updated: (.+)$': {\n    gettext: gettext('Global role \"{{name}}\" updated: {{updatesList}}'),\n    placeholders: {\n      name: '$1',\n      updatesList: {\n        capture: '$2',\n        translate: {\n          'applications \\\\[([^\\\\]]+?)\\\\] added': {\n            gettext: gettext('applications {{list}} added'),\n            placeholders: {\n              list: '$1'\n            }\n          },\n          'applications \\\\[([^\\\\]]+?)\\\\] removed': {\n            gettext: gettext('applications {{list}} removed'),\n            placeholders: {\n              list: '$1'\n            }\n          },\n          'roles \\\\[([^\\\\]]+?)\\\\] added': {\n            gettext: gettext('roles {{list}} added'),\n            placeholders: {\n              list: '$1'\n            }\n          },\n          'roles \\\\[([^\\\\]]+?)\\\\] removed': {\n            gettext: gettext('roles {{list}} removed'),\n            placeholders: {\n              list: '$1'\n            }\n          }\n        }\n      }\n    }\n  },\n  '^Global Roles$': {\n    gettext: gettext('Global roles')\n  },\n  '^Operation updated: (.+)$': {\n    gettext: gettext('Operation updated: {{updatesList}}'),\n    placeholders: {\n      updatesList: {\n        capture: '$1',\n        translate: {\n          \"status='(.+?)'\": {\n            gettext: gettext('status=\"{{status | translate}}\"'),\n            placeholders: {\n              status: '$1'\n            }\n          },\n          \"description='(.+?)'\": {\n            gettext: gettext('description=\"{{description | translate}}\"'),\n            placeholders: {\n              description: '$1'\n            }\n          },\n          \"device name='(.+?)'\": {\n            gettext: gettext('device name=\"{{deviceName}}\"'),\n            placeholders: {\n              deviceName: '$1'\n            }\n          },\n          \"failure reason='(.+?)'\": {\n            gettext: gettext('failure reason=\"{{failureReason | translate}}\"'),\n            placeholders: {\n              failureReason: '$1'\n            }\n          }\n        }\n      }\n    }\n  },\n  '^ID \\\\[type=(.+?), value=(.+?)\\\\] was already bound to different Global ID.$': {\n    gettext: gettext('External ID \"{{value}}\" of the type \"{{type}}\" already exists.'),\n    placeholders: {\n      type: '$1',\n      value: '$2'\n    }\n  },\n  '^Invalid credentials! : Bad credentials$': {\n    gettext: gettext('Invalid credentials.')\n  },\n  '^Invalid credentials! : No phone number provided$': {\n    gettext: gettext('Log into the management tenant first and enter your phone number.')\n  },\n  '^Inventory Role removed$': {\n    gettext: gettext('Inventory role removed')\n  },\n  '^Inventory Role (.+?) removed': {\n    gettext: gettext('Inventory role \"{{name}}\" deleted.'),\n    placeholders: {\n      name: '$1'\n    }\n  },\n  '^Inventory Role updated$': {\n    gettext: gettext('Inventory role updated')\n  },\n  '^Inventory Role (.+?) updated': {\n    gettext: gettext('Inventory role \"{{name}}\" updated.'),\n    placeholders: {\n      name: '$1'\n    }\n  },\n  '^I/O error: Connection refused; nested exception is Connection refused : Connection refused': {\n    gettext: gettext('Connection refused')\n  },\n  '^I/O error: Read timed out; nested exception is Read timed out : Read timed out': {\n    gettext: gettext('Read timed out')\n  },\n  '^Log file requested$': {\n    gettext: gettext('Log file requested.')\n  },\n  '^Managed object deleted$': {\n    gettext: gettext('Managed object deleted')\n  },\n  '^Managed object \"(.+?)\" deleted$': {\n    gettext: gettext('Managed object \"{{name}}\" deleted'),\n    placeholders: {\n      name: '$1'\n    }\n  },\n  '^Maximum file size exceeded$': {\n    gettext: gettext('Maximum file size exceeded.')\n  },\n  \"^Message with ID (.+?) doesn't exist in smart rest template (.+?)$\": {\n    gettext: gettext(\n      'Message with ID \"{{messageId}}\" doesn\\'t exist in SmartREST template with ID \"{{templateId}}\"'\n    ),\n    placeholders: {\n      messageId: '$1',\n      templateId: '$2'\n    }\n  },\n  '^NewDeviceRequest for id = (.+?) already exists.$': {\n    gettext: gettext('Device registration request with ID {{id}} already exists.'),\n    placeholders: {\n      id: '$1'\n    }\n  },\n  '^No communication with device since (.+?)$': {\n    gettext: gettext('No communication with device since {{timestamp | absoluteDate}}.'),\n    placeholders: {\n      timestamp: '$1'\n    }\n  },\n  '^No data received from device within required interval.$': {\n    gettext: gettext('No data received from device within required interval.')\n  },\n  '^No LoRa provider settings are found. Please configure the connectivity settings.$': {\n    gettext: gettext(\n      'No LoRa provider settings are found. Please configure the connectivity settings.'\n    )\n  },\n  '^Not within any context!$': {\n    gettext: gettext('A problem occurred with microservice subscription.')\n  },\n  '^Maximum age cannot be bigger than 10 years.$': {\n    gettext: gettext('Maximum age cannot be bigger than 10 years.')\n  },\n  '^Microservice application name incorrect. Please use only lower-case letters, digits and dashes. Maximum length is (\\\\d+) characters.$': {\n    gettext: gettext(\n      'Microservice application name is incorrect: only lower case letters, digits and dashes allowed. Maximum length: {{maxLength}}.'\n    ),\n    placeholders: {\n      maxLength: '$1'\n    }\n  },\n  '^Microservice not available.*$': {\n    gettext: gettext('Microservice is not available.')\n  },\n  '^Operation created$': {\n    gettext: gettext('Operation created.')\n  },\n  '^Operation updated$': {\n    gettext: gettext('Operation updated.')\n  },\n  \"^Operation created: status='(.+?)'.\": {\n    gettext: gettext('Operation created: status=\"{{status | translate}}\".'),\n    placeholders: {\n      status: '$1'\n    }\n  },\n  '^Option created$': {\n    gettext: gettext('Option created.')\n  },\n  '^Option \"(.+?)\" created$': {\n    gettext: gettext('Option \"{{option}}\" created.'),\n    placeholders: {\n      option: '$1'\n    }\n  },\n  '^Option deleted$': {\n    gettext: gettext('Option deleted.')\n  },\n  '^Option \"(.+?)\" deleted$': {\n    gettext: gettext('Option \"{{option}}\" deleted.'),\n    placeholders: {\n      option: '$1'\n    }\n  },\n  '^Owner field error. : Cannot introduce cyclic dependency.': {\n    gettext: gettext('Could not introduce cyclic ownership dependency.')\n  },\n  '^Password change is temporary blocked.$': {\n    gettext: gettext('Password change is temporarily blocked.')\n  },\n  '^Password cipher does not match': {\n    gettext: gettext('Password cipher does not match.')\n  },\n  '^Platform application cannot be added to, nor removed from any tenant.$': {\n    gettext: gettext('Platform application cannot be added to, nor removed from any tenant.')\n  },\n  '^Private key must be provided in KEY_PAIR credentials$': {\n    gettext: gettext(\n      'Private key must be provided when \"Public / private keys\" option is selected.'\n    )\n  },\n  '^Private key cipher does not match': {\n    gettext: gettext('Private key cipher does not match')\n  },\n  '^Protocol \"(.+?)\" does not support \"(.+?)\" credentials type$': {\n    gettext: gettext(\n      'Protocol \"{{protocol}}\" does not support \"{{credentialsType}}\" credentials type.'\n    ),\n    placeholders: {\n      protocol: '$1',\n      credentialsType: '$2'\n    }\n  },\n  '^pulling image \"(.+)\"$': {\n    gettext: gettext('Pulling image: \"{{imageName}}\".'),\n    placeholders: {\n      imageName: '$1'\n    }\n  },\n  '^Real-time event processing is currently overloaded and may stop processing your events\\\\. Please contact support\\\\.$': {\n    gettext: gettext(\n      'Real-time event processing is currently overloaded and may stop processing your events. Please contact support.'\n    )\n  },\n  '^Resource ID \\\\[type=com_cumulocity_model_idtype_GId, value=(.+?)\\\\] for this request not found.$': {\n    gettext: gettext('Could not find the resource with ID \"{{id}}\".'),\n    placeholders: {\n      id: '$1'\n    }\n  },\n  '^Retrieve configuration snapshot from device (.+?)': {\n    gettext: gettext('Retrieve configuration snapshot from device {{deviceName}}'),\n    placeholders: {\n      deviceName: '$1'\n    }\n  },\n  '^Retrieve (.+?) configuration snapshot from device (.+?)': {\n    gettext: gettext(\n      'Retrieve {{configurationType}} configuration snapshot from device {{deviceName}}'\n    ),\n    placeholders: {\n      configurationType: '$1',\n      deviceName: '$2'\n    }\n  },\n  '^Scaled up replica set (.+) to (\\\\d+)$': {\n    gettext: gettext('Replica set \"{{replicaSetName}}\" scaled up to \"{{scaleNumber}}\".'),\n    placeholders: {\n      replicaSetName: '$1',\n      scaleNumber: '$2'\n    }\n  },\n  '^Send configuration snapshot (.+?) of configuration type (.+?) to device (.+?)': {\n    gettext: gettext(\n      'Send configuration snapshot {{snapshotName}} of configuration type {{configurationType}} to device {{deviceName}}'\n    ),\n    placeholders: {\n      snapshotName: '$1',\n      configurationType: '$2',\n      deviceName: '$3'\n    }\n  },\n  '^Send configuration snapshot (.+?) to device (.+?)': {\n    gettext: gettext('Send configuration snapshot {{snapshotName}} to device {{deviceName}}'),\n    placeholders: {\n      snapshotName: '$1',\n      deviceName: '$2'\n    }\n  },\n  '^Simulator state is invalid: (.+)$': {\n    gettext: gettext('Simulator state is invalid: {{violations}}'),\n    placeholders: {\n      violations: {\n        capture: '$1',\n        translate: {\n          '(\\\\w+?) - may not be null': {\n            gettext: gettext('\"{{field}}\" should not be null'),\n            placeholders: {\n              field: '$1'\n            }\n          },\n          '(\\\\w+?) - must be less than or equal to (\\\\d+)': {\n            gettext: gettext('\"{{field}}\" must be less than or equal to {{maxValue}}'),\n            placeholders: {\n              field: '$1',\n              maxValue: '$2'\n            }\n          },\n          '(\\\\w+?) - should not contain null values': {\n            gettext: gettext('\"{{field}}\" should not contain null values'),\n            placeholders: {\n              field: '$1'\n            }\n          }\n        }\n      }\n    }\n  },\n  \"^Smart rest template (.+?) doesn't exist$\": {\n    gettext: gettext('SmartREST template with id \"{{templateId}}\" doesn\\'t exist'),\n    placeholders: {\n      templateId: '$1'\n    }\n  },\n  '^Smart rule created$': {\n    gettext: gettext('Smart rule created.')\n  },\n  '^Smart rule updated$': {\n    gettext: gettext('Smart rule updated.')\n  },\n  '^Smart rule enabled$': {\n    gettext: gettext('Smart rule activated.')\n  },\n  '^Smart rule disabled$': {\n    gettext: gettext('Smart rule deactivated.')\n  },\n  '^Smart rule deleted$': {\n    gettext: gettext('Smart rule deleted.')\n  },\n  '^Smart rule \"(.+?)\" created$': {\n    gettext: gettext('Smart rule \"{{name}}\" created.'),\n    placeholders: {\n      name: '$1'\n    }\n  },\n  '^Smart rule \"(.+?)\" updated$': {\n    gettext: gettext('Smart rule \"{{name}}\" updated.'),\n    placeholders: {\n      name: '$1'\n    }\n  },\n  '^Smart rule \"(.+?)\" enabled$': {\n    gettext: gettext('Smart rule \"{{name}}\" activated.'),\n    placeholders: {\n      name: '$1'\n    }\n  },\n  '^Smart rule \"(.+?)\" disabled$': {\n    gettext: gettext('Smart rule \"{{name}}\" deactivated.'),\n    placeholders: {\n      name: '$1'\n    }\n  },\n  '^Smart rule \"(.+?)\" deleted$': {\n    gettext: gettext('Smart rule \"{{name}}\" deleted.'),\n    placeholders: {\n      name: '$1'\n    }\n  },\n  '^Started container$': {\n    gettext: gettext('Container started.')\n  },\n  '^Successfully assigned (.+) to (.+)$': {\n    gettext: gettext('\"{{imageName}}\" assigned to \"{{address}}\".'),\n    placeholders: {\n      imageName: '$1',\n      address: '$2'\n    }\n  },\n  '^Successfully pulled image \"(.+)\"$': {\n    gettext: gettext('Image \"{{imageName}}\" pulled.'),\n    placeholders: {\n      imageName: '$1'\n    }\n  },\n  '^Tenant creation failed. : Tenant with given id already exists.$': {\n    gettext: gettext('Could not create a tenant. Tenant with given domain/URL already exists.')\n  },\n  '^Tenant id cannot be a reserved sql keyword \"(.+?)\".$': {\n    gettext: gettext('Could not use a reserved SQL keyword \"{{tenantId}}\" as a domain name.'),\n    placeholders: {\n      tenantId: '$1'\n    }\n  },\n  '^Tenant \"(.+?)\" activated$': {\n    gettext: gettext('Tenant \"{{tenant}}\" activated.'),\n    placeholders: {\n      tenant: '$1'\n    }\n  },\n  '^Tenant (.+?) has sub-tenants, please remove them first!$': {\n    gettext: gettext('Could not remove tenant \"{{tenant}}\". Remove its subtenants first.'),\n    placeholders: {\n      tenant: '$1'\n    }\n  },\n  '^Tenant activated$': {\n    gettext: gettext('Tenant activated')\n  },\n  '^Tenant \"(.+?)\" created$': {\n    gettext: gettext('Tenant \"{{tenant}}\" created.'),\n    placeholders: {\n      tenant: '$1'\n    }\n  },\n  '^Tenant created$': {\n    gettext: gettext('Tenant created')\n  },\n  '^Tenant \"(.+?)\" deleted$': {\n    gettext: gettext('Tenant \"{{tenant}}\" deleted.'),\n    placeholders: {\n      tenant: '$1'\n    }\n  },\n  '^Tenant deleted$': {\n    gettext: gettext('Tenant deleted')\n  },\n  '^Tenant \"(.+?)\" suspended$': {\n    gettext: gettext('Tenant \"{{tenant}}\" suspended.'),\n    placeholders: {\n      tenant: '$1'\n    }\n  },\n  '^Tenant suspended$': {\n    gettext: gettext('Tenant suspended')\n  },\n  '^Tenant \"(.+?)\" updated: (.+?)$': {\n    gettext: gettext('Tenant \"{{tenant}}\" updated: {{properties}}.'),\n    placeholders: {\n      tenant: '$1',\n      properties: '$2'\n    }\n  },\n  '^Tenant updated$': {\n    gettext: gettext('Tenant updated')\n  },\n  '^Too Many Requests$': {\n    gettext: gettext('Too many requests. Try again later.')\n  },\n  \"^User alias equals username '(.+)'$\": {\n    gettext: gettext('Username and login alias must be different.')\n  },\n  '^User created$': {\n    gettext: gettext('User created')\n  },\n  '^User (.+?) created$': {\n    gettext: gettext('User \"{{name}}\" created'),\n    placeholders: {\n      name: '$1'\n    }\n  },\n  '^User deleted$': {\n    gettext: gettext('User deleted')\n  },\n  '^User (.+?) deleted$': {\n    gettext: gettext('User \"{{name}}\" deleted'),\n    placeholders: {\n      name: '$1'\n    }\n  },\n  '^User updated$': {\n    gettext: gettext('User updated')\n  },\n  '^User (.+?) updated: (.+)$': {\n    gettext: gettext('User \"{{name}}\" updated: {{updatesList}}'),\n    placeholders: {\n      name: '$1',\n      updatesList: {\n        capture: '$2',\n        translate: {\n          \"delegatedBy='(.+?)'\": {\n            gettext: gettext('delegated by: \"{{delegate}}\"'),\n            placeholders: {\n              delegate: '$1'\n            }\n          },\n          \"owner='(.+?)'\": {\n            gettext: gettext('owner: \"{{owner}}\"'),\n            placeholders: {\n              owner: '$1'\n            }\n          },\n          'inventory assignment \\\\[(.+?)\\\\] added': {\n            gettext: gettext('inventory assignment [{{inventoryAssignment}}] added'),\n            placeholders: {\n              inventoryAssignment: '$1'\n            }\n          },\n          'inventory assignment \\\\[(.+?)\\\\] removed': {\n            gettext: gettext('inventory assignment [{{inventoryAssignment}}] removed'),\n            placeholders: {\n              inventoryAssignment: '$1'\n            }\n          },\n          'applications \\\\[(.+?)\\\\] added$': {\n            gettext: gettext('applications [{{applicationsList}}] added'),\n            placeholders: {\n              applicationsList: '$1'\n            }\n          },\n          'applications \\\\[(.+?)\\\\] removed$': {\n            gettext: gettext('applications [{{applicationsList}}] removed'),\n            placeholders: {\n              applicationsList: '$1'\n            }\n          },\n          'global roles \\\\[(.+?)\\\\] added$': {\n            gettext: gettext('global roles [{{globalRolesList}}] added'),\n            placeholders: {\n              globalRolesList: '$1'\n            }\n          },\n          'global roles \\\\[(.+?)\\\\] removed$': {\n            gettext: gettext('global roles [{{globalRolesList}}] removed'),\n            placeholders: {\n              globalRolesList: '$1'\n            }\n          }\n        }\n      }\n    }\n  },\n  \"^User with username '(.+?)' already exists! : Duplicated: (.+?)$\": {\n    gettext: gettext('User \"{{username}}\" already exists.'),\n    placeholders: {\n      username: '$1'\n    }\n  },\n  \"^User with username or alias '(.+)' already exists! : Duplicated: (.+)$\": {\n    gettext: gettext('User with username or login alias \"{{usernameOrAlias}}\" already exists.'),\n    placeholders: {\n      usernameOrAlias: '$1'\n    }\n  },\n  \"^User with email '(.+?)' already exists! : Duplicated: (.+?)$\": {\n    gettext: gettext('User with email \"{{email}}\" already exists.'),\n    placeholders: {\n      email: '$1'\n    }\n  },\n  '^unable to find option with given key (.+?) : Could not find entity Option by ID (.+?)!$': {\n    gettext: gettext('Unable to get tenant option: \"{{option}}\".'),\n    placeholders: {\n      option: '$2'\n    }\n  },\n  '^unable to find option with given key (.+?) : There is no system property for key (.+?)$': {\n    gettext: gettext('Unable to get system option: \"{{option}}\".'),\n    placeholders: {\n      option: '$2'\n    }\n  },\n  '^Write failed with error code 16733 and error message \\'trying to index text where term list is too big, max is 4mb _id: \"(.+?)\"\\'$': {\n    gettext: gettext('The uploaded image cannot be bigger than 4 MB. Please upload a smaller one.')\n  },\n  '^Write failed with error code 17280 and error message \\'WiredTigerIndex::insert: key too large to index, failing (.+?) { : \"(.+?)\" }\\'$': {\n    gettext: gettext('The chosen name is too long. Please try a shorter one.')\n  },\n  '^You have reached devices limit. No more devices can be registered.$': {\n    gettext: gettext('You reached devices limit. No more devices can be registered.')\n  },\n  '^(.+) succeeded for volume \"(.+)\"': {\n    gettext: gettext('Operation \"{{operation}}\" succeeded for volume \"{{volume}}\".'),\n    placeholders: {\n      operation: '$1',\n      volume: '$2'\n    }\n  },\n  \"^Exception on tenant (.+) in statement '(.+)': Invocation exception when invoking method '(.+)' of class '(.+)' passing parameters \\\\[(.+)\\\\] for statement '(.+)': (.+) : (.+)$\": {\n    gettext: gettext(\n      'Exception on tenant {{tenantId}} in statement \"{{moduleName}}\": Invocation exception when invoking method \"{{methodName}}\" of class \"{{classPath}}\" passing parameters [{{parameters}}] for statement \"{{statement}}\": {{exceptionType}} : {{exceptionMessage}}.'\n    ),\n    placeholders: {\n      tenantId: '$1',\n      moduleName: '$2',\n      methodName: '$3',\n      classPath: '$4',\n      parameters: '$5',\n      statement: '$6',\n      exceptionType: '$7',\n      exceptionMessage: '$8'\n    }\n  },\n  '^No nodes are available that match all of the predicates: (.+).$': {\n    gettext: gettext('No nodes are available that match all of the predicates: [{{predicates}}].'),\n    placeholders: {\n      predicates: '$1'\n    }\n  },\n  '^Readiness probe failed: (.+) (.+): (.+): request canceled while waiting for connection \\\\(Client.Timeout exceeded while awaiting headers\\\\)$': {\n    gettext: gettext(\n      'Readiness probe failed: {{requestMethod}} {{uri}}: {{protocol}}: request canceled while waiting for connection (Client.Timeout exceeded while awaiting headers).'\n    ),\n    placeholders: {\n      requestMethod: '$1',\n      uri: '$2',\n      protocol: '$3'\n    }\n  },\n  '^Liveness probe failed: (.+) (.+): (.+): request canceled while waiting for connection \\\\(Client.Timeout exceeded while awaiting headers\\\\)$': {\n    gettext: gettext(\n      'Liveness probe failed: {{requestMethod}} {{uri}}: {{protocol}}: request canceled while waiting for connection (Client.Timeout exceeded while awaiting headers).'\n    ),\n    placeholders: {\n      requestMethod: '$1',\n      uri: '$2',\n      protocol: '$3'\n    }\n  },\n  '^Error syncing pod$': {\n    gettext: gettext('Pod synchronization error.')\n  },\n  '^Failed create pod sandbox.$': {\n    gettext: gettext('Pod sandbox creation failed.')\n  },\n  '^Exception on tenant (.+) in statement \\'(.+)\\': Http status code: (\\\\d+) \\\\{error=\"alarm/Unprocessable Entity\",message=\"(.+)\",info=\"https://www.cumulocity.com/guides/reference-guide/#error_reporting\",details=\"null\"\\\\}$': {\n    gettext: gettext(\n      'Exception on tenant {{tenantId}} in statement \"{{statement}}\": HTTP status code: {{httpStatusCode}} : {{message | translate}}'\n    ),\n    placeholders: {\n      tenantId: '$1',\n      statement: '$2',\n      httpStatusCode: '$3',\n      message: '$4'\n    }\n  },\n  \"^User '(.+)' is managed by a remote identity management service defined by an administrator, direct update is forbidden$\": {\n    gettext: gettext(\n      'User \"{{userName}}\" is managed by a remote identity management service defined by an administrator, direct update is forbidden.'\n    ),\n    placeholders: {\n      userName: '$1'\n    }\n  },\n  '^Added new child device to \"(.+)\" \\\\(ID: (.+)\\\\).$': {\n    gettext: gettext('Added new child device to \"{{parentDeviceName}}\" (ID: {{parentDeviceId}}).'),\n    placeholders: {\n      parentDeviceName: '$1',\n      parentDeviceId: '$2'\n    }\n  },\n  '^Updated child device of \"(.+)\" \\\\(ID: (.+)\\\\).$': {\n    gettext: gettext('Updated child device of \"{{parentDeviceName}}\" (ID: {{parentDeviceId}}).'),\n    placeholders: {\n      parentDeviceName: '$1',\n      parentDeviceId: '$2'\n    }\n  },\n  '^Added child device \"(.+)\" \\\\(ID: (.+)\\\\).$': {\n    gettext: gettext('Added child device \"{{name}}\" (ID: {{id}}).'),\n    placeholders: {\n      name: '$1',\n      id: '$2'\n    }\n  },\n  '^Removed child device \"(.+)\" \\\\(ID: (.+)\\\\).$': {\n    gettext: gettext('Removed child device \"{{name}}\" (ID: {{id}}).'),\n    placeholders: {\n      name: '$1',\n      id: '$2'\n    }\n  },\n  '^Change value of \"(.+)\" to (.+) (.+).$': {\n    gettext: gettext('Change value of \"{{name}}\" to {{value}}{{unit}}.'),\n    placeholders: {\n      name: '$1',\n      value: '$2',\n      unit: '$3'\n    }\n  },\n  '^Change value of \"(.+)\" to (.+).$': {\n    gettext: gettext('Change value of \"{{name}}\" to {{value}}.'),\n    placeholders: {\n      name: '$1',\n      value: '$2'\n    }\n  },\n  '^Change status of \"(.+)\" to \"(.+)\".$': {\n    gettext: gettext('Change status of \"{{name}}\" to \"{{label}}\".'),\n    placeholders: {\n      name: '$1',\n      label: '$2'\n    }\n  },\n  '^Send message \"(.+)\".$': {\n    gettext: gettext('Send message \"{{str}}\".'),\n    placeholders: {\n      str: '$1'\n    }\n  },\n  '^Close relay (.+).$': {\n    gettext: gettext('Close relay {{number}}.'),\n    placeholders: {\n      number: '$1'\n    }\n  },\n  '^Open relay (.+).$': {\n    gettext: gettext('Open relay {{number}}.'),\n    placeholders: {\n      number: '$1'\n    }\n  },\n  '^Change trace status to (.+).$': {\n    gettext: gettext('Change trace status to {{state | translate}}.'),\n    placeholders: {\n      state: '$1'\n    }\n  },\n  '^Change relay status to (.+).$': {\n    gettext: gettext('Change relay status to {{status | translate}}.'),\n    placeholders: {\n      status: '$1'\n    }\n  },\n  '^Closing relay (.+).$': {\n    gettext: gettext('Closing relay {{number}}.'),\n    placeholders: {\n      number: '$1'\n    }\n  },\n  '^Opening relay (.+).$': {\n    gettext: gettext('Opening relay {{number}}.'),\n    placeholders: {\n      number: '$1'\n    }\n  },\n  '^Update bulk operation$': {\n    gettext: gettext('Update bulk operation')\n  },\n  '^Update bulk operation: (.+)$': {\n    gettext: gettext('Update bulk operation: {{updatesList}}'),\n    placeholders: bulkOperationAuditLogTextPlaceholders\n  },\n  '^Update firmware to: \"?(.+?)\"? \\\\(version: (.+)\\\\)\\\\.?$': {\n    gettext: gettext('Update firmware to: \"{{ name }}\" (version: {{ version }})'),\n    placeholders: {\n      name: '$1',\n      version: '$2'\n    }\n  },\n  '^Update firmware to: \"?(.+?)\"?\\\\.?$': {\n    gettext: gettext('Update firmware to: \"{{ name }}\"'),\n    placeholders: {\n      name: '$1'\n    }\n  },\n  '^Update configuration to (.+).$': {\n    gettext: gettext('Update configuration to: {{ name }}.'),\n    placeholders: {\n      name: '$1'\n    }\n  },\n  '^Apply device profile: (.+).?$': {\n    gettext: gettext('Apply device profile: {{ name }}'),\n    placeholders: {\n      name: '$1'\n    }\n  },\n  '^Execute generic command: (.+).?$': {\n    gettext: gettext('Execute generic command: {{command}}'),\n    placeholders: {\n      command: '$1'\n    }\n  },\n  '^Failed to refresh application. : Cannot refresh non local-hosted application.$': {\n    gettext: gettext('Could not reactivate the application as it is not hosted locally.')\n  },\n  '^Failed to refresh application. : Cannot refresh application without active version id.$': {\n    gettext: gettext('Could not reactivate the application as it has no active version.')\n  },\n  // TODO: remove if we decide not to translate such messages:\n  // '^Killing container with id (.+):Need to kill Pod$': {\n  //   gettext: gettext('Killing container with ID \"{{containerId}}\". Need to kill Pod.'),\n  //   placeholders: {\n  //     containerId: '$1'\n  //   }\n  // },\n  '^Scaled down replica set (.+) to (\\\\d+)$': {\n    gettext: gettext('Replica set \"{{replicaSetName}}\" scaled down to \"{{scaleNumber}}\".'),\n    placeholders: {\n      replicaSetName: '$1',\n      scaleNumber: '$2'\n    }\n  },\n  '^Deleted pod: (.+)$': {\n    gettext: gettext('Pod \"{{imageName}}\" deleted.'),\n    placeholders: {\n      imageName: '$1'\n    }\n  },\n  '^Container image \"(.+)\" already present on machine$': {\n    gettext: gettext('Container image \"{{imageName}}\" already exists.'),\n    placeholders: {\n      imageName: '$1'\n    }\n  },\n  '^Error updating tenant! Cannot insert second configuration for Password code grant internal/Bad Request$': {\n    gettext: gettext(\n      'This login mode was already set by another administrator. Refresh the page to update the data.'\n    )\n  }\n};\n","import { HttpClient } from '@angular/common/http';\nimport { TranslateLoader } from '@ngx-translate/core';\nimport { Observable, of } from 'rxjs';\nimport { map, catchError } from 'rxjs/operators';\nimport { Optional, Inject, Injectable } from '@angular/core';\nimport { LOCALE_PATH } from './locale.path';\nimport { LANGUAGES } from './languages';\nimport { OptionsService } from '../common/options.service';\n\n@Injectable()\nexport class TranslateCustomLoader implements TranslateLoader {\n  constructor(\n    private http: HttpClient,\n    private optionsService: OptionsService,\n    @Inject(LOCALE_PATH) private path: string = null,\n    @Inject(LANGUAGES) private languages: any = null\n  ) {}\n\n  getTranslation(lang: string): Observable<any> {\n    const path = this.path || '';\n    let url = `${path}${lang}.json`;\n    if (this.languages && this.languages[lang] && this.languages[lang].url) {\n      url = this.languages[lang].url;\n    }\n\n    return this.http.get(url).pipe(\n      map(d => {\n        if (this.optionsService.langsDetails && this.optionsService.langsDetails[lang]) {\n          return { ...d[lang], ...this.optionsService.langsDetails[lang] };\n        }\n        return d[lang];\n      }),\n      catchError(() => of({}))\n    );\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { TranslateDefaultParser } from '@ngx-translate/core';\nimport { get } from 'lodash-es';\n\nfunction isDefined(value: any): boolean {\n  return typeof value !== 'undefined' && value !== null;\n}\n\n@Injectable()\nexport class TranslateParserCustom extends TranslateDefaultParser {\n\n  getValue(target: any, key: string): any {\n    let translated = target[key];\n    if (!translated) {\n      const keys = key.split('.');\n      if (keys.length > 1) {\n        translated = get(target, key);\n      }\n    }\n    return translated;\n  }\n}\n","import { HttpClient, HttpClientModule } from '@angular/common/http';\nimport { LOCALE_ID, NgModule } from '@angular/core';\nimport {\n  MissingTranslationHandler,\n  TranslateService as NgxTranslateService,\n  TranslateCompiler,\n  TranslateFakeCompiler,\n  TranslateLoader,\n  TranslateModule,\n  TranslateParser,\n  TranslateStore,\n  USE_DEFAULT_LANG,\n  USE_STORE,\n  USE_EXTEND,\n  DEFAULT_LANGUAGE\n} from '@ngx-translate/core';\nimport { OptionsService } from '../common/public-api';\nimport { AppStateService } from '../common/ui-state.service';\nimport { LANGUAGES } from './languages';\nimport { LOCALE_PATH } from './locale.path';\nimport { MissingTranslationCustomHandler } from './missing-translation-custom.handler';\nimport { MESSAGES } from './pattern-messages.data';\nimport { HOOK_PATTERN_MESSAGES } from './patterns-message.hook';\nimport { TranslateCustomLoader } from './translate.loader';\nimport { TranslateParserCustom } from './translate.parser';\n\n// Load these as a side effect\ntry {\n  // tslint:disable:no-var-requires\n  require('@c8y/ngx-components/locales/de.po');\n  require('@c8y/ngx-components/locales/en.po');\n  require('@c8y/ngx-components/locales/es.po');\n  require('@c8y/ngx-components/locales/fr.po');\n  require('@c8y/ngx-components/locales/ja_JP.po');\n  // tslint:enable:no-var-requires\n} catch (e) {\n  // empty block\n}\n\nconst angularLocalesLanguageMap = { en: 'en-GB', 'en-EN': 'en-GB' };\n\n// AoT requires an exported function for factories\nexport function translateLoaderFactory(\n  httpClient: HttpClient,\n  optionsService: OptionsService,\n  localePath: string,\n  languages: any\n) {\n  return new TranslateCustomLoader(httpClient, optionsService, localePath, languages);\n}\n\nexport function localePathFactory(options: OptionsService) {\n  return options.localePath;\n}\n\nexport function languagesFactory(options: OptionsService) {\n  return options.languages;\n}\n\nexport function localeId(appStateService: AppStateService) {\n  return {\n    get lang() {\n      return getAngularLocalesLanguageString(appStateService.state.lang || 'en');\n    },\n    toLowerCase() {\n      return this.lang.toLowerCase();\n    },\n    toString() {\n      return this.lang;\n    }\n  };\n}\n\nexport function getAngularLocalesLanguageString(language) {\n  return angularLocalesLanguageMap[language] || language;\n}\n\n/**\n * The angular module definition for i18n (translation).\n * @exports I18nModule\n */\n@NgModule({\n  exports: [TranslateModule],\n  imports: [HttpClientModule]\n})\nexport class I18nModule {\n  static providers() {\n    return [\n      { provide: LOCALE_ID, useFactory: localeId, deps: [AppStateService] },\n      { provide: HOOK_PATTERN_MESSAGES, useValue: MESSAGES, multi: true },\n      { provide: LOCALE_PATH, useFactory: localePathFactory, deps: [OptionsService] },\n      { provide: LANGUAGES, useFactory: languagesFactory, deps: [OptionsService] },\n\n      // Extracted from projects/ngx-translate/core/src/public_api.ts\n      {\n        provide: TranslateLoader,\n        useFactory: translateLoaderFactory,\n        deps: [HttpClient, OptionsService, LOCALE_PATH, LANGUAGES]\n      },\n      { provide: TranslateCompiler, useClass: TranslateFakeCompiler },\n      { provide: TranslateParser, useClass: TranslateParserCustom },\n      { provide: MissingTranslationHandler, useClass: MissingTranslationCustomHandler },\n      TranslateStore,\n      NgxTranslateService,\n      { provide: USE_STORE, useValue: undefined },\n      { provide: USE_DEFAULT_LANG, useValue: undefined },\n      { provide: USE_EXTEND, useValue: false },\n      { provide: DEFAULT_LANGUAGE, useValue: undefined }\n    ];\n  }\n  static forRoot() {\n    return {\n      ngModule: I18nModule,\n      providers: I18nModule.providers()\n    };\n  }\n}\n","/* tslint:disable */\nrequire('!file-loader?name=assets/locales/angular/af-NA.js!@angular/common/locales/af-NA.js');\nrequire('!file-loader?name=assets/locales/angular/af.js!@angular/common/locales/af.js');\nrequire('!file-loader?name=assets/locales/angular/agq.js!@angular/common/locales/agq.js');\nrequire('!file-loader?name=assets/locales/angular/ak.js!@angular/common/locales/ak.js');\nrequire('!file-loader?name=assets/locales/angular/am.js!@angular/common/locales/am.js');\nrequire('!file-loader?name=assets/locales/angular/ar-AE.js!@angular/common/locales/ar-AE.js');\nrequire('!file-loader?name=assets/locales/angular/ar-BH.js!@angular/common/locales/ar-BH.js');\nrequire('!file-loader?name=assets/locales/angular/ar-DJ.js!@angular/common/locales/ar-DJ.js');\nrequire('!file-loader?name=assets/locales/angular/ar-DZ.js!@angular/common/locales/ar-DZ.js');\nrequire('!file-loader?name=assets/locales/angular/ar-EG.js!@angular/common/locales/ar-EG.js');\nrequire('!file-loader?name=assets/locales/angular/ar-EH.js!@angular/common/locales/ar-EH.js');\nrequire('!file-loader?name=assets/locales/angular/ar-ER.js!@angular/common/locales/ar-ER.js');\nrequire('!file-loader?name=assets/locales/angular/ar-IL.js!@angular/common/locales/ar-IL.js');\nrequire('!file-loader?name=assets/locales/angular/ar-IQ.js!@angular/common/locales/ar-IQ.js');\nrequire('!file-loader?name=assets/locales/angular/ar-JO.js!@angular/common/locales/ar-JO.js');\nrequire('!file-loader?name=assets/locales/angular/ar-KM.js!@angular/common/locales/ar-KM.js');\nrequire('!file-loader?name=assets/locales/angular/ar-KW.js!@angular/common/locales/ar-KW.js');\nrequire('!file-loader?name=assets/locales/angular/ar-LB.js!@angular/common/locales/ar-LB.js');\nrequire('!file-loader?name=assets/locales/angular/ar-LY.js!@angular/common/locales/ar-LY.js');\nrequire('!file-loader?name=assets/locales/angular/ar-MA.js!@angular/common/locales/ar-MA.js');\nrequire('!file-loader?name=assets/locales/angular/ar-MR.js!@angular/common/locales/ar-MR.js');\nrequire('!file-loader?name=assets/locales/angular/ar-OM.js!@angular/common/locales/ar-OM.js');\nrequire('!file-loader?name=assets/locales/angular/ar-PS.js!@angular/common/locales/ar-PS.js');\nrequire('!file-loader?name=assets/locales/angular/ar-QA.js!@angular/common/locales/ar-QA.js');\nrequire('!file-loader?name=assets/locales/angular/ar-SA.js!@angular/common/locales/ar-SA.js');\nrequire('!file-loader?name=assets/locales/angular/ar-SD.js!@angular/common/locales/ar-SD.js');\nrequire('!file-loader?name=assets/locales/angular/ar-SO.js!@angular/common/locales/ar-SO.js');\nrequire('!file-loader?name=assets/locales/angular/ar-SS.js!@angular/common/locales/ar-SS.js');\nrequire('!file-loader?name=assets/locales/angular/ar-SY.js!@angular/common/locales/ar-SY.js');\nrequire('!file-loader?name=assets/locales/angular/ar-TD.js!@angular/common/locales/ar-TD.js');\nrequire('!file-loader?name=assets/locales/angular/ar-TN.js!@angular/common/locales/ar-TN.js');\nrequire('!file-loader?name=assets/locales/angular/ar-YE.js!@angular/common/locales/ar-YE.js');\nrequire('!file-loader?name=assets/locales/angular/ar.js!@angular/common/locales/ar.js');\nrequire('!file-loader?name=assets/locales/angular/as.js!@angular/common/locales/as.js');\nrequire('!file-loader?name=assets/locales/angular/asa.js!@angular/common/locales/asa.js');\nrequire('!file-loader?name=assets/locales/angular/ast.js!@angular/common/locales/ast.js');\nrequire('!file-loader?name=assets/locales/angular/az-Cyrl.js!@angular/common/locales/az-Cyrl.js');\nrequire('!file-loader?name=assets/locales/angular/az-Latn.js!@angular/common/locales/az-Latn.js');\nrequire('!file-loader?name=assets/locales/angular/az.js!@angular/common/locales/az.js');\nrequire('!file-loader?name=assets/locales/angular/bas.js!@angular/common/locales/bas.js');\nrequire('!file-loader?name=assets/locales/angular/be.js!@angular/common/locales/be.js');\nrequire('!file-loader?name=assets/locales/angular/bem.js!@angular/common/locales/bem.js');\nrequire('!file-loader?name=assets/locales/angular/bez.js!@angular/common/locales/bez.js');\nrequire('!file-loader?name=assets/locales/angular/bg.js!@angular/common/locales/bg.js');\nrequire('!file-loader?name=assets/locales/angular/bm.js!@angular/common/locales/bm.js');\nrequire('!file-loader?name=assets/locales/angular/bn-IN.js!@angular/common/locales/bn-IN.js');\nrequire('!file-loader?name=assets/locales/angular/bn.js!@angular/common/locales/bn.js');\nrequire('!file-loader?name=assets/locales/angular/bo-IN.js!@angular/common/locales/bo-IN.js');\nrequire('!file-loader?name=assets/locales/angular/bo.js!@angular/common/locales/bo.js');\nrequire('!file-loader?name=assets/locales/angular/br.js!@angular/common/locales/br.js');\nrequire('!file-loader?name=assets/locales/angular/brx.js!@angular/common/locales/brx.js');\nrequire('!file-loader?name=assets/locales/angular/bs-Cyrl.js!@angular/common/locales/bs-Cyrl.js');\nrequire('!file-loader?name=assets/locales/angular/bs-Latn.js!@angular/common/locales/bs-Latn.js');\nrequire('!file-loader?name=assets/locales/angular/bs.js!@angular/common/locales/bs.js');\nrequire('!file-loader?name=assets/locales/angular/ca-AD.js!@angular/common/locales/ca-AD.js');\nrequire('!file-loader?name=assets/locales/angular/ca-ES-VALENCIA.js!@angular/common/locales/ca-ES-VALENCIA.js');\nrequire('!file-loader?name=assets/locales/angular/ca-FR.js!@angular/common/locales/ca-FR.js');\nrequire('!file-loader?name=assets/locales/angular/ca-IT.js!@angular/common/locales/ca-IT.js');\nrequire('!file-loader?name=assets/locales/angular/ca.js!@angular/common/locales/ca.js');\nrequire('!file-loader?name=assets/locales/angular/ccp-IN.js!@angular/common/locales/ccp-IN.js');\nrequire('!file-loader?name=assets/locales/angular/ccp.js!@angular/common/locales/ccp.js');\nrequire('!file-loader?name=assets/locales/angular/ce.js!@angular/common/locales/ce.js');\nrequire('!file-loader?name=assets/locales/angular/cgg.js!@angular/common/locales/cgg.js');\nrequire('!file-loader?name=assets/locales/angular/chr.js!@angular/common/locales/chr.js');\nrequire('!file-loader?name=assets/locales/angular/ckb-IR.js!@angular/common/locales/ckb-IR.js');\nrequire('!file-loader?name=assets/locales/angular/ckb.js!@angular/common/locales/ckb.js');\nrequire('!file-loader?name=assets/locales/angular/cs.js!@angular/common/locales/cs.js');\nrequire('!file-loader?name=assets/locales/angular/cu.js!@angular/common/locales/cu.js');\nrequire('!file-loader?name=assets/locales/angular/cy.js!@angular/common/locales/cy.js');\nrequire('!file-loader?name=assets/locales/angular/da-GL.js!@angular/common/locales/da-GL.js');\nrequire('!file-loader?name=assets/locales/angular/da.js!@angular/common/locales/da.js');\nrequire('!file-loader?name=assets/locales/angular/dav.js!@angular/common/locales/dav.js');\nrequire('!file-loader?name=assets/locales/angular/de-AT.js!@angular/common/locales/de-AT.js');\nrequire('!file-loader?name=assets/locales/angular/de-BE.js!@angular/common/locales/de-BE.js');\nrequire('!file-loader?name=assets/locales/angular/de-CH.js!@angular/common/locales/de-CH.js');\nrequire('!file-loader?name=assets/locales/angular/de-IT.js!@angular/common/locales/de-IT.js');\nrequire('!file-loader?name=assets/locales/angular/de-LI.js!@angular/common/locales/de-LI.js');\nrequire('!file-loader?name=assets/locales/angular/de-LU.js!@angular/common/locales/de-LU.js');\nrequire('!file-loader?name=assets/locales/angular/de.js!@angular/common/locales/de.js');\nrequire('!file-loader?name=assets/locales/angular/dje.js!@angular/common/locales/dje.js');\nrequire('!file-loader?name=assets/locales/angular/dsb.js!@angular/common/locales/dsb.js');\nrequire('!file-loader?name=assets/locales/angular/dua.js!@angular/common/locales/dua.js');\nrequire('!file-loader?name=assets/locales/angular/dyo.js!@angular/common/locales/dyo.js');\nrequire('!file-loader?name=assets/locales/angular/dz.js!@angular/common/locales/dz.js');\nrequire('!file-loader?name=assets/locales/angular/ebu.js!@angular/common/locales/ebu.js');\nrequire('!file-loader?name=assets/locales/angular/ee-TG.js!@angular/common/locales/ee-TG.js');\nrequire('!file-loader?name=assets/locales/angular/ee.js!@angular/common/locales/ee.js');\nrequire('!file-loader?name=assets/locales/angular/el-CY.js!@angular/common/locales/el-CY.js');\nrequire('!file-loader?name=assets/locales/angular/el.js!@angular/common/locales/el.js');\nrequire('!file-loader?name=assets/locales/angular/en-001.js!@angular/common/locales/en-001.js');\nrequire('!file-loader?name=assets/locales/angular/en-150.js!@angular/common/locales/en-150.js');\nrequire('!file-loader?name=assets/locales/angular/en-AG.js!@angular/common/locales/en-AG.js');\nrequire('!file-loader?name=assets/locales/angular/en-AI.js!@angular/common/locales/en-AI.js');\nrequire('!file-loader?name=assets/locales/angular/en-AS.js!@angular/common/locales/en-AS.js');\nrequire('!file-loader?name=assets/locales/angular/en-AT.js!@angular/common/locales/en-AT.js');\nrequire('!file-loader?name=assets/locales/angular/en-AU.js!@angular/common/locales/en-AU.js');\nrequire('!file-loader?name=assets/locales/angular/en-BB.js!@angular/common/locales/en-BB.js');\nrequire('!file-loader?name=assets/locales/angular/en-BE.js!@angular/common/locales/en-BE.js');\nrequire('!file-loader?name=assets/locales/angular/en-BI.js!@angular/common/locales/en-BI.js');\nrequire('!file-loader?name=assets/locales/angular/en-BM.js!@angular/common/locales/en-BM.js');\nrequire('!file-loader?name=assets/locales/angular/en-BS.js!@angular/common/locales/en-BS.js');\nrequire('!file-loader?name=assets/locales/angular/en-BW.js!@angular/common/locales/en-BW.js');\nrequire('!file-loader?name=assets/locales/angular/en-BZ.js!@angular/common/locales/en-BZ.js');\nrequire('!file-loader?name=assets/locales/angular/en-CA.js!@angular/common/locales/en-CA.js');\nrequire('!file-loader?name=assets/locales/angular/en-CC.js!@angular/common/locales/en-CC.js');\nrequire('!file-loader?name=assets/locales/angular/en-CH.js!@angular/common/locales/en-CH.js');\nrequire('!file-loader?name=assets/locales/angular/en-CK.js!@angular/common/locales/en-CK.js');\nrequire('!file-loader?name=assets/locales/angular/en-CM.js!@angular/common/locales/en-CM.js');\nrequire('!file-loader?name=assets/locales/angular/en-CX.js!@angular/common/locales/en-CX.js');\nrequire('!file-loader?name=assets/locales/angular/en-CY.js!@angular/common/locales/en-CY.js');\nrequire('!file-loader?name=assets/locales/angular/en-DE.js!@angular/common/locales/en-DE.js');\nrequire('!file-loader?name=assets/locales/angular/en-DG.js!@angular/common/locales/en-DG.js');\nrequire('!file-loader?name=assets/locales/angular/en-DK.js!@angular/common/locales/en-DK.js');\nrequire('!file-loader?name=assets/locales/angular/en-DM.js!@angular/common/locales/en-DM.js');\nrequire('!file-loader?name=assets/locales/angular/en-ER.js!@angular/common/locales/en-ER.js');\nrequire('!file-loader?name=assets/locales/angular/en-FI.js!@angular/common/locales/en-FI.js');\nrequire('!file-loader?name=assets/locales/angular/en-FJ.js!@angular/common/locales/en-FJ.js');\nrequire('!file-loader?name=assets/locales/angular/en-FK.js!@angular/common/locales/en-FK.js');\nrequire('!file-loader?name=assets/locales/angular/en-FM.js!@angular/common/locales/en-FM.js');\nrequire('!file-loader?name=assets/locales/angular/en-GB.js!@angular/common/locales/en-GB.js');\nrequire('!file-loader?name=assets/locales/angular/en-GD.js!@angular/common/locales/en-GD.js');\nrequire('!file-loader?name=assets/locales/angular/en-GG.js!@angular/common/locales/en-GG.js');\nrequire('!file-loader?name=assets/locales/angular/en-GH.js!@angular/common/locales/en-GH.js');\nrequire('!file-loader?name=assets/locales/angular/en-GI.js!@angular/common/locales/en-GI.js');\nrequire('!file-loader?name=assets/locales/angular/en-GM.js!@angular/common/locales/en-GM.js');\nrequire('!file-loader?name=assets/locales/angular/en-GU.js!@angular/common/locales/en-GU.js');\nrequire('!file-loader?name=assets/locales/angular/en-GY.js!@angular/common/locales/en-GY.js');\nrequire('!file-loader?name=assets/locales/angular/en-HK.js!@angular/common/locales/en-HK.js');\nrequire('!file-loader?name=assets/locales/angular/en-IE.js!@angular/common/locales/en-IE.js');\nrequire('!file-loader?name=assets/locales/angular/en-IL.js!@angular/common/locales/en-IL.js');\nrequire('!file-loader?name=assets/locales/angular/en-IM.js!@angular/common/locales/en-IM.js');\nrequire('!file-loader?name=assets/locales/angular/en-IN.js!@angular/common/locales/en-IN.js');\nrequire('!file-loader?name=assets/locales/angular/en-IO.js!@angular/common/locales/en-IO.js');\nrequire('!file-loader?name=assets/locales/angular/en-JE.js!@angular/common/locales/en-JE.js');\nrequire('!file-loader?name=assets/locales/angular/en-JM.js!@angular/common/locales/en-JM.js');\nrequire('!file-loader?name=assets/locales/angular/en-KE.js!@angular/common/locales/en-KE.js');\nrequire('!file-loader?name=assets/locales/angular/en-KI.js!@angular/common/locales/en-KI.js');\nrequire('!file-loader?name=assets/locales/angular/en-KN.js!@angular/common/locales/en-KN.js');\nrequire('!file-loader?name=assets/locales/angular/en-KY.js!@angular/common/locales/en-KY.js');\nrequire('!file-loader?name=assets/locales/angular/en-LC.js!@angular/common/locales/en-LC.js');\nrequire('!file-loader?name=assets/locales/angular/en-LR.js!@angular/common/locales/en-LR.js');\nrequire('!file-loader?name=assets/locales/angular/en-LS.js!@angular/common/locales/en-LS.js');\nrequire('!file-loader?name=assets/locales/angular/en-MG.js!@angular/common/locales/en-MG.js');\nrequire('!file-loader?name=assets/locales/angular/en-MH.js!@angular/common/locales/en-MH.js');\nrequire('!file-loader?name=assets/locales/angular/en-MO.js!@angular/common/locales/en-MO.js');\nrequire('!file-loader?name=assets/locales/angular/en-MP.js!@angular/common/locales/en-MP.js');\nrequire('!file-loader?name=assets/locales/angular/en-MS.js!@angular/common/locales/en-MS.js');\nrequire('!file-loader?name=assets/locales/angular/en-MT.js!@angular/common/locales/en-MT.js');\nrequire('!file-loader?name=assets/locales/angular/en-MU.js!@angular/common/locales/en-MU.js');\nrequire('!file-loader?name=assets/locales/angular/en-MW.js!@angular/common/locales/en-MW.js');\nrequire('!file-loader?name=assets/locales/angular/en-MY.js!@angular/common/locales/en-MY.js');\nrequire('!file-loader?name=assets/locales/angular/en-NA.js!@angular/common/locales/en-NA.js');\nrequire('!file-loader?name=assets/locales/angular/en-NF.js!@angular/common/locales/en-NF.js');\nrequire('!file-loader?name=assets/locales/angular/en-NG.js!@angular/common/locales/en-NG.js');\nrequire('!file-loader?name=assets/locales/angular/en-NL.js!@angular/common/locales/en-NL.js');\nrequire('!file-loader?name=assets/locales/angular/en-NR.js!@angular/common/locales/en-NR.js');\nrequire('!file-loader?name=assets/locales/angular/en-NU.js!@angular/common/locales/en-NU.js');\nrequire('!file-loader?name=assets/locales/angular/en-NZ.js!@angular/common/locales/en-NZ.js');\nrequire('!file-loader?name=assets/locales/angular/en-PG.js!@angular/common/locales/en-PG.js');\nrequire('!file-loader?name=assets/locales/angular/en-PH.js!@angular/common/locales/en-PH.js');\nrequire('!file-loader?name=assets/locales/angular/en-PK.js!@angular/common/locales/en-PK.js');\nrequire('!file-loader?name=assets/locales/angular/en-PN.js!@angular/common/locales/en-PN.js');\nrequire('!file-loader?name=assets/locales/angular/en-PR.js!@angular/common/locales/en-PR.js');\nrequire('!file-loader?name=assets/locales/angular/en-PW.js!@angular/common/locales/en-PW.js');\nrequire('!file-loader?name=assets/locales/angular/en-RW.js!@angular/common/locales/en-RW.js');\nrequire('!file-loader?name=assets/locales/angular/en-SB.js!@angular/common/locales/en-SB.js');\nrequire('!file-loader?name=assets/locales/angular/en-SC.js!@angular/common/locales/en-SC.js');\nrequire('!file-loader?name=assets/locales/angular/en-SD.js!@angular/common/locales/en-SD.js');\nrequire('!file-loader?name=assets/locales/angular/en-SE.js!@angular/common/locales/en-SE.js');\nrequire('!file-loader?name=assets/locales/angular/en-SG.js!@angular/common/locales/en-SG.js');\nrequire('!file-loader?name=assets/locales/angular/en-SH.js!@angular/common/locales/en-SH.js');\nrequire('!file-loader?name=assets/locales/angular/en-SI.js!@angular/common/locales/en-SI.js');\nrequire('!file-loader?name=assets/locales/angular/en-SL.js!@angular/common/locales/en-SL.js');\nrequire('!file-loader?name=assets/locales/angular/en-SS.js!@angular/common/locales/en-SS.js');\nrequire('!file-loader?name=assets/locales/angular/en-SX.js!@angular/common/locales/en-SX.js');\nrequire('!file-loader?name=assets/locales/angular/en-SZ.js!@angular/common/locales/en-SZ.js');\nrequire('!file-loader?name=assets/locales/angular/en-TC.js!@angular/common/locales/en-TC.js');\nrequire('!file-loader?name=assets/locales/angular/en-TK.js!@angular/common/locales/en-TK.js');\nrequire('!file-loader?name=assets/locales/angular/en-TO.js!@angular/common/locales/en-TO.js');\nrequire('!file-loader?name=assets/locales/angular/en-TT.js!@angular/common/locales/en-TT.js');\nrequire('!file-loader?name=assets/locales/angular/en-TV.js!@angular/common/locales/en-TV.js');\nrequire('!file-loader?name=assets/locales/angular/en-TZ.js!@angular/common/locales/en-TZ.js');\nrequire('!file-loader?name=assets/locales/angular/en-UG.js!@angular/common/locales/en-UG.js');\nrequire('!file-loader?name=assets/locales/angular/en-UM.js!@angular/common/locales/en-UM.js');\nrequire('!file-loader?name=assets/locales/angular/en-US-POSIX.js!@angular/common/locales/en-US-POSIX.js');\nrequire('!file-loader?name=assets/locales/angular/en-VC.js!@angular/common/locales/en-VC.js');\nrequire('!file-loader?name=assets/locales/angular/en-VG.js!@angular/common/locales/en-VG.js');\nrequire('!file-loader?name=assets/locales/angular/en-VI.js!@angular/common/locales/en-VI.js');\nrequire('!file-loader?name=assets/locales/angular/en-VU.js!@angular/common/locales/en-VU.js');\nrequire('!file-loader?name=assets/locales/angular/en-WS.js!@angular/common/locales/en-WS.js');\nrequire('!file-loader?name=assets/locales/angular/en-ZA.js!@angular/common/locales/en-ZA.js');\nrequire('!file-loader?name=assets/locales/angular/en-ZM.js!@angular/common/locales/en-ZM.js');\nrequire('!file-loader?name=assets/locales/angular/en-ZW.js!@angular/common/locales/en-ZW.js');\nrequire('!file-loader?name=assets/locales/angular/en.js!@angular/common/locales/en.js');\nrequire('!file-loader?name=assets/locales/angular/eo.js!@angular/common/locales/eo.js');\nrequire('!file-loader?name=assets/locales/angular/es-419.js!@angular/common/locales/es-419.js');\nrequire('!file-loader?name=assets/locales/angular/es-AR.js!@angular/common/locales/es-AR.js');\nrequire('!file-loader?name=assets/locales/angular/es-BO.js!@angular/common/locales/es-BO.js');\nrequire('!file-loader?name=assets/locales/angular/es-BR.js!@angular/common/locales/es-BR.js');\nrequire('!file-loader?name=assets/locales/angular/es-BZ.js!@angular/common/locales/es-BZ.js');\nrequire('!file-loader?name=assets/locales/angular/es-CL.js!@angular/common/locales/es-CL.js');\nrequire('!file-loader?name=assets/locales/angular/es-CO.js!@angular/common/locales/es-CO.js');\nrequire('!file-loader?name=assets/locales/angular/es-CR.js!@angular/common/locales/es-CR.js');\nrequire('!file-loader?name=assets/locales/angular/es-CU.js!@angular/common/locales/es-CU.js');\nrequire('!file-loader?name=assets/locales/angular/es-DO.js!@angular/common/locales/es-DO.js');\nrequire('!file-loader?name=assets/locales/angular/es-EA.js!@angular/common/locales/es-EA.js');\nrequire('!file-loader?name=assets/locales/angular/es-EC.js!@angular/common/locales/es-EC.js');\nrequire('!file-loader?name=assets/locales/angular/es-GQ.js!@angular/common/locales/es-GQ.js');\nrequire('!file-loader?name=assets/locales/angular/es-GT.js!@angular/common/locales/es-GT.js');\nrequire('!file-loader?name=assets/locales/angular/es-HN.js!@angular/common/locales/es-HN.js');\nrequire('!file-loader?name=assets/locales/angular/es-IC.js!@angular/common/locales/es-IC.js');\nrequire('!file-loader?name=assets/locales/angular/es-MX.js!@angular/common/locales/es-MX.js');\nrequire('!file-loader?name=assets/locales/angular/es-NI.js!@angular/common/locales/es-NI.js');\nrequire('!file-loader?name=assets/locales/angular/es-PA.js!@angular/common/locales/es-PA.js');\nrequire('!file-loader?name=assets/locales/angular/es-PE.js!@angular/common/locales/es-PE.js');\nrequire('!file-loader?name=assets/locales/angular/es-PH.js!@angular/common/locales/es-PH.js');\nrequire('!file-loader?name=assets/locales/angular/es-PR.js!@angular/common/locales/es-PR.js');\nrequire('!file-loader?name=assets/locales/angular/es-PY.js!@angular/common/locales/es-PY.js');\nrequire('!file-loader?name=assets/locales/angular/es-SV.js!@angular/common/locales/es-SV.js');\nrequire('!file-loader?name=assets/locales/angular/es-US.js!@angular/common/locales/es-US.js');\nrequire('!file-loader?name=assets/locales/angular/es-UY.js!@angular/common/locales/es-UY.js');\nrequire('!file-loader?name=assets/locales/angular/es-VE.js!@angular/common/locales/es-VE.js');\nrequire('!file-loader?name=assets/locales/angular/es.js!@angular/common/locales/es.js');\nrequire('!file-loader?name=assets/locales/angular/et.js!@angular/common/locales/et.js');\nrequire('!file-loader?name=assets/locales/angular/eu.js!@angular/common/locales/eu.js');\nrequire('!file-loader?name=assets/locales/angular/ewo.js!@angular/common/locales/ewo.js');\nrequire('!file-loader?name=assets/locales/angular/fa-AF.js!@angular/common/locales/fa-AF.js');\nrequire('!file-loader?name=assets/locales/angular/fa.js!@angular/common/locales/fa.js');\nrequire('!file-loader?name=assets/locales/angular/ff-CM.js!@angular/common/locales/ff-CM.js');\nrequire('!file-loader?name=assets/locales/angular/ff-GN.js!@angular/common/locales/ff-GN.js');\nrequire('!file-loader?name=assets/locales/angular/ff-MR.js!@angular/common/locales/ff-MR.js');\nrequire('!file-loader?name=assets/locales/angular/ff.js!@angular/common/locales/ff.js');\nrequire('!file-loader?name=assets/locales/angular/fi.js!@angular/common/locales/fi.js');\nrequire('!file-loader?name=assets/locales/angular/fil.js!@angular/common/locales/fil.js');\nrequire('!file-loader?name=assets/locales/angular/fo-DK.js!@angular/common/locales/fo-DK.js');\nrequire('!file-loader?name=assets/locales/angular/fo.js!@angular/common/locales/fo.js');\nrequire('!file-loader?name=assets/locales/angular/fr-BE.js!@angular/common/locales/fr-BE.js');\nrequire('!file-loader?name=assets/locales/angular/fr-BF.js!@angular/common/locales/fr-BF.js');\nrequire('!file-loader?name=assets/locales/angular/fr-BI.js!@angular/common/locales/fr-BI.js');\nrequire('!file-loader?name=assets/locales/angular/fr-BJ.js!@angular/common/locales/fr-BJ.js');\nrequire('!file-loader?name=assets/locales/angular/fr-BL.js!@angular/common/locales/fr-BL.js');\nrequire('!file-loader?name=assets/locales/angular/fr-CA.js!@angular/common/locales/fr-CA.js');\nrequire('!file-loader?name=assets/locales/angular/fr-CD.js!@angular/common/locales/fr-CD.js');\nrequire('!file-loader?name=assets/locales/angular/fr-CF.js!@angular/common/locales/fr-CF.js');\nrequire('!file-loader?name=assets/locales/angular/fr-CG.js!@angular/common/locales/fr-CG.js');\nrequire('!file-loader?name=assets/locales/angular/fr-CH.js!@angular/common/locales/fr-CH.js');\nrequire('!file-loader?name=assets/locales/angular/fr-CI.js!@angular/common/locales/fr-CI.js');\nrequire('!file-loader?name=assets/locales/angular/fr-CM.js!@angular/common/locales/fr-CM.js');\nrequire('!file-loader?name=assets/locales/angular/fr-DJ.js!@angular/common/locales/fr-DJ.js');\nrequire('!file-loader?name=assets/locales/angular/fr-DZ.js!@angular/common/locales/fr-DZ.js');\nrequire('!file-loader?name=assets/locales/angular/fr-GA.js!@angular/common/locales/fr-GA.js');\nrequire('!file-loader?name=assets/locales/angular/fr-GF.js!@angular/common/locales/fr-GF.js');\nrequire('!file-loader?name=assets/locales/angular/fr-GN.js!@angular/common/locales/fr-GN.js');\nrequire('!file-loader?name=assets/locales/angular/fr-GP.js!@angular/common/locales/fr-GP.js');\nrequire('!file-loader?name=assets/locales/angular/fr-GQ.js!@angular/common/locales/fr-GQ.js');\nrequire('!file-loader?name=assets/locales/angular/fr-HT.js!@angular/common/locales/fr-HT.js');\nrequire('!file-loader?name=assets/locales/angular/fr-KM.js!@angular/common/locales/fr-KM.js');\nrequire('!file-loader?name=assets/locales/angular/fr-LU.js!@angular/common/locales/fr-LU.js');\nrequire('!file-loader?name=assets/locales/angular/fr-MA.js!@angular/common/locales/fr-MA.js');\nrequire('!file-loader?name=assets/locales/angular/fr-MC.js!@angular/common/locales/fr-MC.js');\nrequire('!file-loader?name=assets/locales/angular/fr-MF.js!@angular/common/locales/fr-MF.js');\nrequire('!file-loader?name=assets/locales/angular/fr-MG.js!@angular/common/locales/fr-MG.js');\nrequire('!file-loader?name=assets/locales/angular/fr-ML.js!@angular/common/locales/fr-ML.js');\nrequire('!file-loader?name=assets/locales/angular/fr-MQ.js!@angular/common/locales/fr-MQ.js');\nrequire('!file-loader?name=assets/locales/angular/fr-MR.js!@angular/common/locales/fr-MR.js');\nrequire('!file-loader?name=assets/locales/angular/fr-MU.js!@angular/common/locales/fr-MU.js');\nrequire('!file-loader?name=assets/locales/angular/fr-NC.js!@angular/common/locales/fr-NC.js');\nrequire('!file-loader?name=assets/locales/angular/fr-NE.js!@angular/common/locales/fr-NE.js');\nrequire('!file-loader?name=assets/locales/angular/fr-PF.js!@angular/common/locales/fr-PF.js');\nrequire('!file-loader?name=assets/locales/angular/fr-PM.js!@angular/common/locales/fr-PM.js');\nrequire('!file-loader?name=assets/locales/angular/fr-RE.js!@angular/common/locales/fr-RE.js');\nrequire('!file-loader?name=assets/locales/angular/fr-RW.js!@angular/common/locales/fr-RW.js');\nrequire('!file-loader?name=assets/locales/angular/fr-SC.js!@angular/common/locales/fr-SC.js');\nrequire('!file-loader?name=assets/locales/angular/fr-SN.js!@angular/common/locales/fr-SN.js');\nrequire('!file-loader?name=assets/locales/angular/fr-SY.js!@angular/common/locales/fr-SY.js');\nrequire('!file-loader?name=assets/locales/angular/fr-TD.js!@angular/common/locales/fr-TD.js');\nrequire('!file-loader?name=assets/locales/angular/fr-TG.js!@angular/common/locales/fr-TG.js');\nrequire('!file-loader?name=assets/locales/angular/fr-TN.js!@angular/common/locales/fr-TN.js');\nrequire('!file-loader?name=assets/locales/angular/fr-VU.js!@angular/common/locales/fr-VU.js');\nrequire('!file-loader?name=assets/locales/angular/fr-WF.js!@angular/common/locales/fr-WF.js');\nrequire('!file-loader?name=assets/locales/angular/fr-YT.js!@angular/common/locales/fr-YT.js');\nrequire('!file-loader?name=assets/locales/angular/fr.js!@angular/common/locales/fr.js');\nrequire('!file-loader?name=assets/locales/angular/fur.js!@angular/common/locales/fur.js');\nrequire('!file-loader?name=assets/locales/angular/fy.js!@angular/common/locales/fy.js');\nrequire('!file-loader?name=assets/locales/angular/ga.js!@angular/common/locales/ga.js');\nrequire('!file-loader?name=assets/locales/angular/gd.js!@angular/common/locales/gd.js');\nrequire('!file-loader?name=assets/locales/angular/gl.js!@angular/common/locales/gl.js');\nrequire('!file-loader?name=assets/locales/angular/gsw-FR.js!@angular/common/locales/gsw-FR.js');\nrequire('!file-loader?name=assets/locales/angular/gsw-LI.js!@angular/common/locales/gsw-LI.js');\nrequire('!file-loader?name=assets/locales/angular/gsw.js!@angular/common/locales/gsw.js');\nrequire('!file-loader?name=assets/locales/angular/gu.js!@angular/common/locales/gu.js');\nrequire('!file-loader?name=assets/locales/angular/guz.js!@angular/common/locales/guz.js');\nrequire('!file-loader?name=assets/locales/angular/gv.js!@angular/common/locales/gv.js');\nrequire('!file-loader?name=assets/locales/angular/ha-GH.js!@angular/common/locales/ha-GH.js');\nrequire('!file-loader?name=assets/locales/angular/ha-NE.js!@angular/common/locales/ha-NE.js');\nrequire('!file-loader?name=assets/locales/angular/ha.js!@angular/common/locales/ha.js');\nrequire('!file-loader?name=assets/locales/angular/haw.js!@angular/common/locales/haw.js');\nrequire('!file-loader?name=assets/locales/angular/he.js!@angular/common/locales/he.js');\nrequire('!file-loader?name=assets/locales/angular/hi.js!@angular/common/locales/hi.js');\nrequire('!file-loader?name=assets/locales/angular/hr-BA.js!@angular/common/locales/hr-BA.js');\nrequire('!file-loader?name=assets/locales/angular/hr.js!@angular/common/locales/hr.js');\nrequire('!file-loader?name=assets/locales/angular/hsb.js!@angular/common/locales/hsb.js');\nrequire('!file-loader?name=assets/locales/angular/hu.js!@angular/common/locales/hu.js');\nrequire('!file-loader?name=assets/locales/angular/hy.js!@angular/common/locales/hy.js');\nrequire('!file-loader?name=assets/locales/angular/id.js!@angular/common/locales/id.js');\nrequire('!file-loader?name=assets/locales/angular/ig.js!@angular/common/locales/ig.js');\nrequire('!file-loader?name=assets/locales/angular/ii.js!@angular/common/locales/ii.js');\nrequire('!file-loader?name=assets/locales/angular/is.js!@angular/common/locales/is.js');\nrequire('!file-loader?name=assets/locales/angular/it-CH.js!@angular/common/locales/it-CH.js');\nrequire('!file-loader?name=assets/locales/angular/it-SM.js!@angular/common/locales/it-SM.js');\nrequire('!file-loader?name=assets/locales/angular/it-VA.js!@angular/common/locales/it-VA.js');\nrequire('!file-loader?name=assets/locales/angular/it.js!@angular/common/locales/it.js');\nrequire('!file-loader?name=assets/locales/angular/ja.js!@angular/common/locales/ja.js');\nrequire('!file-loader?name=assets/locales/angular/jgo.js!@angular/common/locales/jgo.js');\nrequire('!file-loader?name=assets/locales/angular/jmc.js!@angular/common/locales/jmc.js');\nrequire('!file-loader?name=assets/locales/angular/ka.js!@angular/common/locales/ka.js');\nrequire('!file-loader?name=assets/locales/angular/kab.js!@angular/common/locales/kab.js');\nrequire('!file-loader?name=assets/locales/angular/kam.js!@angular/common/locales/kam.js');\nrequire('!file-loader?name=assets/locales/angular/kde.js!@angular/common/locales/kde.js');\nrequire('!file-loader?name=assets/locales/angular/kea.js!@angular/common/locales/kea.js');\nrequire('!file-loader?name=assets/locales/angular/khq.js!@angular/common/locales/khq.js');\nrequire('!file-loader?name=assets/locales/angular/ki.js!@angular/common/locales/ki.js');\nrequire('!file-loader?name=assets/locales/angular/kk.js!@angular/common/locales/kk.js');\nrequire('!file-loader?name=assets/locales/angular/kkj.js!@angular/common/locales/kkj.js');\nrequire('!file-loader?name=assets/locales/angular/kl.js!@angular/common/locales/kl.js');\nrequire('!file-loader?name=assets/locales/angular/kln.js!@angular/common/locales/kln.js');\nrequire('!file-loader?name=assets/locales/angular/km.js!@angular/common/locales/km.js');\nrequire('!file-loader?name=assets/locales/angular/kn.js!@angular/common/locales/kn.js');\nrequire('!file-loader?name=assets/locales/angular/ko-KP.js!@angular/common/locales/ko-KP.js');\nrequire('!file-loader?name=assets/locales/angular/ko.js!@angular/common/locales/ko.js');\nrequire('!file-loader?name=assets/locales/angular/kok.js!@angular/common/locales/kok.js');\nrequire('!file-loader?name=assets/locales/angular/ks.js!@angular/common/locales/ks.js');\nrequire('!file-loader?name=assets/locales/angular/ksb.js!@angular/common/locales/ksb.js');\nrequire('!file-loader?name=assets/locales/angular/ksf.js!@angular/common/locales/ksf.js');\nrequire('!file-loader?name=assets/locales/angular/ksh.js!@angular/common/locales/ksh.js');\nrequire('!file-loader?name=assets/locales/angular/kw.js!@angular/common/locales/kw.js');\nrequire('!file-loader?name=assets/locales/angular/ky.js!@angular/common/locales/ky.js');\nrequire('!file-loader?name=assets/locales/angular/lag.js!@angular/common/locales/lag.js');\nrequire('!file-loader?name=assets/locales/angular/lb.js!@angular/common/locales/lb.js');\nrequire('!file-loader?name=assets/locales/angular/lg.js!@angular/common/locales/lg.js');\nrequire('!file-loader?name=assets/locales/angular/lkt.js!@angular/common/locales/lkt.js');\nrequire('!file-loader?name=assets/locales/angular/ln-AO.js!@angular/common/locales/ln-AO.js');\nrequire('!file-loader?name=assets/locales/angular/ln-CF.js!@angular/common/locales/ln-CF.js');\nrequire('!file-loader?name=assets/locales/angular/ln-CG.js!@angular/common/locales/ln-CG.js');\nrequire('!file-loader?name=assets/locales/angular/ln.js!@angular/common/locales/ln.js');\nrequire('!file-loader?name=assets/locales/angular/lo.js!@angular/common/locales/lo.js');\nrequire('!file-loader?name=assets/locales/angular/lrc-IQ.js!@angular/common/locales/lrc-IQ.js');\nrequire('!file-loader?name=assets/locales/angular/lrc.js!@angular/common/locales/lrc.js');\nrequire('!file-loader?name=assets/locales/angular/lt.js!@angular/common/locales/lt.js');\nrequire('!file-loader?name=assets/locales/angular/lu.js!@angular/common/locales/lu.js');\nrequire('!file-loader?name=assets/locales/angular/luo.js!@angular/common/locales/luo.js');\nrequire('!file-loader?name=assets/locales/angular/luy.js!@angular/common/locales/luy.js');\nrequire('!file-loader?name=assets/locales/angular/lv.js!@angular/common/locales/lv.js');\nrequire('!file-loader?name=assets/locales/angular/mas-TZ.js!@angular/common/locales/mas-TZ.js');\nrequire('!file-loader?name=assets/locales/angular/mas.js!@angular/common/locales/mas.js');\nrequire('!file-loader?name=assets/locales/angular/mer.js!@angular/common/locales/mer.js');\nrequire('!file-loader?name=assets/locales/angular/mfe.js!@angular/common/locales/mfe.js');\nrequire('!file-loader?name=assets/locales/angular/mg.js!@angular/common/locales/mg.js');\nrequire('!file-loader?name=assets/locales/angular/mgh.js!@angular/common/locales/mgh.js');\nrequire('!file-loader?name=assets/locales/angular/mgo.js!@angular/common/locales/mgo.js');\nrequire('!file-loader?name=assets/locales/angular/mk.js!@angular/common/locales/mk.js');\nrequire('!file-loader?name=assets/locales/angular/ml.js!@angular/common/locales/ml.js');\nrequire('!file-loader?name=assets/locales/angular/mn.js!@angular/common/locales/mn.js');\nrequire('!file-loader?name=assets/locales/angular/mr.js!@angular/common/locales/mr.js');\nrequire('!file-loader?name=assets/locales/angular/ms-BN.js!@angular/common/locales/ms-BN.js');\nrequire('!file-loader?name=assets/locales/angular/ms-SG.js!@angular/common/locales/ms-SG.js');\nrequire('!file-loader?name=assets/locales/angular/ms.js!@angular/common/locales/ms.js');\nrequire('!file-loader?name=assets/locales/angular/mt.js!@angular/common/locales/mt.js');\nrequire('!file-loader?name=assets/locales/angular/mua.js!@angular/common/locales/mua.js');\nrequire('!file-loader?name=assets/locales/angular/my.js!@angular/common/locales/my.js');\nrequire('!file-loader?name=assets/locales/angular/mzn.js!@angular/common/locales/mzn.js');\nrequire('!file-loader?name=assets/locales/angular/naq.js!@angular/common/locales/naq.js');\nrequire('!file-loader?name=assets/locales/angular/nb-SJ.js!@angular/common/locales/nb-SJ.js');\nrequire('!file-loader?name=assets/locales/angular/nb.js!@angular/common/locales/nb.js');\nrequire('!file-loader?name=assets/locales/angular/nd.js!@angular/common/locales/nd.js');\nrequire('!file-loader?name=assets/locales/angular/nds-NL.js!@angular/common/locales/nds-NL.js');\nrequire('!file-loader?name=assets/locales/angular/nds.js!@angular/common/locales/nds.js');\nrequire('!file-loader?name=assets/locales/angular/ne-IN.js!@angular/common/locales/ne-IN.js');\nrequire('!file-loader?name=assets/locales/angular/ne.js!@angular/common/locales/ne.js');\nrequire('!file-loader?name=assets/locales/angular/nl-AW.js!@angular/common/locales/nl-AW.js');\nrequire('!file-loader?name=assets/locales/angular/nl-BE.js!@angular/common/locales/nl-BE.js');\nrequire('!file-loader?name=assets/locales/angular/nl-BQ.js!@angular/common/locales/nl-BQ.js');\nrequire('!file-loader?name=assets/locales/angular/nl-CW.js!@angular/common/locales/nl-CW.js');\nrequire('!file-loader?name=assets/locales/angular/nl-SR.js!@angular/common/locales/nl-SR.js');\nrequire('!file-loader?name=assets/locales/angular/nl-SX.js!@angular/common/locales/nl-SX.js');\nrequire('!file-loader?name=assets/locales/angular/nl.js!@angular/common/locales/nl.js');\nrequire('!file-loader?name=assets/locales/angular/nmg.js!@angular/common/locales/nmg.js');\nrequire('!file-loader?name=assets/locales/angular/nn.js!@angular/common/locales/nn.js');\nrequire('!file-loader?name=assets/locales/angular/nnh.js!@angular/common/locales/nnh.js');\nrequire('!file-loader?name=assets/locales/angular/nus.js!@angular/common/locales/nus.js');\nrequire('!file-loader?name=assets/locales/angular/nyn.js!@angular/common/locales/nyn.js');\nrequire('!file-loader?name=assets/locales/angular/om-KE.js!@angular/common/locales/om-KE.js');\nrequire('!file-loader?name=assets/locales/angular/om.js!@angular/common/locales/om.js');\nrequire('!file-loader?name=assets/locales/angular/or.js!@angular/common/locales/or.js');\nrequire('!file-loader?name=assets/locales/angular/os-RU.js!@angular/common/locales/os-RU.js');\nrequire('!file-loader?name=assets/locales/angular/os.js!@angular/common/locales/os.js');\nrequire('!file-loader?name=assets/locales/angular/pa-Arab.js!@angular/common/locales/pa-Arab.js');\nrequire('!file-loader?name=assets/locales/angular/pa-Guru.js!@angular/common/locales/pa-Guru.js');\nrequire('!file-loader?name=assets/locales/angular/pa.js!@angular/common/locales/pa.js');\nrequire('!file-loader?name=assets/locales/angular/pl.js!@angular/common/locales/pl.js');\nrequire('!file-loader?name=assets/locales/angular/prg.js!@angular/common/locales/prg.js');\nrequire('!file-loader?name=assets/locales/angular/ps.js!@angular/common/locales/ps.js');\nrequire('!file-loader?name=assets/locales/angular/pt-AO.js!@angular/common/locales/pt-AO.js');\nrequire('!file-loader?name=assets/locales/angular/pt-CH.js!@angular/common/locales/pt-CH.js');\nrequire('!file-loader?name=assets/locales/angular/pt-CV.js!@angular/common/locales/pt-CV.js');\nrequire('!file-loader?name=assets/locales/angular/pt-GQ.js!@angular/common/locales/pt-GQ.js');\nrequire('!file-loader?name=assets/locales/angular/pt-GW.js!@angular/common/locales/pt-GW.js');\nrequire('!file-loader?name=assets/locales/angular/pt-LU.js!@angular/common/locales/pt-LU.js');\nrequire('!file-loader?name=assets/locales/angular/pt-MO.js!@angular/common/locales/pt-MO.js');\nrequire('!file-loader?name=assets/locales/angular/pt-MZ.js!@angular/common/locales/pt-MZ.js');\nrequire('!file-loader?name=assets/locales/angular/pt-PT.js!@angular/common/locales/pt-PT.js');\nrequire('!file-loader?name=assets/locales/angular/pt-ST.js!@angular/common/locales/pt-ST.js');\nrequire('!file-loader?name=assets/locales/angular/pt-TL.js!@angular/common/locales/pt-TL.js');\nrequire('!file-loader?name=assets/locales/angular/pt.js!@angular/common/locales/pt.js');\nrequire('!file-loader?name=assets/locales/angular/qu-BO.js!@angular/common/locales/qu-BO.js');\nrequire('!file-loader?name=assets/locales/angular/qu-EC.js!@angular/common/locales/qu-EC.js');\nrequire('!file-loader?name=assets/locales/angular/qu.js!@angular/common/locales/qu.js');\nrequire('!file-loader?name=assets/locales/angular/rm.js!@angular/common/locales/rm.js');\nrequire('!file-loader?name=assets/locales/angular/rn.js!@angular/common/locales/rn.js');\nrequire('!file-loader?name=assets/locales/angular/ro-MD.js!@angular/common/locales/ro-MD.js');\nrequire('!file-loader?name=assets/locales/angular/ro.js!@angular/common/locales/ro.js');\nrequire('!file-loader?name=assets/locales/angular/rof.js!@angular/common/locales/rof.js');\nrequire('!file-loader?name=assets/locales/angular/root.js!@angular/common/locales/root.js');\nrequire('!file-loader?name=assets/locales/angular/ru-BY.js!@angular/common/locales/ru-BY.js');\nrequire('!file-loader?name=assets/locales/angular/ru-KG.js!@angular/common/locales/ru-KG.js');\nrequire('!file-loader?name=assets/locales/angular/ru-KZ.js!@angular/common/locales/ru-KZ.js');\nrequire('!file-loader?name=assets/locales/angular/ru-MD.js!@angular/common/locales/ru-MD.js');\nrequire('!file-loader?name=assets/locales/angular/ru-UA.js!@angular/common/locales/ru-UA.js');\nrequire('!file-loader?name=assets/locales/angular/ru.js!@angular/common/locales/ru.js');\nrequire('!file-loader?name=assets/locales/angular/rw.js!@angular/common/locales/rw.js');\nrequire('!file-loader?name=assets/locales/angular/rwk.js!@angular/common/locales/rwk.js');\nrequire('!file-loader?name=assets/locales/angular/sah.js!@angular/common/locales/sah.js');\nrequire('!file-loader?name=assets/locales/angular/saq.js!@angular/common/locales/saq.js');\nrequire('!file-loader?name=assets/locales/angular/sbp.js!@angular/common/locales/sbp.js');\nrequire('!file-loader?name=assets/locales/angular/sd.js!@angular/common/locales/sd.js');\nrequire('!file-loader?name=assets/locales/angular/se-FI.js!@angular/common/locales/se-FI.js');\nrequire('!file-loader?name=assets/locales/angular/se-SE.js!@angular/common/locales/se-SE.js');\nrequire('!file-loader?name=assets/locales/angular/se.js!@angular/common/locales/se.js');\nrequire('!file-loader?name=assets/locales/angular/seh.js!@angular/common/locales/seh.js');\nrequire('!file-loader?name=assets/locales/angular/ses.js!@angular/common/locales/ses.js');\nrequire('!file-loader?name=assets/locales/angular/sg.js!@angular/common/locales/sg.js');\nrequire('!file-loader?name=assets/locales/angular/shi-Latn.js!@angular/common/locales/shi-Latn.js');\nrequire('!file-loader?name=assets/locales/angular/shi-Tfng.js!@angular/common/locales/shi-Tfng.js');\nrequire('!file-loader?name=assets/locales/angular/shi.js!@angular/common/locales/shi.js');\nrequire('!file-loader?name=assets/locales/angular/si.js!@angular/common/locales/si.js');\nrequire('!file-loader?name=assets/locales/angular/sk.js!@angular/common/locales/sk.js');\nrequire('!file-loader?name=assets/locales/angular/sl.js!@angular/common/locales/sl.js');\nrequire('!file-loader?name=assets/locales/angular/smn.js!@angular/common/locales/smn.js');\nrequire('!file-loader?name=assets/locales/angular/sn.js!@angular/common/locales/sn.js');\nrequire('!file-loader?name=assets/locales/angular/so-DJ.js!@angular/common/locales/so-DJ.js');\nrequire('!file-loader?name=assets/locales/angular/so-ET.js!@angular/common/locales/so-ET.js');\nrequire('!file-loader?name=assets/locales/angular/so-KE.js!@angular/common/locales/so-KE.js');\nrequire('!file-loader?name=assets/locales/angular/so.js!@angular/common/locales/so.js');\nrequire('!file-loader?name=assets/locales/angular/sq-MK.js!@angular/common/locales/sq-MK.js');\nrequire('!file-loader?name=assets/locales/angular/sq-XK.js!@angular/common/locales/sq-XK.js');\nrequire('!file-loader?name=assets/locales/angular/sq.js!@angular/common/locales/sq.js');\nrequire('!file-loader?name=assets/locales/angular/sr-Cyrl-BA.js!@angular/common/locales/sr-Cyrl-BA.js');\nrequire('!file-loader?name=assets/locales/angular/sr-Cyrl-ME.js!@angular/common/locales/sr-Cyrl-ME.js');\nrequire('!file-loader?name=assets/locales/angular/sr-Cyrl-XK.js!@angular/common/locales/sr-Cyrl-XK.js');\nrequire('!file-loader?name=assets/locales/angular/sr-Cyrl.js!@angular/common/locales/sr-Cyrl.js');\nrequire('!file-loader?name=assets/locales/angular/sr-Latn-BA.js!@angular/common/locales/sr-Latn-BA.js');\nrequire('!file-loader?name=assets/locales/angular/sr-Latn-ME.js!@angular/common/locales/sr-Latn-ME.js');\nrequire('!file-loader?name=assets/locales/angular/sr-Latn-XK.js!@angular/common/locales/sr-Latn-XK.js');\nrequire('!file-loader?name=assets/locales/angular/sr-Latn.js!@angular/common/locales/sr-Latn.js');\nrequire('!file-loader?name=assets/locales/angular/sr.js!@angular/common/locales/sr.js');\nrequire('!file-loader?name=assets/locales/angular/sv-AX.js!@angular/common/locales/sv-AX.js');\nrequire('!file-loader?name=assets/locales/angular/sv-FI.js!@angular/common/locales/sv-FI.js');\nrequire('!file-loader?name=assets/locales/angular/sv.js!@angular/common/locales/sv.js');\nrequire('!file-loader?name=assets/locales/angular/sw-CD.js!@angular/common/locales/sw-CD.js');\nrequire('!file-loader?name=assets/locales/angular/sw-KE.js!@angular/common/locales/sw-KE.js');\nrequire('!file-loader?name=assets/locales/angular/sw-UG.js!@angular/common/locales/sw-UG.js');\nrequire('!file-loader?name=assets/locales/angular/sw.js!@angular/common/locales/sw.js');\nrequire('!file-loader?name=assets/locales/angular/ta-LK.js!@angular/common/locales/ta-LK.js');\nrequire('!file-loader?name=assets/locales/angular/ta-MY.js!@angular/common/locales/ta-MY.js');\nrequire('!file-loader?name=assets/locales/angular/ta-SG.js!@angular/common/locales/ta-SG.js');\nrequire('!file-loader?name=assets/locales/angular/ta.js!@angular/common/locales/ta.js');\nrequire('!file-loader?name=assets/locales/angular/te.js!@angular/common/locales/te.js');\nrequire('!file-loader?name=assets/locales/angular/teo-KE.js!@angular/common/locales/teo-KE.js');\nrequire('!file-loader?name=assets/locales/angular/teo.js!@angular/common/locales/teo.js');\nrequire('!file-loader?name=assets/locales/angular/tg.js!@angular/common/locales/tg.js');\nrequire('!file-loader?name=assets/locales/angular/th.js!@angular/common/locales/th.js');\nrequire('!file-loader?name=assets/locales/angular/ti-ER.js!@angular/common/locales/ti-ER.js');\nrequire('!file-loader?name=assets/locales/angular/ti.js!@angular/common/locales/ti.js');\nrequire('!file-loader?name=assets/locales/angular/tk.js!@angular/common/locales/tk.js');\nrequire('!file-loader?name=assets/locales/angular/to.js!@angular/common/locales/to.js');\nrequire('!file-loader?name=assets/locales/angular/tr-CY.js!@angular/common/locales/tr-CY.js');\nrequire('!file-loader?name=assets/locales/angular/tr.js!@angular/common/locales/tr.js');\nrequire('!file-loader?name=assets/locales/angular/tt.js!@angular/common/locales/tt.js');\nrequire('!file-loader?name=assets/locales/angular/twq.js!@angular/common/locales/twq.js');\nrequire('!file-loader?name=assets/locales/angular/tzm.js!@angular/common/locales/tzm.js');\nrequire('!file-loader?name=assets/locales/angular/ug.js!@angular/common/locales/ug.js');\nrequire('!file-loader?name=assets/locales/angular/uk.js!@angular/common/locales/uk.js');\nrequire('!file-loader?name=assets/locales/angular/ur-IN.js!@angular/common/locales/ur-IN.js');\nrequire('!file-loader?name=assets/locales/angular/ur.js!@angular/common/locales/ur.js');\nrequire('!file-loader?name=assets/locales/angular/uz-Arab.js!@angular/common/locales/uz-Arab.js');\nrequire('!file-loader?name=assets/locales/angular/uz-Cyrl.js!@angular/common/locales/uz-Cyrl.js');\nrequire('!file-loader?name=assets/locales/angular/uz-Latn.js!@angular/common/locales/uz-Latn.js');\nrequire('!file-loader?name=assets/locales/angular/uz.js!@angular/common/locales/uz.js');\nrequire('!file-loader?name=assets/locales/angular/vai-Latn.js!@angular/common/locales/vai-Latn.js');\nrequire('!file-loader?name=assets/locales/angular/vai-Vaii.js!@angular/common/locales/vai-Vaii.js');\nrequire('!file-loader?name=assets/locales/angular/vai.js!@angular/common/locales/vai.js');\nrequire('!file-loader?name=assets/locales/angular/vi.js!@angular/common/locales/vi.js');\nrequire('!file-loader?name=assets/locales/angular/vo.js!@angular/common/locales/vo.js');\nrequire('!file-loader?name=assets/locales/angular/vun.js!@angular/common/locales/vun.js');\nrequire('!file-loader?name=assets/locales/angular/wae.js!@angular/common/locales/wae.js');\nrequire('!file-loader?name=assets/locales/angular/wo.js!@angular/common/locales/wo.js');\nrequire('!file-loader?name=assets/locales/angular/xog.js!@angular/common/locales/xog.js');\nrequire('!file-loader?name=assets/locales/angular/yav.js!@angular/common/locales/yav.js');\nrequire('!file-loader?name=assets/locales/angular/yi.js!@angular/common/locales/yi.js');\nrequire('!file-loader?name=assets/locales/angular/yo-BJ.js!@angular/common/locales/yo-BJ.js');\nrequire('!file-loader?name=assets/locales/angular/yo.js!@angular/common/locales/yo.js');\nrequire('!file-loader?name=assets/locales/angular/yue-Hans.js!@angular/common/locales/yue-Hans.js');\nrequire('!file-loader?name=assets/locales/angular/yue-Hant.js!@angular/common/locales/yue-Hant.js');\nrequire('!file-loader?name=assets/locales/angular/yue.js!@angular/common/locales/yue.js');\nrequire('!file-loader?name=assets/locales/angular/zgh.js!@angular/common/locales/zgh.js');\nrequire('!file-loader?name=assets/locales/angular/zh-Hans-HK.js!@angular/common/locales/zh-Hans-HK.js');\nrequire('!file-loader?name=assets/locales/angular/zh-Hans-MO.js!@angular/common/locales/zh-Hans-MO.js');\nrequire('!file-loader?name=assets/locales/angular/zh-Hans-SG.js!@angular/common/locales/zh-Hans-SG.js');\nrequire('!file-loader?name=assets/locales/angular/zh-Hans.js!@angular/common/locales/zh-Hans.js');\nrequire('!file-loader?name=assets/locales/angular/zh-Hant-HK.js!@angular/common/locales/zh-Hant-HK.js');\nrequire('!file-loader?name=assets/locales/angular/zh-Hant-MO.js!@angular/common/locales/zh-Hant-MO.js');\nrequire('!file-loader?name=assets/locales/angular/zh-Hant.js!@angular/common/locales/zh-Hant.js');\nrequire('!file-loader?name=assets/locales/angular/zh.js!@angular/common/locales/zh.js');\nrequire('!file-loader?name=assets/locales/angular/zu.js!@angular/common/locales/zu.js');\n","export function parse(moduleSrc) {\n  const src = moduleSrc.split(/\\n/)\n    .map((l) => l.trim())\n    .filter(Boolean)\n    .filter((l) => !l.match(/^\\/?\\*/) && !l.match(/^\\/\\//))\n    .join('\\n');\n  const fn = new Function(`var exports = {};\nvar module = { exports: exports };\n${src}\nreturn exports;`);\n  return fn();\n}\n","import './import-locales';\nimport { parse } from './parse-module';\nconst cache = new Map();\n/**\n * @ignore\n */\nexport function loadLocale(moduleLang) {\n  return new Promise((resolve, reject) => {\n    if (cache.has(moduleLang)) {\n      resolve(cache.get(moduleLang));\n    } else {\n      fetch(`assets/locales/angular/${moduleLang}.js`)\n        .then((res) => res.text())\n        .then((src) => {\n          const module = parse(src);\n          cache.set(moduleLang, module);\n          resolve(module);\n        })\n        .catch(reject);\n    }\n  });\n}\n","import { registerLocaleData } from '@angular/common';\nimport { Injectable } from '@angular/core';\nimport { TranslateService as NgxTranslateService } from '@ngx-translate/core';\nimport { keys } from 'lodash-es';\nimport { OptionsService } from '../common/options.service';\nimport { AppStateService } from '../common/ui-state.service';\nimport { getAngularLocalesLanguageString } from './i18n.module';\nimport { loadLocale } from './load-locale';\n\n/**\n * A service to manage the language of the application.\n */\n@Injectable({\n  providedIn: 'root'\n})\nexport class TranslateService {\n  static SAVE_LANGUAGE_KEY = 'c8y_language';\n  static defaultLang() {\n    return window.localStorage.getItem(TranslateService.SAVE_LANGUAGE_KEY);\n  }\n  langsDetail: any =  this.options.get('languages', {});\n  langs: any = keys(this.langsDetail).filter((k) => this.langsDetail[k]);\n  private DEFAULT_SEPARATOR = '_';\n  constructor(\n    private ngxTranslate: NgxTranslateService,\n    private ui: AppStateService,\n    private options: OptionsService\n  ) {\n    const queryStringLang = this.queryStringLang();\n    if (queryStringLang) {\n      this.saveInLocalStorage(queryStringLang);\n    }\n  }\n\n  /**\n   * Switches to given language.\n   * @param lang The language as two-letter code.\n   */\n  async switchToLanguage(lang: string) {\n    const moduleLang = lang.replace('_', '-');\n\n    try {\n      await this.loadLocales(moduleLang);\n    } catch (e) {\n      const lessSpecificModuleLang = moduleLang.split('-').shift();\n      if (lessSpecificModuleLang !== moduleLang) {\n        await this.loadLocales(lessSpecificModuleLang);\n      } else {\n        throw e;\n      }\n    }\n\n    this.ngxTranslate.setDefaultLang('en');\n    this.ngxTranslate.use(lang).subscribe(() => {\n      this.ui.state$.next({ ...this.ui.state, lang });\n    });\n    // TODO: do we still need to set that lang on html?!\n    // document.querySelector('html').setAttribute('lang', lang);\n  }\n\n  async loadLocales(moduleLang) {\n    const module: any = await loadLocale(getAngularLocalesLanguageString(moduleLang));\n    registerLocaleData(module.default);\n  }\n\n  /**\n   * Finds the first supported language\n   */\n  firstSupportedLanguage() {\n    const languages = [\n        this.queryStringLang(),\n        this.localStorageLang()\n      ]\n      .concat([ this.options.get('defaultLanguage') ])\n      .concat(this.browserLangs())\n      .concat(['en'])\n      .filter(Boolean);\n    return languages.find((language) => this.isSupported(language));\n  }\n\n  /**\n   * Converts a iso language code to a PO language code (e.g. de-de gets de_de).\n   * @param lang The iso language code.\n   */\n  convertToLanguageCodePO(lang: string): string {\n    const sep = lang.indexOf('-') > -1 ? '-' : this.DEFAULT_SEPARATOR;\n    const [ langMain, langSpecific ] = lang.split(sep);\n    const langLast = langSpecific ? `${this.DEFAULT_SEPARATOR}${langSpecific}` : '';\n    return `${langMain}${langLast}`;\n  }\n\n  /**\n   * Returns the language in the native language.\n   * @param lang The language two-letter code.\n   * @return The native name.\n   */\n  getNativeLanguage(lang: string): string {\n    const langData = (this.langsDetail || {})[lang] || {};\n    return langData.nativeName || lang;\n  }\n\n  saveInLocalStorage(lang: string) {\n    window.localStorage.setItem(TranslateService.SAVE_LANGUAGE_KEY, lang);\n  }\n\n  isSupported(lang: string) {\n    return this.langs.includes(lang);\n  }\n\n  /**\n   * Gets the language from the query parameter.\n   * @return The language two-letter code.\n   */\n  queryStringLang() {\n    return this.getQueryParameter('lang');\n  }\n\n  /**\n   * Gets the language from local storage.\n   * @return The language two-letter code.\n   */\n  private localStorageLang() {\n    return window.localStorage.getItem(TranslateService.SAVE_LANGUAGE_KEY);\n  }\n\n  /**\n   * Determines which language is set in the browser.\n   * @return The languages the browser supports as string array.\n   */\n  private browserLangs() {\n    const { navigator } = window;\n    const browserLanguagePropertyKeys = [\n      'languages',\n      'language',\n      'browserLanguage',\n      'systemLanguage',\n      'userLanguage'\n    ];\n    return browserLanguagePropertyKeys.reduce((languages, property) => {\n      const propertyLanguages = navigator[property];\n      if (typeof propertyLanguages === 'string') {\n        languages.push(propertyLanguages);\n      } else if (Array.isArray(propertyLanguages)) {\n        languages = languages.concat(propertyLanguages);\n      }\n      return languages;\n    }, []);\n  }\n\n  private getQueryParameter(queryKey) {\n    // TODO: replace this with URLSearchParams, ie 11 still doesn't support :()\n    const query = window.location.search.substring(1);\n    let result;\n    query.split('&').find((pair) => {\n      const [key, value] = pair.split('=');\n      if (key === queryKey) {\n        result = value;\n      }\n      return result;\n    });\n    return result;\n  }\n\n}\n","import { DatePipe as NgDatePipe } from '@angular/common';\nimport { Inject, LOCALE_ID, Pipe } from '@angular/core';\nimport { TranslateService } from '@ngx-translate/core';\nimport { gettext } from '../i18n/gettext';\n\n/**\n * The range of times supported by ECMAScript Date objects in milliseconds.\n * @see http://www.ecma-international.org/ecma-262/5.1/#sec-15.9.1.1\n */\nexport const ES_MAX_TIME_MILLISECONDS: number = 8640000000000000;\n\n/**\n * @description\n * Formats a date value according to locale rules. If no other format specified it defaults to `medium`\n * used as standard date/time format.\n *\n * Extends Angular's DatePipe in a way so that date values exceeding the range supported by ECMAScript\n * are displayed as earliest/latest supported point in time printed in the desired format pre- or postfixed\n * by the word `before` ot `after`, respectively.\n * In all other cases the pipe behaves as the standard `DatePipe`.\n *\n * @see\n * `DatePipe`\n */\n@Pipe({ name: 'c8yDate' })\nexport class DatePipe extends NgDatePipe {\n  constructor(@Inject(LOCALE_ID) locale: string, private translateService: TranslateService) {\n    super(locale);\n  }\n\n  transform(value: any, format: string = 'medium', timezone?: string, locale?: string): string | null {\n    let valueInBounds = value;\n    let valueBefore: boolean = false;\n    let valueBeyond: boolean = false;\n\n    if (typeof value === 'number' && !isNaN(value)) {\n      valueInBounds = Math.min(value, ES_MAX_TIME_MILLISECONDS);\n      valueInBounds = Math.max(valueInBounds, -ES_MAX_TIME_MILLISECONDS);\n\n      valueBefore = value < -ES_MAX_TIME_MILLISECONDS;\n      valueBeyond = value > ES_MAX_TIME_MILLISECONDS;\n    }\n    let result: string = super.transform(valueInBounds, format, timezone, locale);\n\n    if (valueBefore) {\n      result = this.translateService.instant(gettext(`before {{date}}`), { date: result });\n    } else if (valueBeyond) {\n      result = this.translateService.instant(gettext(`after {{date}}`), { date: result });\n    }\n\n    return result;\n  }\n}\n","import {\n  Component,\n  ElementRef,\n  EventEmitter,\n  HostBinding,\n  Input,\n  Output,\n  TemplateRef\n} from '@angular/core';\nimport { IIdentified, Paging } from '@c8y/client';\n\n@Component({\n  selector: 'c8y-load-more',\n  templateUrl: './load-more.component.html'\n})\nexport class LoadMoreComponent {\n  @Input()\n  paging: Paging<any>;\n  @Input()\n  useIntersection = true;\n  @Input()\n  hidden = false;\n  @Input()\n  container: ElementRef;\n  @Input()\n  class: string = 'c8y-list__item bg-transparent';\n  @Input()\n  maxIterations = 10;\n  @Input()\n  noMoreDataHint: TemplateRef<any>;\n  @Input()\n  loadNextLabel: string;\n  @Input()\n  loadingLabel: string;\n  @Output()\n  onLoad = new EventEmitter<IIdentified>();\n\n  isLoading = false;\n  counter = 0;\n  showNoMoreDataHint = false;\n  private loadUntilIntersected;\n  private readonly LOAD_SAME_PAGE_THRESHOLD = 50;\n  private intersectionObserver: IntersectionObserver;\n\n  @HostBinding('class')\n  get hostClass() {\n    return this.hidden || (!this.hasMore && !this.showNoMoreDataHint) ? '' : this.class;\n  }\n\n  get hasMore() {\n    return (\n      this.paging && (this.paging.totalPages > this.paging.currentPage || !!this.paging.nextPage)\n    );\n  }\n\n  constructor(private element: ElementRef) {}\n\n  ngAfterContentInit(): void {\n    if (this.useIntersection && 'IntersectionObserver' in window) {\n      this.intersectionObserver = new IntersectionObserver(event => this.buttonInView(event[0]), {\n        root: this.container ? this.container.nativeElement : null\n      });\n      this.intersectionObserver.observe(this.element.nativeElement);\n    }\n    this.showNoMoreDataHint = this.shouldShowNoMoreDataHint();\n  }\n\n  ngOnDestroy(): void {\n    if (this.intersectionObserver) {\n      this.intersectionObserver.disconnect();\n    }\n  }\n\n  async loadMore(event?) {\n    this.isLoading = true;\n    if (event) {\n      event.stopPropagation();\n    }\n    if (this.hasMore) {\n      const result = await this.paging.next();\n      this.counter++;\n      this.paging = result.paging;\n      this.onLoad.emit(result.data);\n      this.intersectionLoading();\n      this.showNoMoreDataHint = this.shouldShowNoMoreDataHint();\n    } else {\n      this.counter = 0;\n      this.isLoading = false;\n    }\n  }\n\n  private intersectionLoading() {\n    if (this.useIntersection && this.hasMore && this.loadUntilIntersected !== null) {\n      this.loadUntilIntersected = setTimeout(() => this.loadMore(), this.getLoadingThreshold());\n      this.useIntersection = this.shouldSwitchMode();\n    } else {\n      this.isLoading = false;\n      this.loadUntilIntersected = undefined;\n    }\n  }\n\n  private getLoadingThreshold(): number {\n    return this.LOAD_SAME_PAGE_THRESHOLD * this.counter;\n  }\n\n  private shouldShowNoMoreDataHint() {\n    return (this.counter !== 0 || this.noMoreDataHint) && !this.hasMore && !this.hidden;\n  }\n\n  private shouldSwitchMode() {\n    return this.counter < this.maxIterations || this.hidden;\n  }\n\n  private buttonInView(event) {\n    if (event.isIntersecting) {\n      this.loadMore();\n    } else if (this.loadUntilIntersected) {\n      clearTimeout(this.loadUntilIntersected);\n      this.loadUntilIntersected = null;\n      this.isLoading = false;\n    } else {\n      // avoiding a race condition when timeout is faster\n      // cleared then set\n      this.loadUntilIntersected = null;\n    }\n  }\n}\n","import { coerceNumberProperty } from '@angular/cdk/coercion';\nimport {\n  ComponentFactory,\n  ComponentFactoryResolver,\n  Directive,\n  EmbeddedViewRef,\n  Input,\n  SimpleChanges,\n  TemplateRef,\n  ViewContainerRef,\n  ViewRef\n} from '@angular/core';\nimport { IIdentified, IResultList, Paging } from '@c8y/client';\nimport { assign, get } from 'lodash-es';\nimport { isObservable, Observable, of, pipe, Subject, Subscription } from 'rxjs';\nimport { map, takeUntil, tap } from 'rxjs/operators';\nimport { RealtimeService } from '../realtime/public-api';\nimport { LoadMoreComponent } from './load-more.component';\nimport { LoadMoreMode } from './load-more.model';\n\n/**\n * A directive to iterate over IResultList<T> data from @c8y/client.\n * Depending on the [c8yForLoadMore] a load more button is:\n *  - auto: Tries to automatically load more data (default maximum 10 iterations; can be\n *          change with maxIterations settings).\n *  - show: Shows a load more button for the user to decide\n *  - none: Doesn't perform any load more action.\n *  - hidden: Loads more data automatically but with no visible button for the user.\n *\n * Additional, any rxjs operator pipe can be applied to the [c8yForPipe] input, e.g. to\n * filter the data displayed currently as well as the data loaded by subsequent requests.\n *\n * Example:\n * ```html\n * <div *c8yFor=\"let device of devices; loadMore: 'auto'; let i = index; pipe: filterPipe;\">\n *  {{ i + 1 }}. {{device.name}}\n * </div>\n * ```\n * The above example will list all entities that are applied to `devices`:\n * ```typescript\n * this.devices = this.inventoryService.list({ pageSize: 10, fragmentType: 'c8y_IsDevice' })\n * ```\n * It will display the first 10 items, if there is more space left on the screen, and there are more\n * than 10 devices, it will automatically load up to 10 pages more. If it still can't fit the screen\n * it will stop and switch to `show` mode.\n *\n * A pipe can be applied e.g. for filtering or grouping. This pipe is attached to every follow up\n * request done by the load more component:\n * ```typescript\n * this.filterPipe = pipe(\n *    map((data: []) => {\n *     return data.filter(\n *      (mo: any) => mo.name && mo.name.toLowerCase().indexOf(value.toLowerCase()) > -1\n *    );\n *  })\n * );\n * ```\n * The pipe must be an rxjs pipe and can take any operator.\n */\n@Directive({\n  selector: '[c8yFor]'\n})\nexport class ForOfDirective {\n  private cachedData: IIdentified[] = [];\n  private paging: Paging<IIdentified>;\n  private loadMoreMode: LoadMoreMode = 'auto';\n  private dataPipe = pipe(tap());\n  private pagingSub: Subscription;\n  private obs$: Observable<IIdentified[]>;\n  private loadMore: LoadMoreComponent;\n  private maxIterations = 10;\n  private notFoundTemplate: TemplateRef<any>;\n  private realtime: RealtimeService<any>;\n  private comparator: (itemA: object, itemB: object) => number;\n  private unsubscribe$: Subject<void> = new Subject();\n\n  private get shouldUseLoadMoreButton() {\n    return (\n      this.loadMoreMode === 'auto' || this.loadMoreMode === 'show' || this.loadMoreMode === 'hidden'\n    );\n  }\n\n  private get hasMoreData() {\n    return this.loadMore && this.loadMore.hasMore;\n  }\n\n  private get length() {\n    return this.cachedData.length;\n  }\n\n  /**\n   * The data setter. Must be a response from @c8y/data or an observable.\n   * You can pass an observable with null to explicitly clear the list.\n   */\n  @Input()\n  set c8yForOf(fetchData: IResultList<IIdentified> | Observable<IResultList<IIdentified>>) {\n    if (fetchData) {\n      this.obs$ = (isObservable(fetchData) ? fetchData : of(fetchData)).pipe(\n        map(result => {\n          if (result === null) {\n            this.paging = null;\n            return [];\n          }\n          const { paging, data } = result;\n          this.paging = paging;\n          return data;\n        })\n      );\n    }\n  }\n\n  /**\n   * The mode setter:\n   *  - auto: Tries to automatically load more data (default maximum 10 iterations; can be\n   *          change with maxIterations settings).\n   *  - show: Shows a load more button for the user to decide\n   *  - none: Doesn't perform any load more action.\n   *  - hidden: Loads more data automatically but with no visible button for the user.\n   */\n  @Input()\n  set c8yForLoadMore(type: LoadMoreMode) {\n    this.loadMoreMode = type;\n  }\n\n  /**\n   * The pipe setter to attach any rxjs pipe to the current and more loaded data.\n   */\n  @Input()\n  set c8yForPipe(dataPipe) {\n    if (dataPipe) {\n      this.dataPipe = dataPipe;\n    }\n  }\n\n  /**\n   * A template to use if no data is found at all (e.g. if you apply a filter pipe).\n   */\n  @Input()\n  set c8yForNotFound(notFoundTemplate: TemplateRef<any>) {\n    this.notFoundTemplate = notFoundTemplate;\n    if (this.loadMore) {\n      this.loadMore.noMoreDataHint = notFoundTemplate;\n    }\n  }\n\n  /**\n   * The maximum numbers of iterations to call data from the api.\n   */\n  @Input()\n  set c8yForMaxIterations(maxIterations: number) {\n    this.maxIterations = maxIterations;\n  }\n\n  /**\n   * A RealtimeService instance.\n   */\n  @Input()\n  set c8yForRealtime(source: RealtimeService<any>) {\n    this.realtime = source;\n  }\n\n  /**\n   * A comparator function for comparing list items. Used to determine\n   * the position at which a new element should be added to the list.\n   */\n  @Input()\n  set c8yForComparator(comparator: (itemA: object, itemB: object) => number) {\n    this.comparator = comparator;\n  }\n\n  constructor(\n    private tpl: TemplateRef<any>,\n    private vcr: ViewContainerRef,\n    private componentFactoryResolver: ComponentFactoryResolver\n  ) {}\n\n  ngOnInit(): void {\n    this.handleRealtime();\n  }\n\n  private ngOnChanges(changes: SimpleChanges): void {\n    if (this.obs$ && (changes.c8yForPipe || changes.c8yForOf)) {\n      this.unsubscribePaging();\n\n      // only re-rendering  on filtering if all data is already loaded\n      // from the backend\n      const reRender = !this.hasMoreData && !!changes.c8yForPipe && !changes.c8yForOf;\n\n      if (reRender) {\n        this.obs$ = of(this.cachedData);\n      }\n      this.pagingSub = this.obs$\n        .pipe(\n          tap(data => {\n            if (!reRender) {\n              this.cachedData = data;\n            }\n          })\n        )\n        .pipe(src => this.dataPipe(src))\n        .subscribe((data: []) => {\n          this.render(data, reRender);\n        });\n    }\n  }\n\n  private ngOnDestroy(): void {\n    this.unsubscribePaging();\n    this.unsubscribe$.next();\n    this.unsubscribe$.complete();\n  }\n\n  private handleRealtime() {\n    if (this.realtime) {\n      this.realtime\n        .onCreate$()\n        .pipe(takeUntil(this.unsubscribe$))\n        .subscribe(item => this.insert(item));\n      this.realtime\n        .onUpdate$()\n        .pipe(takeUntil(this.unsubscribe$))\n        .subscribe(item => this.update(item));\n      this.realtime\n        .onDelete$()\n        .pipe(takeUntil(this.unsubscribe$))\n        .subscribe(id => this.remove(coerceNumberProperty(id)));\n    }\n  }\n\n  private render(data, reRender = false): void {\n    this.vcr.clear();\n\n    data.forEach((item, index) => {\n      const context = {\n        $implicit: item,\n        index,\n        length: this.length,\n        hasMore: this.hasMoreData\n      };\n      this.vcr.createEmbeddedView(this.tpl, context);\n    });\n\n    if (this.shouldUseLoadMoreButton) {\n      this.loadMore = this.createLoadMoreButtonComponent(reRender);\n    }\n  }\n\n  private append(data) {\n    data.forEach(item => {\n      const index = this.shouldUseLoadMoreButton ? this.vcr.length - 1 : this.vcr.length;\n      const context = {\n        $implicit: item,\n        index,\n        length: this.length,\n        hasMore: this.hasMoreData\n      };\n      this.vcr.createEmbeddedView(this.tpl, context, index);\n    });\n  }\n\n  private loadMoreData(data) {\n    if (data.length > 0) {\n      this.append(data);\n    }\n  }\n\n  private createLoadMoreButtonComponent(reRender) {\n    const componentFactory: ComponentFactory<\n      any\n    > = this.componentFactoryResolver.resolveComponentFactory(LoadMoreComponent);\n    const componentRef = this.vcr.createComponent(componentFactory);\n    const instance = componentRef.instance as LoadMoreComponent;\n    instance.paging = this.paging;\n    instance.useIntersection = this.loadMoreMode === 'auto' || this.loadMoreMode === 'hidden';\n    instance.hidden = this.loadMoreMode === 'hidden';\n    instance.maxIterations = this.maxIterations;\n    instance.noMoreDataHint = this.notFoundTemplate;\n    this.pagingSub = instance.onLoad\n      .pipe(\n        map((data: []) => this.checkForDuplicates(data)),\n        tap((data: []) => {\n          this.cachedData = this.cachedData.concat(data);\n        })\n      )\n      .pipe(src => this.dataPipe(src))\n      .subscribe(data => this.loadMoreData(data));\n    if (reRender) {\n      assign(instance, this.loadMore);\n    }\n    return instance;\n  }\n\n  private insert(item) {\n    let index: number = 0;\n\n    if (this.comparator && this.cachedData.length) {\n      let comparisionResult: number;\n      do {\n        const view: EmbeddedViewRef<any> = this.vcr.get(index) as EmbeddedViewRef<any>;\n        const itemB = get(view, 'context.$implicit');\n        comparisionResult = item && itemB ? this.comparator(item, itemB) : 0;\n        if (comparisionResult <= 0) {\n          index++;\n        }\n      } while (comparisionResult <= 0 && index < this.cachedData.length);\n    }\n\n    // Do not append elements after the last one currently loaded,\n    // as it may belong further down there on the list and will\n    // be eventually loaded with one of the next pages.\n    if (index < this.cachedData.length || this.cachedData.length === 0) {\n      const context = {\n        $implicit: item,\n        index,\n        length: this.length,\n        hasMore: this.hasMoreData\n      };\n\n      this.cachedData.splice(index, 0, item);\n      const viewRef: ViewRef = this.tpl.createEmbeddedView(context);\n      this.vcr.insert(viewRef, index);\n    }\n  }\n\n  private update(updatedItem) {\n    this.forMatchingEmbeddedViewRef(\n      (item: IIdentified) => item && updatedItem && item.id === updatedItem.id,\n      (view: EmbeddedViewRef<any>) => {\n        view.context.$implicit = updatedItem;\n        view.markForCheck();\n      }\n    );\n  }\n\n  private remove(idToRemove) {\n    this.forMatchingEmbeddedViewRef(\n      (item: IIdentified) => item && coerceNumberProperty(item.id, NaN) === idToRemove,\n      (view: EmbeddedViewRef<any>) => view.destroy()\n    );\n  }\n\n  private forMatchingEmbeddedViewRef(\n    filter: (item: IIdentified) => boolean,\n    callback: (view: EmbeddedViewRef<any>) => void\n  ) {\n    for (let i = 0; i < this.vcr.length; i++) {\n      const view: EmbeddedViewRef<any> = this.vcr.get(i) as EmbeddedViewRef<any>;\n      const item: IIdentified = get(view, 'context.$implicit');\n      if (filter(item)) {\n        callback(view);\n      }\n    }\n  }\n\n  private checkForDuplicates(data: IIdentified[]): IIdentified[] {\n    return this.realtime\n      ? data.filter(item => !this.cachedData.some(cached => cached.id === item.id))\n      : data;\n  }\n\n  private unsubscribePaging() {\n    if (this.pagingSub) {\n      this.pagingSub.unsubscribe();\n    }\n  }\n}\n","import { Pipe, PipeTransform } from '@angular/core';\nimport { TranslateService } from '@ngx-translate/core';\nimport { Observable } from 'rxjs';\nimport { gettext } from '../i18n/gettext';\nimport { get, find, negate, isUndefined } from 'lodash';\nimport { HumanizePipe } from './humanize.pipe';\n\n/*\n * Humanize an application name and translates it.\n * Usage:\n *   appNameOrApp | humanizeAppName | async\n*/\n@Pipe({ name: 'humanizeAppName' })\nexport class HumanizeAppNamePipe implements PipeTransform {\n\n  private internalApps = {\n    administration: 'Administration',\n    cockpit: 'Cockpit',\n    devicemanagement: 'Device management'\n  };\n\n  constructor(private translateService: TranslateService) {}\n\n  transform(appNameOrApp: any = 'Cumulocity'): Observable<string> {\n    const appName = this.getAppName(appNameOrApp);\n\n    let text;\n    if (this.isPublicApp(appNameOrApp)) {\n      text = gettext('{{ appName | translate }} (public)');\n    } else {\n      text = appName;\n    }\n    return this.translateService.get(text, { appName });\n  }\n\n  private getAppName(appNameOrApp) {\n    const appName = this.getFirstDefined([\n      get(appNameOrApp, 'name'),\n      get(appNameOrApp, 'contextPath'),\n      appNameOrApp\n    ]) || '';\n    return this.internalApps[appName] || appName;\n  }\n\n  private getFirstDefined(values) {\n    return find(values, negate(isUndefined));\n  }\n\n  private isPublicApp(appNameOrApp) {\n    return Boolean(get(appNameOrApp, 'public'));\n  }\n}\n","import { Pipe, PipeTransform } from '@angular/core';\nimport { upperFirst } from 'lodash-es';\n\n/*\n * Humanize any string\n * Usage:\n *   'something' | humanize\n*/\n@Pipe({ name: 'humanize' })\nexport class HumanizePipe implements PipeTransform {\n  static humanize(str: string = ''): string {\n    str = str\n      .replace(/\\./g, ' ')\n      .replace(/c8y[\\s,_]*/gi, '')\n      .replace(/_/g, ' ')\n      .replace(/([A-Z][a-z])/g, ' $1')\n      .replace(/^\\$\\.?/, '')\n      .replace(/^\\s*/, '')\n      .replace(/\\s*$/, '')\n      .replace(/\\s+/g, ' ');\n\n    return upperFirst(str);\n  }\n\n  transform(str: string): string {\n    return HumanizePipe.humanize(str);\n  }\n}\n","import { Directive, Renderer2, Input, ElementRef } from '@angular/core';\n\n/**\n * Allows to set a icon. Switches between c8y default icons\n * and font awesome icons\n * @example <i [c8yIcon]=\"'rocket'\">\n */\n@Directive({\n  selector: '[c8yIcon]',\n})\nexport class IconDirective {\n\n  @Input()\n  set c8yIcon(icon: string) {\n    this.updateIcon(icon);\n  }\n  private c8yMatch = /^c8y-/;\n  private klasses = [];\n  private currentClasses = '';\n  constructor(\n    private el: ElementRef,\n    private renderer: Renderer2\n  ) {}\n\n  private isC8y(icon) {\n    return this.c8yMatch.test(icon);\n  }\n\n  private getClasses(icon: string = '') {\n    let classes = '';\n    if (icon) {\n      const _icon = icon.trim();\n      const isC8y = this.isC8y(_icon);\n      const iconClass = isC8y ? _icon.replace(this.c8yMatch, 'c8y-icon-') : `fa-${_icon}`;\n      classes = `${isC8y ? 'c8y-icon' : 'fa fw'} ${iconClass}`;\n    }\n    return classes;\n  }\n\n  private updateIcon(icon: string) {\n    const newClasses = this.getClasses(icon);\n    if (newClasses !== this.currentClasses) {\n      this.currentClasses.split(/\\s/).filter((c) => c).forEach((klass) => {\n        this.renderer.removeClass(this.el.nativeElement, klass);\n      });\n      newClasses.split(/\\s/).filter((c) => c).forEach((klass) => {\n        this.renderer.addClass(this.el.nativeElement, klass);\n      });\n      this.currentClasses = newClasses;\n    }\n  }\n}\n\nexport const ICONS = [\n         'home',\n         'th',\n         'bar-chart-o',\n         'tasks',\n         'tachometer',\n         'bell',\n         'puzzle-piece',\n         'map-marker',\n         'location-arrow',\n         'globe',\n         'power-off',\n         'desktop',\n         'laptop',\n         'mobile',\n         'signal',\n         'qrcode',\n         'file',\n         'file-text',\n         'folder',\n         'folder-open',\n         'archive',\n         'hdd-o',\n         'book',\n         'bookmark',\n         'tag',\n         'flag',\n         'search',\n         'heart',\n         'star',\n         'bolt',\n         'rocket',\n         'cog',\n         'cogs',\n         'wrench',\n         'ban',\n         'user',\n         'users',\n         'sign-in',\n         'sign-out',\n         'upload',\n         'download',\n         'cloud-upload',\n         'cloud-download',\n         'cloud',\n         'spinner',\n         'refresh',\n         'repeat',\n         'undo',\n         'lock',\n         'unlock',\n         'info',\n         'question',\n         'exclamation',\n         'bug',\n         'calendar',\n         'random',\n         'asterisk',\n         'key',\n         'link',\n         'chain-broken',\n         'external-link',\n         'picture-o',\n         'comment',\n         'bullhorn',\n         'phone',\n         'lightbulb-o',\n         'flask',\n         'sitemap',\n         'exchange',\n         'code-fork',\n         'keyboard-o',\n         'terminal',\n         'code',\n         'clipboard',\n         'pencil',\n         'envelope',\n         'inbox',\n         'reply',\n         'share',\n         'thumbs-up',\n         'thumbs-down',\n         'check',\n         'plus',\n         'expand',\n         'compress',\n         'arrows',\n         'arrow-up',\n         'arrow-down',\n         'arrow-left',\n         'arrow-right',\n         'th-list',\n         'bars',\n         'table',\n         'columns',\n         'filter',\n         'sort',\n         'sort-up',\n         'sort-down',\n         'ellipsis-h',\n         'ellipsis-v',\n         'rss',\n         'apple',\n         'windows',\n         'android',\n         'linux'\n       ];\n","/*\n * Implementation of pure \"Mapping\" pipe based on\n * https://codeburst.io/angular-bad-practices-eab0e594ce92#389b\n */\n\nimport { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n  name: 'map'\n})\nexport class MapFunctionPipe implements PipeTransform {\n  /*\n   * This will be a universal pipe for array mappings. You may add more\n   * type checkings and runtime checkings to make sure it works correctly everywhere.\n   */\n  transform(value, mappingFunction: (arg: any) => any, thisArg?: any) {\n    return mappingFunction.apply(thisArg || this, Array.isArray(value) ? value : [value]);\n  }\n}\n","import { assign } from 'lodash-es';\nimport {\n  ComponentFactory,\n  ComponentFactoryResolver,\n  Directive,\n  ElementRef,\n  Input,\n  Renderer2,\n  TemplateRef,\n  Type,\n  ViewContainerRef\n  } from '@angular/core';\n\n/**\n * Directive to set a DOM node, a TemplateRef or any Component to a container or any node.\n * @example\n * <div *c8yOutlet=\"template\"></div>\n * <div *c8yOutlet=\"DeviceStatusComponent; properties: { node }\"></div>\n * <div *c8yOutlet=\"nodes\"></div>\n */\n@Directive({\n  selector: '[c8yOutlet]',\n})\nexport class OutletDirective {\n  private properties = {};\n  private _element;\n\n  constructor(\n    private viewContainer: ViewContainerRef,\n    private resolver: ComponentFactoryResolver,\n    private renderer: Renderer2,\n    private el: ElementRef\n  ) { }\n\n  /**\n   * Directive to set a DOM node, a TemplateRef or any Component to a container or any node.\n   * @example\n   * <div *c8yOutlet=\"template\"></div>\n   * <div *c8yOutlet=\"DeviceStatusComponent; properties: { node }\"></div>\n   * <div *c8yOutlet=\"nodes\"></div>\n   */\n  @Input() set c8yOutlet(template: TemplateRef<any> | Type<any> | Element) {\n    if (!template) {\n      return;\n    }\n    if (this._element instanceof Element) {\n      this.renderer.removeChild(this._element.parentElement,  this._element);\n    }\n    this.viewContainer.clear();\n\n    // case TemplateRef -> <div *c8yOutlet=\"template\"></div>\n    if (template instanceof TemplateRef) {\n      this.viewContainer.createEmbeddedView(template);\n\n    // case DOM Element -> <div *c8yOutlet=\"nodes\"></div>\n    } else if (template instanceof Element) {\n      const parent = this.renderer.parentNode(this.el.nativeElement);\n      this.destroy();\n      this._element = template;\n      this.renderer.insertBefore(parent, this._element, this.el.nativeElement);\n\n    // case Component -> <div *c8yOutlet=\"DeviceStatusComponent; properties: { node }\"></div>\n    } else {\n      const factory: ComponentFactory<any> = this.resolver.resolveComponentFactory(template);\n      const component = this.viewContainer.createComponent(factory);\n      assign(component.instance, this.properties);\n    }\n  }\n\n  @Input() set c8yOutletProperties(value) {\n    this.properties = value;\n  }\n\n  ngOnDestroy(): void {\n    this.destroy();\n  }\n\n  private destroy() {\n    if (this._element) {\n      const _parent = this.renderer.parentNode(this._element);\n      this.renderer.removeChild(_parent, this._element);\n    }\n  }\n}\n","import { Component, Input } from '@angular/core';\nimport { gettext } from '../i18n/gettext';\n\n@Component({\n  selector: 'c8y-progress-bar',\n  templateUrl: './progress-bar.component.html'\n})\nexport class ProgressBarComponent {\n  @Input() message: string = gettext('Loading');\n  @Input() progress: number = null;\n}\n","import { Pipe, PipeTransform } from '@angular/core';\r\n\r\n@Pipe({ name: 'shortenUserName' })\r\nexport class ShortenUserNamePipe implements PipeTransform {\r\n\r\n  transform({ firstName = '', lastName = '', userName = ''}: any): string {\r\n      let parsedFirstName = firstName.trim().split(/\\s+/).shift().substr(0, 1);\r\n      const parsedLastName = lastName.trim().split(/\\s+/).pop();\r\n\r\n      if (!parsedLastName) {\r\n        parsedFirstName = firstName.split(/\\s+/).shift();\r\n      } else {\r\n        parsedFirstName = parsedFirstName ? `${parsedFirstName}. ` : '';\r\n      }\r\n\r\n      return parsedFirstName || parsedLastName ? parsedFirstName + parsedLastName : userName;\r\n    }\r\n}\r\n","import { OperationStatus } from '@c8y/client';\n\nexport enum Status {\n  SUCCESS = 'success',\n  WARNING = 'warning',\n  DANGER = 'danger',\n  INFO = 'info'\n}\n\nexport type StatusType = Status | 'success' | 'warning' | 'danger' | 'info';\n\nexport const statusIcons = {\n  [Status.SUCCESS]: 'check-circle',\n  [Status.WARNING]: 'exclamation-triangle',\n  [Status.DANGER]: 'exclamation-circle',\n  [Status.INFO]: 'info-circle'\n};\n\nexport const statusClasses = {\n  [Status.SUCCESS]: `text-${Status.SUCCESS}`,\n  [Status.WARNING]: `text-${Status.WARNING}`,\n  [Status.DANGER]: `text-${Status.DANGER}`,\n  [Status.INFO]: `text-${Status.INFO}`\n};\n\nexport const statusAlert = {\n  [Status.SUCCESS]: `alert-${Status.SUCCESS}`,\n  [Status.WARNING]: `alert-${Status.WARNING}`,\n  [Status.DANGER]: `alert-${Status.DANGER}`,\n  [Status.INFO]: `alert-${Status.INFO}`\n};\n\nexport const operationStatusIcons = {\n  [OperationStatus.PENDING]: 'clock-o',\n  [OperationStatus.EXECUTING]: 'refresh',\n  [OperationStatus.SUCCESSFUL]: 'check-circle',\n  [OperationStatus.FAILED]: 'exclamation-circle'\n};\n\nexport const operationStatusClasses = {\n  [OperationStatus.PENDING]: 'text-info',\n  [OperationStatus.EXECUTING]: 'text-info',\n  [OperationStatus.SUCCESSFUL]: 'text-success',\n  [OperationStatus.FAILED]: 'text-danger'\n};\n","import { Component, Input } from '@angular/core';\nimport { IOperation } from '@c8y/client';\nimport { operationStatusClasses, operationStatusIcons } from './status.model';\n\n/**\n * Single operation component displays a single operation status, description and creationTime.\n *\n * Example:\n *\n * ```html\n * <c8y-single-operation [operation]=\"operation\"></c8y-single-operation>\n * ```\n */\n@Component({\n  selector: 'c8y-single-operation',\n  templateUrl: './single-operation.component.html'\n})\nexport class SingleOperationComponent {\n  @Input() operation: IOperation;\n  statusIcons: object;\n  statusClasses: object;\n\n  ngOnInit() {\n    this.statusIcons = operationStatusIcons;\n    this.statusClasses = operationStatusClasses;\n  }\n}\n","import { Observable, of } from 'rxjs';\n\nexport class UserPreferencesStorageLocal {\n  private LOCAL_STORAGE_KEY = 'userPreferences';\n  private store: any = {};\n  constructor() {\n    try {\n      const jsonStore = window.localStorage.getItem(this.LOCAL_STORAGE_KEY);\n      if (jsonStore) {\n        this.store = JSON.parse(jsonStore) || {};\n      }\n    } catch (e) {\n      // do nothing\n    }\n  }\n\n  get(key) {\n    return of(this.store[key]);\n  }\n\n  set(key, value) {\n    this.store[key] = value;\n    return this.saveJsonStore();\n  }\n\n  private saveJsonStore() {\n    return window.localStorage.setItem(this.LOCAL_STORAGE_KEY, JSON.stringify(this.store));\n  }\n}\n","import { InventoryService } from '@c8y/client';\n\nexport class UserPreferencesStorageInventory {\n  TYPE = 'c8y_UserPreference';\n\n  constructor(\n    private inventory: InventoryService\n  ) {}\n\n  async get(key) {\n    const { data } = await this.inventory.list({fragmentType: key});\n    return data.length ? data[0][key] : undefined;\n  }\n\n  async set(key, value) {\n    const { data } = await this.inventory.list({fragmentType: key});\n    const updateMo: any = {[key]: value, type: this.TYPE};\n    let out;\n\n    if (data.length) {\n      updateMo.id = data[0].id;\n      out =  this.inventory.update(updateMo);\n    } else {\n      out = this.inventory.create(updateMo);\n    }\n    return out;\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { InventoryService, UserService } from '@c8y/client';\nimport { IUser } from '@c8y/client';\nimport { Observable, from, never } from 'rxjs';\nimport { switchMap, first } from 'rxjs/operators';\nimport { UserPreferencesStorageLocal } from './user-preferences-storage-local';\nimport { UserPreferencesStorageInventory } from './user-preferences-store-inventory';\nimport { AppStateService } from '../ui-state.service';\n\n@Injectable()\nexport class UserPreferencesService {\n  currentUser: Observable<IUser>;\n  private LOCAL_STORAGE_KEY = 'userPreferences';\n  private storage: {\n    local: UserPreferencesStorageLocal,\n    inventory: UserPreferencesStorageInventory\n  };\n  constructor(\n    private user: UserService,\n    private inventory: InventoryService,\n    private appState: AppStateService\n  ) {\n    this.storage = {\n      local: new UserPreferencesStorageLocal(),\n      inventory: new UserPreferencesStorageInventory(this.inventory)\n    };\n    this.currentUser = this.appState.currentUser;\n  }\n\n  get(key): Observable<any> {\n    return this.currentUser.pipe(\n      first(),\n      switchMap((user) => this.getForUser(key, user))\n    );\n  }\n\n  set(key, value): Promise<any> {\n    return new Promise((resolve, reject) => {\n      this.currentUser.pipe(\n        first()\n      ).subscribe((user) => {\n        resolve(this.setForUser(key, value, user));\n      }, reject);\n    });\n  }\n\n  getForUser(key, user): Observable<any> {\n    const rawKey = this.getRawKey(key, user);\n    const storage = this.getStorage(user);\n    return from(storage.get(rawKey));\n  }\n\n  setForUser(key, value, user): Promise<any> {\n    const rawKey = this.getRawKey(key, user);\n    const storage = this.getStorage(user);\n    return Promise.resolve(storage.set(rawKey, value));\n  }\n\n  private getRawKey(key, user) {\n    const username = user.userName.replace(/\\./g, '__');\n    return `${key}${username}`;\n  }\n\n  private getStorage(user) {\n    return  this.user.hasAllRoles(user, ['ROLE_INVENTORY_READ', 'ROLE_INVENTORY_ADMIN']) ?\n      this.storage.inventory : this.storage.local;\n  }\n\n}\n","import { CommonModule as NgCommonModule } from '@angular/common';\nimport { APP_INITIALIZER, InjectionToken, NgModule } from '@angular/core';\nimport { DataModule } from '@c8y/ngx-components/api';\nimport { TooltipModule } from 'ngx-bootstrap/tooltip';\nimport { distinctUntilChanged, filter, map, startWith, switchMap } from 'rxjs/operators';\nimport { I18nModule } from '../i18n/i18n.module';\nimport { TranslateService } from '../i18n/public-api';\nimport { DatePipe } from './date.pipe';\nimport { ForOfDirective } from './forOf.directive';\nimport { HumanizeAppNamePipe } from './humanize-app-name.pipe';\nimport { HumanizePipe } from './humanize.pipe';\nimport { IconDirective, ICONS } from './icon.directive';\nimport { LoadMoreComponent } from './load-more.component';\nimport { MapFunctionPipe } from './map-function.pipe';\nimport { HOOK_OPTIONS, OptionsService } from './options.service';\nimport { OutletDirective } from './outlet.directive';\nimport { ProgressBarComponent } from './progress-bar.component';\nimport { ShortenUserNamePipe } from './shorten-user-name.pipe';\nimport { SingleOperationComponent } from './single-operation.component';\nimport { AppStateService } from './ui-state.service';\nimport { UserPreferencesService } from './user-preferences/user-preferences.service';\n\nexport function initializeServices(\n  translateService: TranslateService,\n  state: AppStateService,\n  userPreferences: UserPreferencesService\n) {\n  const initialize = () => {\n    const queryStringLanguage = translateService.queryStringLang();\n    const firstLanguage = translateService.firstSupportedLanguage();\n\n    /*\n      The ?lang parameter will prevent the user preference language from being activated\n    */\n    if (queryStringLanguage && translateService.isSupported(queryStringLanguage)) {\n      translateService.switchToLanguage(queryStringLanguage);\n    } else {\n      state.currentUser\n        .pipe(\n          map(user => user && user.userName),\n          filter(u => !!u),\n          distinctUntilChanged(),\n          switchMap(() => userPreferences.get('language')),\n          startWith(firstLanguage),\n          filter(lang => !!lang),\n          distinctUntilChanged()\n        )\n        .subscribe(lang => {\n          translateService.switchToLanguage(lang);\n        });\n    }\n  };\n  return initialize;\n}\n\nexport const ICON_LIST = new InjectionToken('iconList');\n\n/**\n * Commonly used directives, data access and translation. This module is the shared\n * module across all core components. It should be imported by default.\n *\n * @exports IconDirective A directive to set a c8y icon with [c8yIcon]=\"'rocket'\".\n * @exports OutletDirective A directive which allows to set DOM or Angular templates (used for upgrade).\n * @exports I18nModule Translation module.\n * @exports NgCommonModule Angular common module.\n * @exports DataModule The data layer to allow DI with @c8y/client\n * @exports HumanizeAppNamePipe Humanize an application name (e.g. in the app switcher)\n * @exports HumanizePipe Humanize a word. E.g. `device management` gets `Device management`\n * @exports ShortenUserNamePipe Allows a short name. E.g. `Foo Bar` gets `F. Bar`\n * @exports ForOfDirective A forOf directive like ngFor but with load-more function\n * @exports LoadMoreComponent A component to load more data from a certain data-source\n * @exports ProgressBarComponent Displays either defined or undefined progress.\n */\n@NgModule({\n  imports: [NgCommonModule, I18nModule, TooltipModule],\n  exports: [\n    IconDirective,\n    OutletDirective,\n    I18nModule,\n    NgCommonModule,\n    HumanizeAppNamePipe,\n    HumanizePipe,\n    ShortenUserNamePipe,\n    ForOfDirective,\n    LoadMoreComponent,\n    MapFunctionPipe,\n    ProgressBarComponent,\n    SingleOperationComponent,\n    DatePipe\n  ],\n  declarations: [\n    IconDirective,\n    OutletDirective,\n    HumanizePipe,\n    HumanizeAppNamePipe,\n    ShortenUserNamePipe,\n    ForOfDirective,\n    LoadMoreComponent,\n    MapFunctionPipe,\n    ProgressBarComponent,\n    SingleOperationComponent,\n    DatePipe\n  ],\n  entryComponents: [LoadMoreComponent]\n})\nexport class CommonModule {\n  static providers() {\n    return [\n      ...DataModule.providers(),\n      // TODO: maybe we can think of a way to remove this C8Y_APP global\n      { provide: HOOK_OPTIONS, useValue: (window as any).C8Y_APP || {}, multi: true },\n      {\n        provide: APP_INITIALIZER,\n        useFactory: initializeServices,\n        deps: [TranslateService, AppStateService, UserPreferencesService],\n        multi: true\n      },\n      { provide: ICON_LIST, useValue: ICONS, multi: false },\n      ...I18nModule.providers(),\n      UserPreferencesService,\n      OptionsService,\n      AppStateService\n    ];\n  }\n\n  static forRoot() {\n    return {\n      ngModule: CommonModule,\n      providers: CommonModule.providers()\n    };\n  }\n}\n","import { memoize as _memoize } from 'lodash-es';\n\n/**\n * Decorator to memoize function results.\n * @param resolver Cache key resolver function, used by memoize from lodash.\n */\nexport function memoize(resolver?) {\n  return (target, fnName, descriptor) => {\n    const fn = descriptor.value;\n    descriptor.value = function(...args) {\n      const memoizedFnName = `_${fnName}Memoized`;\n      if (!this[memoizedFnName]) {\n        this[memoizedFnName] = _memoize(fn, resolver);\n      }\n      return this[memoizedFnName].apply(this, args);\n    };\n  };\n}\n","import { Component, Input, ViewChild } from '@angular/core';\nimport { ActionBarItem } from './action-bar.model';\nimport { ActionBarService } from './action-bar.service';\n\n@Component({\n  selector: 'c8y-action-bar-item',\n  templateUrl: './action-bar-item.component.html'\n})\nexport class ActionBarItemComponent implements ActionBarItem {\n  @Input() placement: ('left' | 'right' | 'more') = 'left';\n  @Input() priority: number = 0;\n  @Input() itemClass = '';\n  @ViewChild('template', {static: false}) template: any;\n  private viewInitTimeout;\n\n  constructor(private actionBarService: ActionBarService) {}\n\n  ngAfterViewInit() {\n    this.viewInitTimeout = setTimeout(() =>\n      this.actionBarService.add(this as ActionBarItem)\n    );\n  }\n\n  ngOnDestroy() {\n    clearTimeout(this.viewInitTimeout);\n    this.actionBarService.remove(this as ActionBarItem);\n  }\n}\n","import { Component, HostBinding, Input, AfterContentInit } from '@angular/core';\nimport { filter, sortBy } from 'lodash-es';\nimport { ActionBarItem } from './action-bar.model';\n\n@Component({\n  selector: 'c8y-action-bar',\n  templateUrl: './action-bar.component.html',\n  host: { class: 'c8y-ui-action-bar' }\n})\nexport class ActionBarComponent {\n  @Input() @HostBinding('class.navigator-open') navigatorOpen = false;\n  @Input() @HostBinding('class.has-tabs') hasTabs = false;\n  @Input() @HostBinding('class.horizontal-tabs') isTabsHorizontal = false;\n  isPageToolbarExpanded = false;\n  @HostBinding('class.c8y-ui-action-bar') uiActionBar = true;\n  @Input() items: ActionBarItem[] = [];\n\n  @HostBinding() get hidden() {\n    return !(this.items && this.items.length);\n  }\n\n  getSortedItems(placement: 'left' | 'right' | 'more') {\n    return sortBy(filter(this.items, { placement }), this.byPriority);\n  }\n\n  private byPriority(item) {\n    return -item.priority;\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { RouterModule } from '@angular/router';\nimport { CollapseModule } from 'ngx-bootstrap/collapse';\nimport { BsDropdownModule } from 'ngx-bootstrap/dropdown';\nimport { CommonModule } from '../common/common.module';\nimport { ActionBarItemComponent } from './action-bar-item.component';\nimport { ActionBarComponent } from './action-bar.component';\nimport { ActionBarService } from './action-bar.service';\n\n/**\n * The angular module definition for the action bar.\n * @exports ActionBarComponent\n * @exports ActionBarItemComponent\n */\n@NgModule({\n  declarations: [\n    ActionBarComponent,\n    ActionBarItemComponent\n  ],\n  imports: [\n    BsDropdownModule,\n    CommonModule,\n    CollapseModule,\n    RouterModule.forChild([])\n  ],\n  exports: [\n    ActionBarComponent,\n    ActionBarItemComponent\n  ]\n})\nexport class ActionBarModule { }\n","import { Component, Input } from '@angular/core';\nimport { Action } from './action.model';\nimport { sortBy } from 'lodash-es';\n\n@Component({\n  selector: 'c8y-action-outlet',\n  templateUrl: './action-outlet.component.html'\n})\n\nexport class ActionOutletComponent {\n  isPageToolbarExpanded = false;\n  @Input() items: Action[] = [];\n\n  getByPriority() {\n    return sortBy(this.items, this.byPriority);\n  }\n\n  invoke(action) {\n    if (action.action) {\n      action.action.call();\n    }\n  }\n\n  private byPriority(item) {\n    return -item.priority;\n  }\n}\n","import { Component, Input, ViewChild } from '@angular/core';\nimport { Action } from './action.model';\nimport { ActionService } from './action.service';\n\n@Component({\n  selector: 'c8y-action',\n  templateUrl: './action.component.html'\n})\nexport class ActionComponent implements Action {\n  @Input() disabled: boolean = false;\n  @Input() label: string;\n  @Input() priority: number = 0;\n  @Input() icon: string;\n  @ViewChild('template', {static: false}) template: any;\n  action: () => void;\n  private viewInitTimeout;\n\n  constructor(private actionService: ActionService) {}\n\n  ngAfterViewInit() {\n    this.viewInitTimeout = setTimeout(() =>\n      this.actionService.add(this as Action)\n      );\n  }\n\n  ngOnDestroy() {\n    clearTimeout(this.viewInitTimeout);\n    this.actionService.remove(this as Action);\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { RouterModule } from '@angular/router';\nimport { BsDropdownModule } from 'ngx-bootstrap/dropdown';\nimport { CommonModule } from '../common/common.module';\nimport { ActionOutletComponent } from './action-outlet.component';\nimport { ActionComponent } from './action.component';\nimport { ActionService } from './action.service';\n\n/**\n * The angular module definition for actions.\n * @exports ActionComponent\n * @exports ActionOutletComponent\n */\n@NgModule({\n  declarations: [\n    ActionOutletComponent,\n    ActionComponent\n  ],\n  imports: [\n    CommonModule,\n    BsDropdownModule,\n    RouterModule.forChild([])\n  ],\n  exports: [\n    ActionOutletComponent,\n    ActionComponent\n  ]\n})\nexport class ActionModule { }\n","import { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'c8y-alert-details',\r\n  template: `<ng-content></ng-content>`\r\n})\r\n\r\nexport class AlertDetailsComponent {}\r\n","import { Component, TemplateRef, Attribute, HostBinding } from '@angular/core';\nimport { Alert } from './alert.model';\nimport { AlertService } from './alert.service';\nimport { BehaviorSubject } from 'rxjs';\n\n@Component({\n  selector: 'c8y-alert-outlet',\n  templateUrl: './alert-outlet.component.html'\n})\n\nexport class AlertOutletComponent {\n\n  detailDisplayedAlert: any = {};\n  @HostBinding('class.static') isStatic = false;\n  get alerts(): BehaviorSubject<Alert[]> {\n    return this.alertService.state$;\n  }\n  constructor(\n    @Attribute('position') private position: string,\n    public alertService: AlertService\n  ) {\n    this.isStatic = this.position === 'static';\n  }\n\n  getClass(alert: Alert) {\n    const classes = [];\n    if (alert.type !== 'danger') {\n      classes.push('interact');\n    }\n    classes.push(`alert-${alert.type}`);\n    return classes.join(' ');\n  }\n\n  close(alert) {\n    if (alert.onClose) {\n      alert.onClose();\n    }\n    this.alertService.remove(alert);\n  }\n\n  showDetails(alert) {\n    if (alert.onDetail) {\n      return alert.onDetail();\n    }\n    this.detailDisplayedAlert = Object.assign({}, alert);\n    this.detailDisplayedAlert.mode = 'raw';\n    this.setDetailsContent(alert);\n  }\n\n  setDetailsContent(alert) {\n    if ( this.isTemplateRef(alert.detailedData) || typeof alert.detailedData === 'string' ) {\n      this.detailDisplayedAlert.contents = alert.detailedData;\n    } else {\n      this.detailDisplayedAlert.contents = JSON.stringify(alert.detailedData, null, 2);\n    }\n  }\n\n  hasDetails(alert) {\n    return (alert.detailedData || alert.onDetail);\n  }\n\n  closeDetails() {\n    this.detailDisplayedAlert = {};\n  }\n\n  isDetailsShow(alert) {\n    return this.alertService.areSame(alert, this.detailDisplayedAlert);\n  }\n\n  isTemplateRef(value): boolean {\n    return value instanceof TemplateRef;\n  }\n\n  template(content): any {\n    return this.isTemplateRef(content) ? content : undefined;\n  }\n}\n","import { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'c8y-alert-text',\r\n  template: `<ng-content></ng-content>`\r\n})\r\n\r\nexport class AlertTextComponent {}\r\n","import { Component, OnDestroy, Input, ViewChild, ContentChild } from '@angular/core';\nimport { Alert } from './alert.model';\nimport { AlertService } from './alert.service';\nimport { AlertDetailsComponent } from './alert-details.component';\n\n@Component({\n  selector: 'c8y-alert',\n  templateUrl: './alert.component.html'\n})\n\nexport class AlertComponent implements OnDestroy, Alert {\n\n  @Input() type: 'success' | 'warning' | 'danger' | 'info' | 'system';\n  @Input() onDetail: () => void;\n  @Input() onClose: () => void;\n  @ViewChild('detailedData', {static: false}) detailedData;\n  @ViewChild('text', {static: false}) text;\n  @ContentChild(AlertDetailsComponent, {static: false}) containDetailsComponent: AlertDetailsComponent;\n  private viewInitTimeout;\n\n  constructor(public alertService: AlertService) {}\n\n  ngAfterViewInit() {\n    if (!this.containDetailsComponent) {\n      this.detailedData = null;\n    }\n    this.viewInitTimeout = setTimeout(() =>\n      this.alertService.add(this)\n    );\n  }\n\n  ngOnDestroy() {\n    clearTimeout(this.viewInitTimeout);\n    this.alertService.remove(this);\n  }\n}\n","import { NgModule } from '@angular/core';\r\nimport { AlertDetailsComponent } from './alert-details.component';\r\nimport { AlertOutletComponent } from './alert-outlet.component';\r\nimport { AlertTextComponent } from './alert-text.component';\r\nimport { AlertComponent } from './alert.component';\r\nimport { AlertService } from './alert.service';\r\nimport { CommonModule } from '../common/common.module';\r\n\r\n/**\r\n * The angular module definition for alert.\r\n * @exports AlertComponent\r\n * @exports AlertOutletComponent\r\n * @exports AlertDetailsComponent\r\n * @exports AlertTextComponent\r\n */\r\n@NgModule({\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  exports: [\r\n    AlertOutletComponent,\r\n    AlertComponent,\r\n    AlertDetailsComponent,\r\n    AlertTextComponent\r\n  ],\r\n  declarations: [\r\n    AlertOutletComponent,\r\n    AlertComponent,\r\n    AlertDetailsComponent,\r\n    AlertTextComponent\r\n  ]\r\n})\r\nexport class AlertModule { }\r\n","import { Component, Input, OnInit } from '@angular/core';\nimport { AuditService, IAuditRecord, IResultList } from '@c8y/client';\n\n@Component({\n  selector: 'c8y-audit-log',\n  templateUrl: './audit-log.component.html'\n})\nexport class AuditLogComponent implements OnInit {\n  @Input()\n  source: string | number;\n\n  records: IResultList<IAuditRecord>;\n\n  constructor(private audit: AuditService) {}\n\n  async ngOnInit() {\n    if (this.source) {\n      this.records = await this.audit.list({\n        withTotalPages: true,\n        source: this.source\n      });\n    }\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '../common/common.module';\nimport { AuditLogComponent } from './audit-log.component';\n\n/** The angular module definition for audit log. */\n@NgModule({\n  declarations: [AuditLogComponent],\n  imports: [CommonModule],\n  exports: [AuditLogComponent]\n})\nexport class AuditLogModule {}\n","export interface LoginMessage {\n  message: string;\n  type: string;\n}\n\nexport enum LoginViews {\n  None,\n  Credentials,\n  RecoverPassword,\n  SmsChallenge,\n  ChangePassword,\n  TotpChallenge,\n  TotpSetup,\n  ProvidePhoneNumber\n}\n","import { Injectable, Optional } from '@angular/core';\nimport {\n  FetchClient,\n  BasicAuth,\n  ICredentials,\n  Realtime,\n  UserService,\n  TenantService,\n  IAuthentication,\n  CookieAuth,\n  ITenantLoginOption\n} from '@c8y/client';\nimport { AppStateService } from '../common/ui-state.service';\nimport { AlertService } from '../alert/alert.service';\nimport { gettext } from '../i18n/gettext';\nimport { ApiService } from '@c8y/ngx-components/api';\nimport { switchMap } from 'rxjs/operators';\nimport { EMPTY } from 'rxjs';\nimport { LocationStrategy } from '@angular/common';\nimport { TenantLoginOptionsService } from '@c8y/client';\nimport { get } from 'lodash-es';\n\n/**\n * Service to manage the login.\n */\n@Injectable()\nexport class LoginService {\n  rememberMe: boolean = false;\n  TOKEN_KEY: string = '_tcy8';\n  TFATOKEN_KEY: string = 'TFAToken';\n  OAUTH2_INTERNAL_TYPE: string = 'OAUTH2_INTERNAL';\n  loginMode: any;\n  oauthOptions: any;\n  isFirstLogin = true;\n  GREEN_MIN_LENGTH_DEFAULT = 8;\n\n  // tslint:disable:max-line-length\n  ERROR_MESSAGES = {\n    minlength: gettext('Password must have at least 8 characters and no more than 32.'),\n    password_missmatch: gettext('Password confirmation does not match.'),\n    maxlength: gettext('Password must have at least 8 characters and no more than 32.'),\n    password_strength: gettext(\n      'Your password is not strong enough. Please include numbers, lower and upper case characters'\n    ),\n    remote_error: gettext('Server error occurred.'),\n    email: gettext('Invalid email address.'),\n    password_change: gettext('Your password is expired. Please set a new password.'),\n    password_reset_token_expired: gettext(\n      'Password reset link expired. Please enter your email address to receive a new one.'\n    ),\n    tfa_pin_invalid: gettext('The code you entered is invalid. Please try again.'),\n    pattern_phonenumber: gettext(\n      'Invalid phone number format. Only digits, spaces, slashes (\"/\") and dashes (\"-\") allowed.'\n    ),\n    pattern_newPassword: gettext(\n      'Password must have at least 8 characters and no more than 32 and can only contain letters, numbers and following symbols: `~!@#$%^&*()_|+-=?;:\\'\",.<>{}[]\\\\/'\n    ),\n    international_number_required: gettext(\n      'International phone number required, in the format +49 9 876 543 210.'\n    ),\n    phone_number_error: gettext('Could not update phone number.'),\n    pinAlreadySent: gettext(\n      'The verification code was already sent. For a new verification code, please click on the link above.'\n    ),\n    passwordConfirm: gettext('Password confirmation does not match.'),\n    tfaExpired: gettext('Two-factor authentication token expired.')\n  };\n  // tslint:enable:max-line-length\n\n  private SUCCESS_MESSAGES = {\n    password_changed: gettext('Password changed. You can now log in using new password.'),\n    password_reset_requested: gettext(\n      'Password reset request has been sent. Please check your email.'\n    ),\n    resend_sms: gettext('Verification code SMS resent.'),\n    send_sms: gettext('Verification code SMS sent.')\n  };\n\n  private passwordStrengthSetting = {\n    enforcePasswordStrength: false,\n    greenMinLength: this.GREEN_MIN_LENGTH_DEFAULT\n  };\n\n  private localhostRegExp = new RegExp('localhost');\n  private localhostIpRegExp = new RegExp('127.0.0.1');\n  private showTenantRegExp = new RegExp('showTenant');\n\n  constructor(\n    private client: FetchClient,\n    private basicAuth: BasicAuth,\n    private cookieAuth: CookieAuth,\n    private ui: AppStateService,\n    private user: UserService,\n    private tenant: TenantService,\n    private realtime: Realtime,\n    private alert: AlertService,\n    private api: ApiService,\n    private tenantLoginOptionsService: TenantLoginOptionsService,\n    @Optional() private location: LocationStrategy\n  ) {\n    this.autoLogout();\n    this.initLoginOptions();\n  }\n\n  /**\n   * Returns the current tenant.\n   * @return The tenant name.\n   */\n  getTenant() {\n    return this.client.tenant;\n  }\n\n  initLoginOptions() {\n    const loginOptions = this.ui.state.loginOptions || [];\n    const isOAuth2 = ({ type, grantType }) =>\n      type === 'OAUTH2' && grantType === 'AUTHORIZATION_CODE';\n    this.loginMode = loginOptions.find(({ type }) => type === 'OAUTH2_INTERNAL') ||\n      loginOptions.find(({ type }) => type === 'BASIC') ||\n      loginOptions.find(isOAuth2) || { type: 'BASIC' };\n    this.oauthOptions = loginOptions.find(isOAuth2) || {};\n  }\n\n  redirectToOauth() {\n    const { initRequest } = this.oauthOptions;\n    const fullPath = (this.location ? (this.location as any)._platformLocation : window).location\n      .href;\n    const redirectUrl = encodeURIComponent(fullPath);\n    const originUriParam = `${initRequest.includes('?') ? '&' : '?'}originUri=${redirectUrl}`;\n    window.location.href = `${initRequest}${originUriParam}`;\n  }\n\n  autoLogout() {\n    const errorPattern = /invalid\\scredentials.*pin.*generate/i;\n    const isTfaExpired = data =>\n      data && typeof data.message === 'string' && errorPattern.test(data.message);\n    this.ui.currentUser\n      .pipe(\n        switchMap(u =>\n          u ? this.api.hookResponse(({ response }) => response.status === 401) : EMPTY\n        )\n      )\n      .subscribe(async (apiCall: any) => {\n        const { response } = apiCall;\n        let willLogout = false;\n        if (isTfaExpired(response.data)) {\n          willLogout = true;\n        } else {\n          if (typeof response.json === 'function') {\n            const data = await response.clone().json();\n            if (isTfaExpired(data)) {\n              willLogout = true;\n            }\n          }\n        }\n        if (willLogout) {\n          this.logout(false);\n          setTimeout(() => this.alert.danger(this.ERROR_MESSAGES.tfaExpired), 500);\n        }\n      });\n  }\n\n  /**\n   * Gets the minimal number of characters that a password should have to be considered a green strong one.\n   * @return The min length for password or default value.\n   */\n  getGreenMinLength() {\n    const loginOption = this.getLoginOption();\n    const greenMinLength = Number(get(loginOption, 'greenMinLength'));\n    this.passwordStrengthSetting.greenMinLength = isNaN(greenMinLength)\n      ? this.GREEN_MIN_LENGTH_DEFAULT\n      : greenMinLength;\n    return this.passwordStrengthSetting.greenMinLength;\n  }\n\n  /**\n   * Checks if password strength is enforced.\n   * @return true if enforced.\n   */\n  getEnforcePasswordStrength() {\n    const loginOption = this.getLoginOption();\n    this.passwordStrengthSetting.enforcePasswordStrength =\n      get(loginOption, 'enforceStrength', 'false') === 'true' ? true : false;\n    return this.passwordStrengthSetting.enforcePasswordStrength;\n  }\n\n  /**\n   * Clears all backend errors.\n   */\n  cleanMessages() {\n    this.alert.clearAll();\n  }\n\n  /**\n   * Adds a new success message\n   * @param successKey The key of the success message as used in SUCCESS_MESSAGES\n   */\n  addSuccessMessage(successKey: string) {\n    const successMessage = this.SUCCESS_MESSAGES[successKey];\n    if (successMessage) {\n      this.alert.add({\n        text: successMessage,\n        type: 'success',\n        timeout: 0\n      });\n    }\n  }\n\n  /**\n   * Returns the current strategy. Defaults to cookie, if a token\n   * is found in local or session storage we switch to basic auth.\n   * @returns The current auth strategy.\n   */\n  getAuthStrategy(): IAuthentication {\n    let authStrategy = this.cookieAuth as IAuthentication;\n    const token = this.getStoredToken();\n    const tfa = this.getStoredTfaToken();\n    if (token) {\n      authStrategy = this.basicAuth;\n      this.setCredentials({ token, tfa }, this.basicAuth);\n    }\n    return authStrategy;\n  }\n\n  /**\n   * Forces the use of basic auth as strategy with this credentials.\n   * @param credentials The credentials to use.\n   */\n  useBasicAuth(credentials: ICredentials) {\n    this.setCredentials(credentials, this.basicAuth);\n    return this.basicAuth;\n  }\n\n  /**\n   * Tries to login a user with the given credentials.\n   * If successful, the current tenant and user is set. If not an error\n   * is thrown. It also verifies if the user is allowed to open the\n   * current app.\n   * @param auth The authentication strategy used.\n   * @param credentials The credentials to try to login.\n   */\n  async login(auth: IAuthentication = this.getAuthStrategy(), credentials?: ICredentials) {\n    this.client.setAuth(auth);\n\n    const tenantRes = await this.tenant.current();\n    const tenant = tenantRes.data;\n\n    if (await this.switchLoginMode(credentials)) {\n      auth = this.cookieAuth;\n    }\n\n    const userRes = await this.user.current();\n    const user = userRes.data;\n    await this.verifyAppAccess();\n\n    const supportUserName = this.getSupportUserName(credentials);\n    const token = this.setCredentials(\n      {\n        tenant: tenant.name,\n        user: (supportUserName ? `${supportUserName}$` : '') + user.userName\n      },\n      auth\n    );\n\n    if (token) {\n      this.storeBasicAuthToken(token);\n    }\n\n    await this.authFulfilled(tenant, user, supportUserName);\n  }\n\n  /**\n   * Saves tenant, user and support user info to the app state.\n   * @param tenant The current tenant object.\n   * @param user The current user object.\n   * @param supportUserName The current support user name.\n   */\n  async authFulfilled(tenant?, user?, supportUserName?) {\n    if (!tenant) {\n      const { data } = await this.tenant.current();\n      tenant = data;\n      this.client.tenant = tenant.name;\n    }\n\n    if (!user) {\n      const { data } = await this.user.current();\n      user = data;\n    }\n\n    if (!supportUserName) {\n      supportUserName = null;\n    }\n\n    this.ui.setUser({ user, supportUserName });\n    this.ui.currentTenant.next(tenant);\n  }\n\n  /**\n   * Switch the login mode to CookieAuth if the\n   * user has configured to use it in loginOptions.\n   * @param credentials The credentials for that login\n   */\n  async switchLoginMode(credentials?: ICredentials) {\n    const isPasswordGrantLogin = this.isPasswordGrantLogin(credentials);\n    if (isPasswordGrantLogin && credentials) {\n      const params = new URLSearchParams({\n        grant_type: 'PASSWORD',\n        username: credentials.user,\n        password: credentials.password,\n        tfa_code: credentials.tfa\n      });\n      const urlParams = new URLSearchParams(this.loginMode.initRequest.split('?').pop());\n      credentials.tenant = urlParams.get('tenant_id');\n      const res = await this.client.fetch(`tenant/oauth?${urlParams.toString()}`, {\n        method: 'POST',\n        body: params.toString(),\n        headers: {\n          'content-type': 'application/x-www-form-urlencoded;charset=UTF-8'\n        }\n      });\n      if (!(res as Response).ok) {\n        try {\n          const data = await res.json();\n          throw { res, data };\n        } catch (ex) {\n          throw ex;\n        }\n      }\n      this.client.setAuth(this.cookieAuth);\n      this.cleanLocalStorage();\n      this.basicAuth.logout();\n    }\n    return isPasswordGrantLogin;\n  }\n\n  isPasswordGrantLogin(credentials?: ICredentials) {\n    const isSupportUser = credentials && credentials.user.includes('$');\n    return !!(\n      !isSupportUser &&\n      this.loginMode &&\n      this.loginMode.type === this.OAUTH2_INTERNAL_TYPE\n    );\n  }\n\n  /**\n   * Verifies if user is the support user or not.\n   * @param {ICredentials} credentials credentials given by user.\n   */\n  isSupportUser(credentials?: ICredentials): boolean {\n    return credentials && credentials.user.includes('$') ? true : false;\n  }\n\n  /**\n   * Verifies if the tenant input field should be shown\n   * or not.\n   * @returns If true, show the tenant input.\n   */\n  showTenant(): boolean {\n    return !this.ui.state.loginOptions || this.isLocal() || this.isShowTenant();\n  }\n\n  /**\n   * Logs the user out\n   * @param reload If set to false, the page will not reload\n   */\n  async logout(reload = true) {\n    let resData = null;\n    try {\n      const [basicRes, cookieRes] = await this.reset();\n      resData = await cookieRes.json();\n    } catch (ex) {\n      this.alert.removeLastDanger();\n    } finally {\n      if (resData && resData.url) {\n        this.redirect(resData.url);\n      } else if (reload) {\n        window.location.reload();\n      }\n    }\n  }\n\n  /**\n   * Resets the stored auth-data\n   */\n  async reset() {\n    this.cleanLocalStorage();\n    this.cleanSessionStorage();\n    this.realtime.disconnect();\n    this.ui.currentUser.next(null);\n    return Promise.all([this.basicAuth.logout(), this.cookieAuth.logout()]);\n  }\n\n  /**\n   * Saves the TFA token to local or session storage.\n   * @param tfaToken The tfa token to save.\n   * @param storage The storage to use (local or session).\n   */\n  saveTFAToken(tfaToken: string, storage: Storage) {\n    storage.setItem(this.TFATOKEN_KEY, tfaToken);\n  }\n\n  /**\n   * Request the manifest -> on 401 user has no access to that application\n   * and we throw the error up to the login form.\n   */\n  async verifyAppAccess() {\n    try {\n      await this.ui.loadManifest();\n    } catch (ex) {\n      if (!(ex.res && ex.res.status === 404 && this.isLocal())) {\n        throw ex;\n      }\n    }\n  }\n\n  /**\n   * Sets the tenant to the client and updates the credentials on the\n   * auth strategy.\n   * @param credentials The name of the tenant.\n   * @param authStrategy The authentication strategy used.\n   * @return Returns the token if basic auth, otherwise undefined.\n   */\n  private setCredentials(credentials: ICredentials, authStrategy: IAuthentication) {\n    if (credentials.tenant) {\n      this.client.tenant = credentials.tenant;\n    }\n    // Check if a token is already set (case for support user login)\n    // if yes -> we just need to update the user, and reuse the token\n    // of the support user.\n    // Therefore we need to pass user and tenant, to get\n    // just the stored token and nothing else (see BasicAuth.ts:31).\n    const token = this.basicAuth.updateCredentials({\n      tenant: credentials.tenant,\n      user: credentials.user\n    });\n    const newCredentials = { token, ...credentials };\n\n    return authStrategy.updateCredentials(newCredentials);\n  }\n\n  /**\n   * Verifies if the current user is a developer or not.\n   * Running on localhost means development mode.\n   */\n  private isLocal(): boolean {\n    const hostname = window.location.hostname;\n    return this.localhostIpRegExp.test(hostname) || this.localhostRegExp.test(hostname);\n  }\n\n  /**\n   * Save the token to local or session storage.\n   * @param token The token to save.\n   * @param storage The storage to use (local or session).\n   */\n  private saveToken(token: string, storage: Storage) {\n    storage.setItem(this.TOKEN_KEY, token);\n  }\n\n  private storeBasicAuthToken(token: string) {\n    this.saveToken(token, sessionStorage);\n    if (this.rememberMe) {\n      this.saveToken(token, localStorage);\n    }\n  }\n\n  private cleanLocalStorage() {\n    localStorage.removeItem(this.TOKEN_KEY);\n    localStorage.removeItem(this.TFATOKEN_KEY);\n  }\n\n  private cleanSessionStorage() {\n    sessionStorage.removeItem(this.TOKEN_KEY);\n    sessionStorage.removeItem(this.TFATOKEN_KEY);\n  }\n\n  private isShowTenant(): boolean {\n    return this.showTenantRegExp.test(window.location.href);\n  }\n\n  private redirect(url: string) {\n    window.location.href = url;\n  }\n\n  private getLoginOption(): ITenantLoginOption {\n    const loginOptions = this.ui.state.loginOptions || [];\n    const [loginOption] = loginOptions;\n    return loginOption;\n  }\n\n  /**\n   * Gets support user name from credentials.\n   * @param credentials Credentials object (defaults to the stored one).\n   * @returns Support user name.\n   */\n  private getSupportUserName(credentials: ICredentials = this.getStoredCredentials()): string {\n    if (!credentials) {\n      return null;\n    }\n    const supportUserName = credentials.user.match(/^(.+\\/)?((.+)\\$)?(.+)?$/)[3];\n    return supportUserName;\n  }\n\n  /**\n   * Gets credentials object from the stored token.\n   * @returns Credentials object.\n   */\n  private getStoredCredentials(): ICredentials {\n    const token = this.getStoredToken();\n    if (!token) {\n      return null;\n    }\n    return this.decodeToken(token);\n  }\n\n  /**\n   * Gets stored token from local storage or session storage.\n   * @returns Stored token.\n   */\n  private getStoredToken(): string {\n    return localStorage.getItem(this.TOKEN_KEY) || sessionStorage.getItem(this.TOKEN_KEY);\n  }\n\n  /**\n   * Gets stored TFA token from local storage or session storage.\n   * @returns Stored TFA token.\n   */\n  private getStoredTfaToken(): string {\n    return localStorage.getItem(this.TFATOKEN_KEY) || sessionStorage.getItem(this.TFATOKEN_KEY);\n  }\n\n  /**\n   * Decodes token to credentials object.\n   * @param token Token to decode.\n   * @returns Credentials object.\n   */\n  private decodeToken(token: string): ICredentials {\n    const decoded = decodeURIComponent(escape(window.atob(token)));\n    const split = decoded.match(/(([^/]*)\\/)?([^/:]+):(.+)/);\n\n    return {\n      tenant: split[2],\n      user: split[3],\n      password: split[4]\n    };\n  }\n}\n","import { Component, Output, EventEmitter, ViewChild } from '@angular/core';\nimport { UserService, ICredentials, FetchClient, Client, IAuthentication } from '@c8y/client';\nimport { AppStateService } from '../common/ui-state.service';\nimport { AlertService } from '../alert/alert.service';\nimport { ModalComponent } from '../modal/modal.component';\nimport { LoginService } from '../login/public-api';\nimport { clone } from 'lodash-es';\nimport { gettext } from '../i18n/gettext';\n\n@Component({\n  selector: 'c8y-password-confirm-modal',\n  templateUrl: './password-confirm-modal.component.html'\n})\nexport class PasswordConfirmModalComponent {\n  @Output() passwordConfirmedEmitter = new EventEmitter<boolean>();\n  loading = false;\n  password: string;\n\n  @ViewChild('modal', { static: false }) private modal: ModalComponent;\n\n  constructor(\n    public user: UserService,\n    public ui: AppStateService,\n    private client: FetchClient,\n    private alert: AlertService,\n    private loginService: LoginService\n  ) {}\n\n  async passwordConfirm() {\n    if (this.password) {\n      const supportUserName = this.ui.currentSupportUserName.value;\n      const userId = this.ui.currentUser.value.id;\n      const credentials: ICredentials = {\n        password: this.password,\n        user: `${supportUserName ? `${supportUserName}$` : ''}${userId}`,\n        tenant: this.client.tenant\n      };\n      try {\n        this.loading = true;\n        const strategy = clone(this.loginService.useBasicAuth({}));\n        delete credentials.tfa;\n        strategy.updateCredentials(credentials);\n        const newClient = this.createNewClient(strategy, this.client.baseUrl);\n        await newClient.user.current();\n        this.emitSuccessAndClose();\n      } catch (e) {\n        if (e.res && e.res.status === 401 && e.data && /pin|totp/i.test(e.data.message)) {\n          this.emitSuccessAndClose();\n        } else {\n          this.alert.danger(gettext(\"Provided password doesn't match your current one.\"));\n        }\n      } finally {\n        this.loading = false;\n      }\n    }\n  }\n\n  cancel() {\n    this.passwordConfirmedEmitter.emit(false);\n    this.modal._dismiss();\n  }\n\n  createNewClient(strategy: IAuthentication, baseUrl: string) {\n    return new Client(strategy, baseUrl);\n  }\n\n  private emitSuccessAndClose() {\n    this.passwordConfirmedEmitter.emit(true);\n    this.modal._dismiss();\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { PasswordStrength } from '@c8y/client';\nimport { filter } from 'lodash-es';\nimport { PasswordStrengthColor } from './password.model';\nimport { gettext } from '../i18n/gettext';\nimport { PasswordConfirmModalComponent } from './password-confirm-modal.component';\nimport { BsModalService } from 'ngx-bootstrap/modal';\nimport { take } from 'rxjs/operators';\n\n@Injectable()\nexport class PasswordService {\n\n  private GREEN: PasswordStrengthColor = {\n    colorName: 'green',\n    color: 'rgb(0, 128, 0)',\n    description: gettext('strong'),\n    passwordStrength: PasswordStrength.GREEN\n  };\n  private YELLOW: PasswordStrengthColor = {\n    colorName: 'yellow',\n    color: 'rgb(255, 204, 51)',\n    description: gettext('medium'),\n    passwordStrength: PasswordStrength.YELLOW\n  };\n  private RED: PasswordStrengthColor = {\n    colorName: 'red',\n    color: 'rgb(170, 0, 51)',\n    description: gettext('weak'),\n    passwordStrength: PasswordStrength.RED\n  };\n\n  constructor(private modalService: BsModalService) {}\n\n  confirmPassword() {\n    const modalInstance: any = this.modalService.show(PasswordConfirmModalComponent);\n    return modalInstance.content.passwordConfirmedEmitter.pipe(take(1));\n  }\n\n  hasLowerCase(password: string) {\n    return (password.search(/[a-z]/) !== -1);\n  }\n\n  hasUpperCase(password: string) {\n    return (password.search(/[A-Z]/) !== -1);\n  }\n\n  hasNumbers(password: string) {\n    return (password.search(/[0-9]/) !== -1);\n  }\n\n  hasSpecialChars(password: string) {\n    return (password.search(/[^0-9a-zA-Z]+/) !== -1);\n  }\n\n  getStrengthColor(password: string): PasswordStrengthColor {\n    const passwordStrength = filter([\n      this.hasLowerCase(password),\n      this.hasUpperCase(password),\n      this.hasNumbers(password),\n      this.hasSpecialChars(password)\n    ]).length;\n\n    if (passwordStrength > 2) {\n      return this.GREEN;\n    } else if (passwordStrength >= 2) {\n      return this.YELLOW;\n    } else {\n      return this.RED;\n    }\n  }\n}\n","import { Component, OnInit, Input } from '@angular/core';\nimport { Subject } from 'rxjs';\nimport { PasswordService } from './password.service';\nimport { LoginService } from '../login/login.service';\nimport { assign, map } from 'lodash-es';\nimport { gettext } from '../i18n/gettext';\n\n@Component({\n  selector: 'c8y-password-check-list',\n  templateUrl: './password-check-list.component.html',\n  styles: []\n})\n\nexport class PasswordCheckListComponent implements OnInit {\n\n  @Input('password')\n  set password(password: string) {\n    if (typeof password === 'string') {\n      this.onPasswordChange(password);\n    }\n  }\n\n  minGreenLength: number = 0;\n\n  checklist = [\n    {\n      label: gettext('Include lowercase characters (e.g. abcdef)'),\n      check: this.passwordStrengthChecker.hasLowerCase,\n      icon: '',\n      contextualColor: ''\n\n    },\n    {\n      label: gettext('Include uppercase characters (e.g. ABCDEF)'),\n      check: this.passwordStrengthChecker.hasUpperCase,\n      icon: '',\n      contextualColor: ''\n    },\n    {\n      label: gettext('Include numbers (e.g. 123456)'),\n      check: this.passwordStrengthChecker.hasNumbers,\n      icon: '',\n      contextualColor: ''\n    },\n    {\n      label: gettext('Include symbols (e.g. !@#$%^)'),\n      check: this.passwordStrengthChecker.hasSpecialChars,\n      icon: '',\n      contextualColor: ''\n    },\n    {\n      label: gettext('Must have at least {{length}} characters'),\n      check: (password) => password.length >= this.minGreenLength,\n      icon: '',\n      contextualColor: ''\n    }\n  ];\n\n  constructor(public loginService: LoginService,\n              private passwordStrengthChecker: PasswordService) {\n  }\n\n  ngOnInit() {\n    this.minGreenLength = this.loginService.getGreenMinLength();\n  }\n\n  get translateParams() {\n    return {\n      length: this.minGreenLength\n    };\n  }\n\n  onPasswordChange(password) {\n    this.checklist = map(this.checklist, (requirement) => {\n      const checked = requirement.check(password);\n      assign(requirement, {\n        icon: checked ? 'check' : '',\n        contextualColor: checked ? '' : 'text-muted'\n      });\n      return requirement;\n    });\n  }\n}\n","import { Directive, forwardRef, Attribute } from '@angular/core';\r\nimport { NG_VALIDATORS, Validator, AbstractControl } from '@angular/forms';\r\n\r\n@Directive({\r\n  selector: '[passwordConfirm]',\r\n  providers: [\r\n    {\r\n      provide: NG_VALIDATORS,\r\n      useExisting: PasswordConfirm,\r\n      multi: true\r\n    }\r\n  ]\r\n})\r\n\r\nexport class PasswordConfirm implements Validator {\r\n\r\n  constructor(@Attribute('passwordConfirm') public passwordConfirm: string) {\r\n  }\r\n\r\n  validate(abControl: AbstractControl): { [key: string]: any } {\r\n    const value = abControl.value;\r\n    const controlToCompareWith = abControl.root.get(this.passwordConfirm);\r\n    if (controlToCompareWith && value !== controlToCompareWith.value) {\r\n      return { passwordConfirm: true };\r\n    }\r\n    return null;\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { PasswordStrength } from '@c8y/client';\r\nimport { filter } from 'lodash-es';\r\nimport { PasswordStrengthColor } from './password.model';\r\nimport { gettext } from '../i18n/gettext';\r\n\r\n@Injectable()\r\nexport class PasswordStrengthCheckerService {\r\n\r\n  private GREEN: PasswordStrengthColor = {\r\n    colorName: 'green',\r\n    color: 'rgb(0, 128, 0)',\r\n    description: gettext('strong'),\r\n    passwordStrength: PasswordStrength.GREEN\r\n  };\r\n  private YELLOW: PasswordStrengthColor = {\r\n    colorName: 'yellow',\r\n    color: 'rgb(255, 204, 51)',\r\n    description: gettext('medium'),\r\n    passwordStrength: PasswordStrength.YELLOW\r\n  };\r\n  private RED: PasswordStrengthColor = {\r\n    colorName: 'red',\r\n    color: 'rgb(170, 0, 51)',\r\n    description: gettext('weak'),\r\n    passwordStrength: PasswordStrength.RED\r\n  };\r\n\r\n  hasLowerCase(password: string) {\r\n    return (password.search(/[a-z]/) !== -1);\r\n  }\r\n\r\n  hasUpperCase(password: string) {\r\n    return (password.search(/[A-Z]/) !== -1);\r\n  }\r\n\r\n  hasNumbers(password: string) {\r\n    return (password.search(/[0-9]/) !== -1);\r\n  }\r\n\r\n  hasSpecialChars(password: string) {\r\n    return (password.search(/[^0-9a-zA-Z]+/) !== -1);\r\n  }\r\n\r\n  getStrengthColor(password: string): PasswordStrengthColor {\r\n    const passwordStrength = filter([\r\n      this.hasLowerCase(password),\r\n      this.hasUpperCase(password),\r\n      this.hasNumbers(password),\r\n      this.hasSpecialChars(password)\r\n    ]).length;\r\n\r\n    if (passwordStrength > 2) {\r\n      return this.GREEN;\r\n    } else if (passwordStrength >= 2) {\r\n      return this.YELLOW;\r\n    } else {\r\n      return this.RED;\r\n    }\r\n  }\r\n}\r\n","import { Component, EventEmitter, Input, Output } from '@angular/core';\nimport { PasswordService } from './password.service';\n\n@Component({\n  selector: 'c8y-password-strength',\n  templateUrl: './password-strength.component.html'\n})\n\nexport class PasswordStrengthComponent {\n\n  @Input('password')\n  set password(password: string) {\n    if (typeof password === 'string') {\n      this.model = this.passwordStrengthCheckerService.getStrengthColor(password);\n      this.strength.emit(this.model);\n    }\n  }\n  @Output()\n  strength = new EventEmitter();\n\n  model;\n\n  constructor(private passwordStrengthCheckerService: PasswordService) {\n    this.password = '';\n  }\n}\n","import { Component, OnInit, Output, EventEmitter } from '@angular/core';\r\nimport { NewPassword } from './password.model';\r\nimport { SystemOptionsService } from '@c8y/client';\r\nimport { ControlContainer, NgForm } from '@angular/forms';\r\n\r\n@Component({\r\n  selector: 'c8y-new-password',\r\n  templateUrl: './new-password.component.html',\r\n  viewProviders: [{ provide: ControlContainer, useExisting: NgForm }]\r\n})\r\nexport class NewPasswordComponent implements OnInit {\r\n  @Output() password = new EventEmitter<NewPassword | {}>();\r\n  model: any = {};\r\n  enforcePasswordStrength: boolean = false;\r\n  changePassword: boolean = false;\r\n\r\n  constructor(private systemOptions: SystemOptionsService) {}\r\n\r\n  ngOnInit() {\r\n    this.loadEnforcePasswordStrength();\r\n  }\r\n\r\n  newPasswordChanged() {\r\n    this.password.emit({\r\n      password: this.model.newPassword,\r\n      passwordStrength: this.model.strength\r\n    });\r\n  }\r\n\r\n  async loadEnforcePasswordStrength() {\r\n    try {\r\n      const { data } = await this.systemOptions.detail({\r\n        category: 'password',\r\n        key: 'enforce.strength'\r\n      });\r\n      this.enforcePasswordStrength = data.value === 'true';\r\n    } catch (e) {\r\n      // do nothing;\r\n    }\r\n  }\r\n\r\n  toggleChangePassword() {\r\n    this.changePassword = !this.changePassword;\r\n    if (!this.changePassword) {\r\n      this.password.emit({});\r\n      this.model = {};\r\n    }\r\n  }\r\n}\r\n","import { Component, Input, OnDestroy } from '@angular/core';\nimport { BsModalRef } from 'ngx-bootstrap/modal';\nimport { StatusType, Status, statusIcons, statusAlert } from '../common/status.model';\nimport { ModalLabels } from '../select-modal/select-modal.model';\n\n/**\n * Labels to be used in the selection modal.\n * @deprecated This is going to be removed after 1007.7.0. Use ModalLabels instead.\n */\n// tslint:disable-next-line: no-empty-interface\nexport interface ILabels extends ModalLabels {}\n\n@Component({\n  selector: 'c8y-confirm-modal',\n  templateUrl: './modal-confirm.component.html'\n})\nexport class ConfirmModalComponent implements OnDestroy {\n  result: Promise<boolean>;\n  dismiss: () => void;\n  close: () => void;\n  @Input() title: string;\n  @Input() body: string;\n  @Input() status: StatusType = Status.INFO;\n  @Input() set labels(labels: ModalLabels) {\n    const { ok = 'OK', cancel = 'Cancel' } = labels || {};\n    this._labels = { ok, cancel };\n  }\n\n  get labels(): ModalLabels { return this._labels; }\n\n  get classIcon() {\n    return `fa-${statusIcons[this.status]}`;\n  }\n\n  get classAlert() {\n    return statusAlert[this.status];\n  }\n\n  private _labels: ModalLabels;\n\n  constructor(private modal: BsModalRef) {\n    this._labels = {\n      ok: 'OK',\n      cancel: 'Cancel'\n    };\n    this.result = new Promise((resolve, reject) => {\n      this.dismiss = () => {\n        reject();\n        this.modal.hide();\n      };\n      this.close = () => {\n        resolve(true);\n        this.modal.hide();\n      };\n    });\n  }\n\n  ngOnDestroy() {\n    this.dismiss();\n  }\n}\n","import { Component, Input, Optional, Output, EventEmitter, HostListener } from '@angular/core';\nimport { BsModalRef } from 'ngx-bootstrap/modal';\nimport { gettext } from '../i18n/gettext';\nimport { isEmpty } from 'lodash';\nimport { ModalLabels } from '../select-modal/select-modal.model';\n\n/**\n * C8y modal component.\n * ## Example:\n *\n * Creating custom modal:\n * ```typescript\n *  import { Component } from \"@angular/core\";\n *  import { Subject } from 'rxjs';\n *\n * @Component({\n *  selector: \"my-modal\",\n *  template: `\n *    <c8y-modal title=\"CustomTitle\"\n *      (onClose)=\"onClose($event)\"\n *      (onDismiss)=\"onDismiss($event)\"\n *      [labels]=\"labels\"\n *      [disabled]=\"true\" <- will disable ok button\n *      >\n *        <span>I am body of modal</span>\n *        <span>For simple string use body=\"string\"</span>\n *    </c8y-modal>`\n * })\n *\n * export class MyModalComponent {\n *\n *  closeSubject: Subject<boolean> = new Subject();\n *  labels : ModalLabels = {ok: \"customOK\", cancel: \"customCancel\"};\n *\n *  onDismiss(event){\n *    this.closeSubject.next(false);\n *  }\n *\n *  onClose(event) {\n *    this.closeSubject.next(true);\n *  }\n * }\n * ```\n * Showing modal:\n * ```typescript\n * import { BsModalService } from \"ngx-bootstrap/modal\";\n *\n * constructor(\n *  public bsModalService: BsModalService,\n * ) {}\n *\n * showModal() {\n *  const modalRef = this.bsModalService.show(MyModalComponent);\n *  modalRef.content.closeSubject.subscribe(result => {\n *    console.log('results:', result);\n *  });\n * }\n * ```\n */\n@Component({\n  selector: 'c8y-modal',\n  templateUrl: './modal.component.html',\n})\n\nexport class ModalComponent {\n  @Output() onDismiss: EventEmitter<boolean> = new EventEmitter();\n  @Output() onClose: EventEmitter<boolean> = new EventEmitter();\n  @Input() disabled = false;\n  @Input() close: () => void;\n  @Input() dismiss: () => void;\n  @Input() title: string;\n  @Input() body: string;\n  @Input() customFooter: boolean = false;\n  @Input() set labels({ok, cancel}: ModalLabels) {\n    this._labels = {ok , cancel};\n  }\n\n  get labels(): ModalLabels { return this._labels; }\n\n  private _labels: ModalLabels =  { ok: gettext('OK'), cancel: gettext('Cancel') };\n\n  constructor(@Optional() private modal: BsModalRef) {}\n\n  _dismiss() {\n    let fn = this.dismiss;\n    if (!fn && this.modal) { fn = () => this.modal.hide(); }\n    if (fn) { fn(); }\n    this.onDismiss.emit(true);\n  }\n\n  _close() {\n    let fn = this.close;\n    if (!fn && this.modal) { fn = () => this.modal.hide(); }\n    if (fn) { fn(); }\n    this.onClose.emit(true);\n  }\n\n  @HostListener('document:keydown.enter', ['$event']) onEnterKeyDown(event: KeyboardEvent) {\n    const hasOnlyOneButton = isEmpty(this.labels.ok) !== isEmpty(this.labels.cancel);\n    const isCancelClickable = !this.customFooter && this.labels.cancel;\n    const isOkClickable = !this.customFooter && !this.disabled && this.labels.ok;\n    if (hasOnlyOneButton  && isCancelClickable) {\n      this._dismiss();\n    }\n    if (hasOnlyOneButton  && isOkClickable) {\n      this._close();\n    }\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { BsModalService } from 'ngx-bootstrap/modal';\nimport { ConfirmModalComponent } from './modal-confirm.component';\nimport { StatusType, Status } from '../common/status.model';\nimport { gettext } from '../i18n/gettext';\n\n/**\n * Service to shiow a modal.\n */\n@Injectable({\n  providedIn: 'root'\n})\nexport class ModalService {\n\n  constructor(private modalService: BsModalService) {}\n\n  /**\n   * Shows a quick confirm message modal.\n   * @param title The title of that modal.\n   * @param body The text body to display.\n   * @param status The status.\n   * @param labels The labels to use. Default: { ok: 'Confirm', cancel: 'Cancel'}\n   */\n  async confirm(title: string, body: string, status: StatusType = Status.INFO,  labels: any = {}) {\n    const modalLabels = {ok: labels.ok || gettext('Confirm'), cancel: labels.cancel || gettext('Cancel')};\n    const modalRef = this.modalService.show(ConfirmModalComponent, {initialState: {title, body, labels: modalLabels, status}});\n    return await modalRef.content.result;\n  }\n\n  /**\n   * Shows a quick acknowledge message modal.\n   * @param title The title of that modal.\n   * @param body The text body to display.\n   * @param status The status.\n   * @param acknowledgeLabel The label to use.\n   */\n  async acknowledge(title: string, body: string, status: StatusType = Status.INFO, acknowledgeLabel: string = gettext('Confirm') ) {\n    const labels = {ok: acknowledgeLabel, cancel: null};\n    const modalRef = this.modalService.show(ConfirmModalComponent, {initialState: {title, body, labels, status}});\n    return await modalRef.content.result;\n  }\n}\n","import { Component, Input, ViewChild, OnDestroy } from '@angular/core';\nimport { PopoverDirective } from 'ngx-bootstrap/popover';\nimport { StatusType } from '../common/status.model';\nimport { gettext } from '../i18n/gettext';\n\nexport interface PopoverConfirmButtons {\n  /**\n   * The label of the button\n   */\n  label: string;\n  /**\n   * Which action to perform.\n   */\n  action: () => Promise<any>;\n  /**\n   * The status class attached to the button.\n   */\n  status?: StatusType | 'primary';\n}\n\n/**\n * A component to show a popover right next to the\n * user action. Add this component where the confirm modal\n * should be shown and toggle isOpen to display it. You\n * can use `await isShow()` to wait for a result on the\n * click action.\n */\n@Component({\n  selector: 'c8y-popover-confirm',\n  templateUrl: './popover-confirm.component.html'\n})\nexport class PopoverConfirmComponent {\n  @ViewChild(PopoverDirective, {static: false}) popover: PopoverDirective;\n  @Input() buttons: PopoverConfirmButtons[] = [{ label: gettext('cancel'), action: () => Promise.reject()}];\n  @Input() message: string;\n  @Input() title: string;\n  @Input() isOpen = false;\n  @Input() containerClass = '';\n  @Input() placement = 'right';\n  @Input() outsideClick = false;\n\n  click: (action: () => Promise<any>) => void;\n\n  /**\n   * Show the popover. Wait until an action is performed on it.\n   */\n  async show(buttons?: PopoverConfirmButtons[]) {\n    this.buttons = buttons || this.buttons;\n    this.isOpen = true;\n    let result;\n    try {\n      result = await new Promise((resolve, reject) => {\n        return this.click = (action: () => Promise<any>) => action().then(resolve).catch(reject);\n      });\n    } catch (ex) {\n      throw(ex);\n    } finally {\n      this.isOpen = false;\n    }\n    return result;\n  }\n\n  buttonStatus(status) {\n    if (status) {\n      return `btn-${status}`;\n    }\n    return 'btn-link btn-clean';\n  }\n\n  handleOutsideClick() {\n    this.click(() => Promise.reject());\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { ModalModule as BsModalModule } from 'ngx-bootstrap/modal';\nimport { ConfirmModalComponent } from './modal-confirm.component';\nimport { ModalComponent } from './modal.component';\nimport { ModalService } from './modal.service';\nimport { CommonModule } from '../common/common.module';\nimport { PopoverConfirmComponent } from './popover-confirm.component';\nimport { PopoverModule } from 'ngx-bootstrap/popover';\n\n/**\n * The angular module definition for modal.\n * @exports ConfirmModalComponent\n * @exports ModalComponent\n * @exports PopoverConfirmComponent\n */\n@NgModule({\n  imports: [\n    BsModalModule.forRoot(),\n    CommonModule,\n    PopoverModule.forRoot()\n  ],\n  exports: [\n    ConfirmModalComponent,\n    ModalComponent,\n    PopoverConfirmComponent\n  ],\n  declarations: [\n    ConfirmModalComponent,\n    ModalComponent,\n    PopoverConfirmComponent\n  ],\n  providers: [\n    ModalService\n  ],\n  entryComponents: [\n    ConfirmModalComponent\n  ]\n})\nexport class ModalModule { }\n","import { NG_VALIDATORS, AbstractControl, Validator } from '@angular/forms';\nimport { Directive } from '@angular/core';\nimport { parsePhoneNumberFromString } from 'libphonenumber-js/max';\n\n@Directive({\n  selector: '[c8yPhoneValidation]',\n  providers: [{provide: NG_VALIDATORS, useExisting: PhoneValidationDirective, multi: true}]\n})\nexport class PhoneValidationDirective implements Validator {\n\n  validate(control: AbstractControl): {[key: string]: any} | null {\n    const valid = this.validateInternationalPhoneNumber(control);\n    return valid ? null : {\n      internationalPhoneNumber: true\n    };\n  }\n\n  private validateInternationalPhoneNumber(control: AbstractControl) {\n    let numberValid;\n    try {\n      const phoneNumber = parsePhoneNumberFromString(control.value);\n      numberValid = phoneNumber.isValid();\n      if (numberValid && control.value !== phoneNumber.format('E.164')) {\n        control.setValue(phoneNumber.format('E.164'), { emitEvent: false, emitModelToViewChange: false });\n      }\n    } catch (e) {\n      numberValid = !control.value;\n    }\n    return numberValid;\n  }\n}\n","// tslint:disable: max-line-length\nimport { gettext } from '../i18n/gettext';\n\nexport interface ValidationRules {\n  pattern?: RegExp;\n  message?: string;\n  maxLength?: number;\n  minLength?: number;\n}\n\n// @dynamic\nexport class ValidationPattern {\n  static readonly messages = {\n    deviceId: gettext('Device ID must not contain spaces or slashes (\"/\").'),\n    domain: gettext(\n      'Only lowercase letters, digits, hyphens and underscores allowed in the first part of the URI. ' +\n        'Must start with a letter; hyphens and underscores only allowed in the middle. Must be a valid URI.'\n    ),\n    email: gettext('Invalid email address.'),\n    internationalPhoneNumber: gettext(\n      'International phone number required, in the format +49 9 876 543 210.'\n    ),\n    loginAlias: gettext(\n      'Login alias must not contain slashes (\"/\", \"\\\\\") nor (\"+\"), (\":\"), (\"$\") signs.'\n    ),\n    max : gettext('Max value: {{ value }}'),\n    min : gettext('Min value: {{ value }}'),\n    opcuaBrowsePath: gettext('Invalid OPC UA URI.'),\n    password: gettext(\n      'Password must have at least 8 characters and no more than 32 and can only contain letters, numbers and following symbols: `~!@#$%^&*()_|+-=?;:\\'\",.<>{}[]\\\\/'\n    ),\n    passwordConfirm: gettext('Passwords do not match.'),\n    phoneNumber: gettext(\n      'Invalid phone number format. Only digits, spaces, slashes (\"/\") and dashes (\"-\") allowed.'\n    ),\n    required: gettext('This field is required.'),\n    tenantId: gettext(\n      'May contain lowercase letters, digits, hyphens and underscores. ' +\n        'Must start with a letter; hyphens and underscores only allowed in the middle; minimum 2 characters.'\n    ),\n    urlSegment: gettext('Slash, single or double dots and white space not allowed'),\n    user: gettext(\n      'Username must not contain spaces nor slashes (\"/\", \"\\\\\") nor (\"+\"), (\":\"), (\"$\") signs.'\n    )\n  };\n\n  static readonly rules = {\n    deviceId: {\n      pattern: /^[^\\s/]*$/\n    },\n    domain: {\n      pattern: /^[a-z]+[a-z0-9_-]*[a-z0-9]+\\.{1}.+$/\n    },\n    groupName: {\n      maxLength: 254\n    },\n    hostname: {\n      pattern: /^(([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]*[a-zA-Z0-9])\\.)*([A-Za-z0-9]|[A-Za-z0-9][A-Za-z0-9-]*[A-Za-z0-9])$/\n    },\n    ip: {\n      pattern: /^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/\n    },\n    opcuaBrowsePath: {\n      pattern: /^(opc.tcp|http|https):\\/\\/[^ \"]+$/\n    },\n    password: {\n      pattern: /^[a-zA-Z0-9`~!@#$%^&*()_|+\\-=?;:'\",.<>{}[\\]\\\\/]{8,32}$/\n    },\n    phoneNumber: {\n      pattern: /^$|^(\\+|0{2})[\\d\\s/-]{1,30}$/\n    },\n    tenantId: {\n      pattern: /^[a-z]+[a-z0-9_-]*[a-z0-9]+$/\n    },\n    user: {\n      pattern: /^[^\\\\/\\s$:+]*$/\n    },\n    urlSegment: {\n      pattern: /^(([.]{1,2})|([/])+|(([/]*)([.]{1,2})([/]*))|((.*)([/]|[ ]+)(.*))|(\\s+))$/\n    },\n    loginAlias: {\n      pattern: /^[^\\\\/$:+]*$/\n    }\n  };\n\n  static get(key: string) {\n    const pattern = this.rules[key];\n    return pattern as ValidationRules;\n  }\n}\n","import { NG_VALIDATORS, AbstractControl, Validator } from '@angular/forms';\nimport { Directive, Input } from '@angular/core';\nimport { ValidationPattern } from './validation-pattern';\n\n@Directive({\n  selector: '[c8yDefaultValidation]',\n  providers: [{provide: NG_VALIDATORS, useExisting: DefaultValidationDirective, multi: true}]\n})\nexport class DefaultValidationDirective implements Validator {\n  @Input() c8yDefaultValidation: string = '';\n\n  validate(control: AbstractControl): {[key: string]: any} | null {\n    if (!control.value) {\n      return null;\n    }\n    const validation = ValidationPattern.get(this.c8yDefaultValidation);\n    if (!validation) {\n      throw new Error(`Pattern ${this.c8yDefaultValidation} not found.`);\n    }\n\n    let valid = true;\n    if (validation.pattern) {\n      valid = validation.pattern.test(control.value);\n    }\n    if (validation.maxLength) {\n      valid = control.value.length < validation.maxLength;\n    }\n    if (validation.minLength) {\n      valid = control.value.length >= validation.minLength;\n    }\n    return valid ? null : {[this.c8yDefaultValidation]: true };\n  }\n}\n","import { AbstractControl, NG_VALIDATORS, Validator } from '@angular/forms';\nimport { Directive, ElementRef, Input } from '@angular/core';\n\nimport { isUndefined } from 'lodash-es';\n\n@Directive({\n  selector: '[min]',\n  providers: [{provide: NG_VALIDATORS, useExisting: MinValidationDirective, multi: true}]\n})\nexport class MinValidationDirective implements Validator {\n  @Input() min: string = '';\n\n  validate(control: AbstractControl): {[key: string]: any} | null {\n    const parsedMin = parseInt(this.min, 10);\n    if (isUndefined(control.value) || !this.min) {\n      return null;\n    }\n\n    let valid = true;\n    valid = (control.value !== null) ? !(control.value < parsedMin) : true;\n    return valid ? null : {min: { value: parsedMin } };\n  }\n}\n","import { AbstractControl, NG_VALIDATORS, Validator } from '@angular/forms';\nimport { Directive, Input } from '@angular/core';\n\nimport { isUndefined } from 'lodash-es';\n\n@Directive({\n  selector: '[max]',\n  providers: [{provide: NG_VALIDATORS, useExisting: MaxValidationDirective, multi: true}]\n})\nexport class MaxValidationDirective implements Validator {\n  @Input() max: string = '';\n\n  validate(control: AbstractControl): {[key: string]: any} | null {\n    const parsedMax = parseInt(this.max, 10);\n    if (isUndefined(control.value) || !this.max) {\n      return null;\n    }\n\n    let valid = true;\n    valid = !(control.value > parsedMax);\n    return valid ? null : {max: { value: parsedMax } };\n  }\n}\n","import { Directive, Input } from '@angular/core';\n\n@Directive({\n  selector: 'c8y-message',\n})\nexport class MessageDirective {\n  @Input() name: string;\n  @Input() text: string;\n}\n","import { Component, ContentChildren, Input, QueryList } from '@angular/core';\n\nimport { MessageDirective } from './message.directive';\nimport { ValidationPattern } from './validation-pattern';\nimport { isFunction } from 'lodash-es';\nimport { TranslateService } from '@ngx-translate/core';\n\n@Component({\n  selector: 'c8y-messages',\n  templateUrl: './messages.component.html'\n})\nexport class MessagesComponent {\n  @Input() show: {} = {};\n  @Input() defaults: {} = ValidationPattern.messages;\n  @ContentChildren(MessageDirective) customMessages: QueryList<MessageDirective>;\n  messages = [];\n  messageMap: any = {};\n\n  constructor(private translateService: TranslateService) {}\n\n  ngAfterContentInit(): void {\n    this.messageMap = Object.assign({}, this.defaults, this.customMessages.reduce((messages, directive) => {\n      messages[directive.name] = directive.text;\n      return messages;\n    }, {}));\n  }\n\n  changVisibility(show: {}) {\n    this.show = show;\n    this.ngOnChanges();\n  }\n\n  ngOnChanges() {\n    if (this.show) {\n      this.messages = Object.keys(this.show)\n        .map((key) => this.toMessage(key, this.show[key]));\n    } else {\n      this.messages = [];\n    }\n  }\n\n  private toMessage(key, value) {\n    return this.translateService.instant(this.messageMap[key], value);\n  }\n}\n","import { Component, ContentChild, HostBinding, Input } from '@angular/core';\nimport { NgModel } from '@angular/forms';\nimport { Subscription, timer, merge } from 'rxjs';\nimport { debounce, filter } from 'rxjs/operators';\nimport { MessagesComponent } from './messages.component';\n/**\n * A form group helps to validate an input of a form element.\n *\n * ## Example:\n *\n * ```html\n *  <c8y-form-group [hasWarning]=\"user.email.length === 0\">\n *   <label translate for=\"userEmail\">Email</label>\n *   <input\n *     id=\"userEmail\"\n *     class=\"form-control\"\n *     type=\"email\"\n *     name=\"email\"\n *     [maxlength]=\"254\"\n *     autocomplete=\"off\"\n *     placeholder=\"{{'e.g. joe.doe@example.com' | translate}}\"\n *     [(ngModel)]=\"user.email\"\n *     email\n *     required\n *   >\n *   <c8y-messages>\n *     <c8y-message *ngIf=\"user.email.length === 0\" translate></c8y-message>\n *     <c8y-message name=\"required\" text=\"The E-Mail is SUPER required\"></c8y-message>\n *   </c8y-messages>\n *  </c8y-form-group>\n * ```\n *\n * @param status The current status could be error, warning or success.\n * @param hasError Set this to true to display a error.\n * @param hasWarning Set this to true to display a warning.\n * @param hasSuccess Set this to true to display a success.\n * @param novalidation Set this to true to disable automatic validation by this component.\n */\n@Component({\n  selector: 'c8y-form-group',\n  templateUrl: './form-group.component.html',\n  host: {\n    class: 'form-group'\n  }\n})\nexport class FormGroupComponent {\n  @Input() hasError = false;\n  @Input() hasWarning = false;\n  @Input() hasSuccess = false;\n  @Input() novalidation = false;\n  @Input() status: string;\n  @HostBinding('class.has-error') get error() {\n    return this.status === 'error' || this.hasError;\n  }\n  @HostBinding('class.has-warning') get warning() {\n    return this.status === 'warning' || this.hasWarning;\n  }\n  @HostBinding('class.has-success') get success() {\n    return this.status === 'success' || this.hasSuccess;\n  }\n  @ContentChild(MessagesComponent, { static: false }) customErrorMessage: MessagesComponent;\n  @ContentChild(NgModel, { static: true }) model: NgModel;\n\n  errors: {};\n  private subscription: Subscription;\n  private readonly VALIDATION_DEBOUNCE_MS = 1000;\n\n  ngAfterContentInit(): void {\n    this.initNgModel();\n  }\n\n  initNgModel() {\n    if (this.model) {\n      this.model.valueAccessor.registerOnTouched(() => {\n        if (this.model.control && !this.model.control.dirty) {\n          this.model.control.markAsDirty();\n          this.model.control.updateValueAndValidity({onlySelf: true});\n        }\n      });\n      this.subscription = merge(this.model.valueChanges, this.model.statusChanges)\n        .pipe(\n          filter(() => this.model.dirty && !this.novalidation),\n          debounce(() => (this.hasError ? timer(10) : timer(this.VALIDATION_DEBOUNCE_MS)))\n        )\n        .subscribe(() => this.update());\n    }\n  }\n\n  update() {\n    this.hasError = this.model.status === 'INVALID';\n    if (this.customErrorMessage) {\n      this.customErrorMessage.changVisibility(this.model.errors);\n    } else {\n      this.errors = this.model.errors;\n    }\n  }\n\n  ngOnDestroy() {\n    if (this.subscription) {\n      this.subscription.unsubscribe();\n    }\n  }\n}\n","import {\n  Component,\n  Input,\n  Output,\n  QueryList,\n  TemplateRef,\n  ContentChild,\n  EventEmitter\n} from '@angular/core';\n\n@Component({\n  selector: 'c8y-input-group-list',\n  templateUrl: 'input-group-list.component.html'\n})\nexport class InputGroupListComponent {\n  @Input() plus: boolean = true;\n  @Input() minus: boolean = true;\n  @Input() index: number;\n\n  @Output() onRemove: EventEmitter<number> = new EventEmitter<number>();\n  @Output() onAdd: EventEmitter<number> = new EventEmitter<number>();\n  add() {\n    this.onAdd.emit(this.index);\n  }\n\n  remove() {\n    this.onRemove.emit(this.index);\n  }\n}\n","import {\n  Directive,\n  Input,\n  Output,\n  QueryList,\n  AfterContentInit,\n  ContentChildren,\n  EventEmitter\n} from '@angular/core';\nimport { map } from 'lodash-es';\nimport { InputGroupListComponent } from './input-group-list.component';\n\n@Directive({\n  selector: '[c8yInputGroupListContainer]'\n})\nexport class InputGroupListContainerDirective implements AfterContentInit {\n  @ContentChildren(InputGroupListComponent) listProjections: QueryList<InputGroupListComponent>;\n\n  ngAfterContentInit() {\n    this.listProjections.map(element => {\n      if (element !== this.listProjections.last) {\n        setTimeout(() => {\n          element.plus = false;\n        });\n      }\n    });\n\n    this.listProjections.changes.subscribe(elements => {\n      if (elements.length === 1) {\n        setTimeout(() => {\n          elements.first.plus = true;\n          elements.first.minus = false;\n        });\n\n        return;\n      }\n      elements.map(element => {\n        setTimeout(() => {\n          element.minus = true;\n        });\n\n        if (element !== elements.last) {\n          setTimeout(() => {\n            element.plus = false;\n          });\n        }\n        if (element === elements.last) {\n          setTimeout(() => {\n            element.plus = true;\n          });\n        }\n      });\n    });\n  }\n}\n","import { Directive, EventEmitter, Output, OnInit, OnDestroy } from '@angular/core';\nimport { NgControl, AbstractControl } from '@angular/forms';\n\nimport { debounceTime, distinctUntilChanged, tap } from 'rxjs/operators';\nimport { Subscription } from 'rxjs';\nimport { gettext } from '../i18n/public-api';\n\n@Directive({\n  selector: 'textarea[prettyValidJson]'\n})\nexport class JsonValidationPrettifierDirective implements OnInit, OnDestroy {\n  @Output() invalidJSON: EventEmitter<string> = new EventEmitter();\n  private abstractCtrl: AbstractControl;\n  private message: string = gettext('Must be a valid JSON object.');\n  private debounceTimeInMs: number = 1000;\n  private subscription: Subscription;\n\n  constructor(ngCtrl: NgControl) {\n    this.abstractCtrl = ngCtrl.control;\n  }\n\n  ngOnInit() {\n    this.subscription = this.abstractCtrl.valueChanges\n      .pipe(\n        tap(() => this.clearValidationMessage()),\n        debounceTime(this.debounceTimeInMs),\n        distinctUntilChanged()\n      )\n      .subscribe(value => {\n        this.validateInputAndPrettify(value);\n      });\n  }\n\n  ngOnDestroy() {\n    if (this.subscription && !this.subscription.closed) {\n      this.subscription.unsubscribe();\n    }\n  }\n\n  validateInputAndPrettify(value) {\n    if (value) {\n      try {\n        const validJsonObject = JSON.parse(value);\n        const pretty = JSON.stringify(validJsonObject, undefined, 2);\n        this.abstractCtrl.setValue(pretty);\n      } catch (ex) {\n        this.setErrorAndValidationMessage();\n      }\n    }\n  }\n\n  private setErrorAndValidationMessage() {\n    this.abstractCtrl.setErrors({ invalidBodyTemplate: true });\n    this.invalidJSON.emit(this.message);\n  }\n\n  private clearValidationMessage() {\n    this.invalidJSON.emit(undefined);\n  }\n}\n","import { Directive, ElementRef, Input, HostBinding, Renderer2 } from '@angular/core';\n\n@Directive({\n  selector: 'textarea[heightPerRow]'\n})\nexport class TextAreaRowHeightDirective {\n  @Input()\n  @HostBinding('rows')\n  rows: number = 1;\n\n  @Input('heightPerRow')\n  heightPerRow: string;\n\n  private minHeightPerRow = 20;\n\n  constructor(private elem: ElementRef, private renderer: Renderer2) {}\n\n  ngAfterViewInit() {\n    const convertedValue = Number(this.heightPerRow);\n    if (this.heightPerRow && convertedValue && convertedValue > this.minHeightPerRow) {\n      this.setHeight(`${this.rows * convertedValue}px`);\n    } else {\n      this.setHeight(`${this.rows * this.minHeightPerRow}px`);\n    }\n  }\n\n  private setHeight(value: string) {\n    this.renderer.setStyle(this.elem.nativeElement, 'height', value);\n  }\n}\n","import { Directive, ElementRef, Renderer2, AfterContentChecked } from '@angular/core';\nimport { gettext } from '../i18n/gettext';\nimport { TranslateService } from '@ngx-translate/core';\n\n@Directive({\n  selector: 'input[required]'\n})\nexport class RequiredInputPlaceholderDirective implements AfterContentChecked {\n  private shouldSkipRequiredHint: boolean = false;\n  private placeholder: string;\n  private req: boolean;\n  constructor(\n    private el: ElementRef,\n    private renderer: Renderer2,\n    private translationService: TranslateService\n  ) {\n     this.shouldSkipRequiredHint = !!this.el.nativeElement.closest('[placeholder-no-required-hint]');\n  }\n\n  ngAfterContentChecked(): void {\n    if (this.el && this.el.nativeElement && this.el.nativeElement.required !== undefined) {\n      const required = this.el.nativeElement.required && !this.shouldSkipRequiredHint;\n      const placeholder = this.el.nativeElement.placeholder;\n\n      if (this.placeholder !== placeholder || this.req !== required) {\n        this.updatePlaceholder(this.getTextForPlaceholder(placeholder, required));\n      }\n    }\n  }\n\n  private getTextForPlaceholder(placeholder = '', required = false) {\n    this.req = required;\n    const requiredText = `(${this.translationService.instant(gettext('required'))})`;\n    const requiredTextIndex = placeholder.lastIndexOf(requiredText);\n    if (requiredTextIndex > 0) {\n      placeholder = placeholder.slice(0, requiredTextIndex - 1);\n    }\n    if (requiredTextIndex === 0) {\n      placeholder = '';\n    }\n    if (!required) {\n      return placeholder;\n    }\n    return placeholder.trim() ? `${placeholder} ${requiredText}` : requiredText;\n  }\n\n  private updatePlaceholder(placeholder) {\n    this.renderer.setAttribute(this.el.nativeElement, 'placeholder', placeholder);\n    this.placeholder = placeholder;\n  }\n}\n","import { Component, Input, OnChanges } from '@angular/core';\nimport { cloneDeep } from 'lodash-es';\nimport { Observable, of } from 'rxjs';\n\n@Component({\n  selector: 'c8y-ip-range-input-list',\n  templateUrl: './ip-range-input-list.component.html'\n})\nexport class IpRangeInputListComponent {\n  @Input()\n  set data(list) {\n    this.ipRangeList = list;\n    if (this.ipRangeList.length === 0) {\n      this.add();\n    }\n  }\n\n  get data() {\n    return this.ipRangeList;\n  }\n\n  ipRangeList: Array<{ ip: string; cidr: number }>;\n\n  add() {\n    this.ipRangeList.push({ ip: '', cidr: undefined });\n  }\n\n  remove(index) {\n    this.ipRangeList.splice(index, 1);\n  }\n}\n","import { Component, EventEmitter, Input, OnDestroy, OnInit, Output } from '@angular/core';\nimport { Subject, timer } from 'rxjs';\nimport { debounce, distinctUntilChanged, map } from 'rxjs/operators';\n\n@Component({\n  selector: 'c8y-filter',\n  templateUrl: './filter-input.component.html'\n})\nexport class FilterInputComponent implements OnInit, OnDestroy {\n  @Input() icon: string;\n  @Output() onSearch = new EventEmitter<string>();\n  filterChange$ = new Subject();\n  filterTerm: string = '';\n  private readonly CARRIAGE_RETURN_KEY = 13;\n  private readonly CARRIAGE_RETURN_CODE = 'Enter';\n\n  ngOnInit() {\n    this.reset();\n    this.filterChange$\n      .pipe(\n        debounce((event: any) =>\n          event.code === this.CARRIAGE_RETURN_CODE || event.keyCode === this.CARRIAGE_RETURN_KEY\n            ? timer(10)\n            : timer(300)\n        ),\n        map((e: any) => e.target.value),\n        distinctUntilChanged()\n      )\n      .subscribe(filterTerm => {\n        this.filterTerm = filterTerm;\n        this.onSearch.emit(filterTerm);\n      });\n  }\n\n  reset() {\n    this.filterTerm = '';\n    this.onSearch.emit('');\n  }\n\n  ngOnDestroy(): void {\n    this.filterChange$.complete();\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { PhoneValidationDirective } from './phone-validation.directive';\nimport { DefaultValidationDirective } from './default-validation.directive';\nimport { MinValidationDirective } from './min-validation.directive';\nimport { MaxValidationDirective } from './max-validation.directive';\nimport { CommonModule } from '../common/common.module';\nimport { FormsModule as NgFormsModule } from '@angular/forms';\nimport { FormGroupComponent } from './form-group.component';\nimport { MessageDirective } from './message.directive';\nimport { MessagesComponent } from './messages.component';\nimport { InputGroupListComponent } from './input-group-list.component';\nimport { InputGroupListContainerDirective } from './input-group-list-container.directive';\nimport { JsonValidationPrettifierDirective } from './json-validation-prettifier.directive';\nimport { TextAreaRowHeightDirective } from './text-area-row-height.directive';\nimport { RequiredInputPlaceholderDirective } from './required-input-placeholder.directive';\nimport { IpRangeInputListComponent } from './ip-range-input-list.component';\nimport { FilterInputComponent } from './filter-input.component';\n\n/**\n * @exports FormGroupComponent A component that allows to group an input and can display warnings and errors.\n * @exports PhoneValidationDirective Allows to validate international phone numbers.\n * @exports NewsletterDirective Allows to subscribe to the newsletter.\n * @exports DefaultValidationDirective Allows to validate some predefined patterns.\n * @exports MessageDirective A directive that allows to define messages.\n * @exports MessagesComponent Allows to display error messages.\n */\n@NgModule({\n  imports: [CommonModule, NgFormsModule],\n  exports: [\n    PhoneValidationDirective,\n    DefaultValidationDirective,\n    MinValidationDirective,\n    MaxValidationDirective,\n    NgFormsModule,\n    FormGroupComponent,\n    MessageDirective,\n    MessagesComponent,\n    InputGroupListComponent,\n    InputGroupListContainerDirective,\n    JsonValidationPrettifierDirective,\n    TextAreaRowHeightDirective,\n    RequiredInputPlaceholderDirective,\n    IpRangeInputListComponent,\n    FilterInputComponent\n  ],\n  declarations: [\n    PhoneValidationDirective,\n    DefaultValidationDirective,\n    MinValidationDirective,\n    MaxValidationDirective,\n    FormGroupComponent,\n    MessageDirective,\n    MessagesComponent,\n    InputGroupListComponent,\n    InputGroupListContainerDirective,\n    JsonValidationPrettifierDirective,\n    TextAreaRowHeightDirective,\n    RequiredInputPlaceholderDirective,\n    IpRangeInputListComponent,\n    FilterInputComponent\n  ]\n})\nexport class FormsModule {}\n","import { Component, Output, EventEmitter, Input } from '@angular/core';\nimport { NewPassword } from './password.model';\nimport { ControlContainer, NgForm } from '@angular/forms';\nimport { LoginService } from '../login/login.service';\nimport { UserService, ICredentials } from '@c8y/client';\nimport { AlertService } from '../alert/alert.service';\nimport { LoginViews } from '../login/login.model';\n\n@Component({\n  selector: 'c8y-totp-challenge',\n  templateUrl: './totp-challenge.component.html',\n  viewProviders: [ { provide: ControlContainer, useExisting: NgForm } ]\n})\n\nexport class TotpChallengeComponent {\n  /**\n   * Calls the verify endpoint if set to true (default true)\n   */\n  @Input() verify = true;\n  /**\n   * Emits the token on success.\n   */\n  @Output() onSuccess = new EventEmitter();\n\n  model = {\n    token: ''\n  };\n  @Input()\n  loading = false;\n  @Input()\n  hasError = false;\n\n  constructor(\n    public loginService: LoginService,\n    private users: UserService,\n    private alert: AlertService\n  ) {}\n\n  async verifyCode() {\n    try {\n      this.loading = true;\n      this.hasError = false;\n      if (this.verify) {\n        await this.users.verifyTotpCode(this.model.token);\n      }\n      this.onSuccess.emit(this.model.token);\n    } catch (e) {\n      this.hasError = true;\n      this.alert.removeLastDanger();\n      this.loading = false;\n    }\n  }\n}\n","import { Component, Output, EventEmitter, Input } from '@angular/core';\nimport { UserService, ICredentials } from '@c8y/client';\nimport { LoginService } from '../login/login.service';\nimport { AlertService } from '../alert/public-api';\nimport { LoginViews } from '../login/login.model';\nimport { gettext } from '../i18n/gettext';\n\n@Component({\n  selector: 'c8y-sms-challenge',\n  templateUrl: './sms-challenge.component.html',\n  styles: []\n})\n\nexport class SmsChallengeComponent {\n\n  @Input() credentials: ICredentials;\n  @Output() onCancel = new EventEmitter();\n\n  model = {\n    smsToken: ''\n  };\n  isLoading = false;\n\n  private resendTfa: string = '0';\n\n  constructor(\n    public loginService: LoginService,\n    private users: UserService,\n    private alert: AlertService\n  ) {}\n\n  async verifyTFACode() {\n    this.isLoading = true;\n    if (this.useOAuthInternal()) {\n      await this.verifyCodeWithOauth();\n    } else {\n      await this.verifyCodeWithBasicAuth();\n    }\n    this.isLoading = false;\n  }\n\n  async resendTFASms() {\n    try {\n      this.isLoading = true;\n      await this.users.verifyTFACode(this.resendTfa);\n    } catch (e) {\n      if (e.res.status === 403) {\n        this.loginService.cleanMessages();\n        this.loginService.addSuccessMessage('resend_sms');\n      } else {\n        this.alert.addServerFailure(e);\n      }\n    } finally {\n      this.isLoading = false;\n    }\n  }\n\n  private useOAuthInternal() {\n    return this.loginService.isPasswordGrantLogin(this.credentials);\n  }\n\n  private async verifyCodeWithOauth() {\n    try {\n      const { credentials } = this;\n      await this.loginService.switchLoginMode({...credentials, tfa: this.model.smsToken});\n      await this.loginService.verifyAppAccess();\n      await this.loginService.authFulfilled();\n    } catch (e) {\n      const resStatus = e.res && e.res.status;\n      if (resStatus === 401) {\n        // it is assumed that the user and password are correct so it must be the tfa code\n        this.alert.danger(gettext('Invalid code'));\n      } else {\n        this.alert.addServerFailure(e);\n      }\n    }\n  }\n\n  private async verifyCodeWithBasicAuth() {\n    try {\n      const { res } = await this.users.verifyTFACode(this.model.smsToken);\n      const tfaToken = res.headers.get('tfatoken');\n      this.credentials.tfa = tfaToken;\n      this.loginWithTFA(tfaToken);\n    } catch (e) {\n      const resStatus = e.res && e.res.status;\n      // BE returns 403 in case of invalid tfa code\n      if (resStatus === 403) {\n        this.alert.danger(gettext('Invalid code'));\n      } else {\n        this.alert.addServerFailure(e);\n      }\n    }\n  }\n\n  private async loginWithTFA(tfaToken) {\n    try {\n      await this.loginService.login(this.loginService.useBasicAuth({tfa: tfaToken}), this.credentials);\n      this.loginService.saveTFAToken(tfaToken, sessionStorage);\n      if (this.loginService.rememberMe) {\n        this.loginService.saveTFAToken(tfaToken, localStorage);\n      }\n    } catch (e) {\n      this.alert.addServerFailure(e);\n    }\n  }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { ITotp, UserService } from '@c8y/client';\nimport { AlertService } from '../alert/alert.service';\n\n@Component({\n  selector: 'c8y-totp-setup',\n  templateUrl: './totp-setup.component.html'\n})\n\nexport class TotpSetupComponent implements OnInit {\n  totpSecret: ITotp;\n\n  get qrCodeImage() {\n    return this.totpSecret ? this.totpSecret.secretQrUrl : '';\n  }\n\n  get secret() {\n    return this.totpSecret ? this.totpSecret.rawSecret : '';\n  }\n\n  constructor(private user: UserService, private alert: AlertService) { }\n\n  async ngOnInit() {\n    try {\n      const { data } = await this.user.generateTotpSecret();\n      this.totpSecret = data;\n    } catch (ex) {\n      this.alert.addServerFailure(ex);\n    }\n  }\n}\n","import { Component, Output, EventEmitter, Input } from '@angular/core';\nimport { LoginService } from '../login/login.service';\nimport { AlertService } from '../alert/alert.service';\nimport { LoginViews } from '../login/login.model';\nimport { ICredentials, UserService } from '@c8y/client';\n\n@Component({\n  selector: 'c8y-provide-phone-number',\n  templateUrl: './provide-phone-number.component.html'\n})\nexport class ProvidePhoneNumberComponent {\n  @Input() credentials: ICredentials;\n  @Output() onCancel = new EventEmitter();\n  @Output() onChangeView = new EventEmitter();\n\n  phoneNumber: string;\n  requestInProgress = false;\n  private sendTfa: string = '0';\n\n  constructor(\n    public loginService: LoginService,\n    public alert: AlertService,\n    private userService: UserService\n  ) {}\n\n  async sendTFASms() {\n    try {\n      await this.userService.verifyTFACode(this.sendTfa);\n    } catch (e) {\n      if (e.res.status === 403) {\n        this.loginService.cleanMessages();\n        this.loginService.addSuccessMessage('send_sms');\n      } else {\n        throw e;\n      }\n    }\n  }\n\n  async save() {\n    try {\n      this.requestInProgress = true;\n      await this.userService.savePhoneNumber(this.phoneNumber);\n      await this.sendTFASms();\n      this.onChangeView.emit({\n        view: LoginViews.SmsChallenge,\n        credentials: this.credentials\n      });\n    } catch (e) {\n      this.alert.addServerFailure(e);\n    } finally {\n      this.requestInProgress = false;\n    }\n  }\n}\n","import { NgModule } from '@angular/core';\r\nimport { TooltipModule } from 'ngx-bootstrap/tooltip';\r\nimport { CommonModule } from '../common/common.module';\r\nimport { PasswordCheckListComponent } from './password-check-list.component';\r\nimport { PasswordConfirm } from './password-confirm.directive';\r\nimport { PasswordStrengthCheckerService } from './password-strength-checker.service';\r\nimport { PasswordStrengthComponent } from './password-strength.component';\r\nimport { NewPasswordComponent } from './new-password.component';\r\nimport { PasswordConfirmModalComponent } from './password-confirm-modal.component';\r\nimport { ModalModule } from '../modal/modal.module';\r\nimport { FormsModule } from '../forms/forms.module';\r\nimport { TotpChallengeComponent } from './totp-challenge.component';\r\nimport { SmsChallengeComponent } from './sms-challenge.component';\r\nimport { TotpSetupComponent } from './totp-setup.component';\r\nimport { PasswordService } from './password.service';\r\nimport { ProvidePhoneNumberComponent } from './provide-phone-number.component';\r\n\r\n/**\r\n * The angular module definition for new password.\r\n * @exports PasswordStrengthComponent\r\n * @exports PasswordCheckListComponent\r\n * @exports PasswordConfirm\r\n * @exports NewPasswordComponent\r\n * @exports PasswordConfirmModalComponent\r\n */\r\n@NgModule({\r\n  declarations: [\r\n    TotpChallengeComponent,\r\n    PasswordConfirm,\r\n    PasswordStrengthComponent,\r\n    PasswordCheckListComponent,\r\n    NewPasswordComponent,\r\n    PasswordConfirmModalComponent,\r\n    SmsChallengeComponent,\r\n    TotpSetupComponent,\r\n    ProvidePhoneNumberComponent\r\n  ],\r\n  imports: [\r\n    FormsModule,\r\n    TooltipModule,\r\n    CommonModule,\r\n    ModalModule\r\n  ],\r\n  exports: [\r\n    TotpChallengeComponent,\r\n    PasswordStrengthComponent,\r\n    PasswordCheckListComponent,\r\n    PasswordConfirm,\r\n    NewPasswordComponent,\r\n    PasswordConfirmModalComponent,\r\n    SmsChallengeComponent,\r\n    TotpSetupComponent,\r\n    ProvidePhoneNumberComponent\r\n  ],\r\n  entryComponents: [\r\n    PasswordConfirmModalComponent\r\n  ],\r\n  providers: [\r\n    PasswordStrengthCheckerService,\r\n    PasswordService\r\n  ]\r\n})\r\nexport class AuthenticationModule {}\r\n","import { Component, Input, ViewChild } from '@angular/core';\nimport { BreadcrumbItem } from './breadcrumb.model';\n\n@Component({\n  selector: 'c8y-breadcrumb-item',\n  templateUrl: './breadcrumb-item.component.html'\n})\nexport class BreadcrumbItemComponent implements BreadcrumbItem {\n  @Input() icon: string;\n  @Input() translate: boolean;\n  @Input() label: string;\n  @Input() path: string;\n  @ViewChild('template', {static: false}) template: any;\n}\n","import { Component, Input } from '@angular/core';\nimport { Breadcrumb } from './breadcrumb.model';\n\n@Component({\n  selector: 'c8y-breadcrumb-outlet',\n  templateUrl: './breadcrumb-outlet.component.html'\n})\nexport class BreadcrumbOutletComponent {\n  showAll = false;\n  @Input() breadcrumbs: Breadcrumb[] = [];\n\n  /**\n   * For upgrade only. Old angularjs routes start with hash, new ones not.\n   */\n  normalizePath(path) {\n    return path.replace(/^#\\/?/, '');\n  }\n}\n","import { Component, ContentChildren, QueryList } from '@angular/core';\nimport { Breadcrumb, BreadcrumbItem } from './breadcrumb.model';\nimport { BreadcrumbService } from './breadcrumb.service';\nimport { BreadcrumbItemComponent } from './breadcrumb-item.component';\n\n@Component({\n  selector: 'c8y-breadcrumb',\n  templateUrl: './breadcrumb.component.html'\n})\nexport class BreadcrumbComponent implements Breadcrumb {\n  items: BreadcrumbItem[];\n  @ContentChildren(BreadcrumbItemComponent) private contentChildItems: QueryList<BreadcrumbItem>;\n  private viewInitTimeout;\n\n  constructor(private breadcrumbService: BreadcrumbService) {}\n\n  ngAfterViewInit() {\n    this.items = this.contentChildItems.toArray();\n    this.viewInitTimeout = setTimeout(() =>\n      this.breadcrumbService.add(this as Breadcrumb)\n    );\n  }\n\n  ngOnDestroy() {\n    clearTimeout(this.viewInitTimeout);\n    this.breadcrumbService.remove(this as Breadcrumb);\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { RouterModule } from '@angular/router';\nimport { TooltipModule } from 'ngx-bootstrap/tooltip';\nimport { CommonModule } from '../common/common.module';\nimport { BreadcrumbItemComponent } from './breadcrumb-item.component';\nimport { BreadcrumbOutletComponent } from './breadcrumb-outlet.component';\nimport { BreadcrumbComponent } from './breadcrumb.component';\nimport { BreadcrumbService } from './breadcrumb.service';\n\n/**\n * The angular module definition for breadcrumbs.\n * @exports BreadcrumbComponent\n * @exports BreadcrumbItemComponent\n * @exports BreadcrumbOutletComponent\n */\n@NgModule({\n  declarations: [\n    BreadcrumbComponent,\n    BreadcrumbItemComponent,\n    BreadcrumbOutletComponent\n  ],\n  imports: [\n    RouterModule.forChild([]),\n    CommonModule,\n    TooltipModule.forRoot()\n  ],\n  exports: [\n    BreadcrumbComponent,\n    BreadcrumbItemComponent,\n    BreadcrumbOutletComponent\n  ]\n})\nexport class BreadcrumbModule { }\n","import { Component, Input, ViewChild, ElementRef } from '@angular/core';\nimport { Search } from './search.model';\nimport { sortBy } from 'lodash';\nimport { AlertService } from '../alert/alert.service';\nimport { Alert } from '../alert/alert.model';\n\n@Component({\n  selector: 'c8y-search-outlet',\n  templateUrl: './search-outlet.component.html'\n})\nexport class SearchOutletComponent {\n  @Input() search: Search[] = [];\n\n  constructor(private alertService: AlertService) {}\n\n  openSearch() {\n    setTimeout(() => this.focusInputBox(), 100);\n  }\n\n  getByPriority() {\n    return sortBy(this.search, this.byPriority);\n  }\n\n  closeDropdown(dropdown) {\n    dropdown.hide();\n  }\n\n  verifyNotEmpty(term) {\n    if (!term || term === '') {\n      this.alertService.add({ text: 'Type something to execute a search.', type: 'warning' });\n    }\n  }\n\n  private byPriority(item) {\n    return -item.priority;\n  }\n\n  private focusInputBox() {\n    const elementToFocus: any = document.querySelector('#search-header-menu input');\n    if (elementToFocus) {\n      elementToFocus.focus();\n    }\n  }\n}\n","import { Injectable, InjectionToken, Injector } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { BehaviorSubject, Observable, Subject } from 'rxjs';\nimport { map, shareReplay } from 'rxjs/operators';\nimport { ExtensionPoint, fromTrigger, sortByPriority, stateToFactory } from '../common/extension-hooks';\nimport { StateService } from '../common/state-service.abstract';\nimport { Search } from './search.model';\n\n/**\n * A hook to use for Multi Provider extension.\n */\nexport const HOOK_SEARCH = new InjectionToken('SearchFactory');\n\n/**\n * A service which defines the dearch function.\n */\n@Injectable({\n  providedIn: 'root'\n})\nexport class SearchService extends StateService implements ExtensionPoint<Search> {\n  items$: Observable<Search[]>;\n  readonly refreshTrigger = new Subject();\n  protected state$ = new BehaviorSubject<Set<Search>>(new Set<Search>());\n\n  constructor(\n    private injector: Injector,\n    router: Router\n  ) {\n    super();\n    this.items$ = fromTrigger(router, this.refreshTrigger, [\n      () => this.injector.get(HOOK_SEARCH, []),\n      stateToFactory(this.state$)\n    ]).pipe(\n      map((items: Search[]) => sortByPriority(items)),\n      shareReplay(1)\n    );\n  }\n\n  /**\n   * Refresh the extension factories\n   */\n  refresh() {\n    this.refreshTrigger.next(1);\n  }\n\n  /**\n   * Returns the current state.\n   * @readonly\n   * @returns The current set of actions.\n   */\n  get state() {\n    return this.state$.value;\n  }\n\n  /**\n   * Adds a new item to the search in the header.\n   * @param item The item to add.\n   */\n  add(item: Search) {\n    this.state.add(item);\n    this.emitNewState();\n  }\n\n  /**\n   * Removes an search from the header.\n   * @param item The item to remove.\n   */\n  remove(item: Search) {\n    this.state.delete(item);\n    this.emitNewState();\n  }\n}\n","import { Component, Input, Output, ViewChild, EventEmitter } from '@angular/core';\nimport { Search } from './search.model';\nimport { SearchService } from './search.service';\n\n@Component({\n  selector: 'c8y-search',\n  templateUrl: './search.component.html'\n})\nexport class SearchComponent implements Search {\n  @Input() name: string;\n  @Input() icon: string = 'search';\n  @Input() priority: number = 0;\n  @ViewChild('template', {static: false}) template: any;\n  @Output() search = new EventEmitter<Search>();\n  @Input() term: string = '';\n\n  private viewInitTimeout;\n\n  constructor(private searchService: SearchService) { }\n\n  onSearch() {\n    this.search.emit(this);\n  }\n\n  ngAfterViewInit() {\n    this.template = undefined;\n    this.viewInitTimeout = setTimeout(() => this.searchService.add(this as Search));\n  }\n\n  ngOnDestroy() {\n    clearTimeout(this.viewInitTimeout);\n    this.searchService.remove(this as Search);\n  }\n}\n","import {\n  Component,\n  ElementRef,\n  Input,\n  SimpleChanges,\n  ViewChild,\n  SecurityContext\n} from '@angular/core';\nimport { DomSanitizer } from '@angular/platform-browser';\n\n@Component({\n  selector: 'c8y-highlight',\n  template: '<span [innerHTML]=\"highlightedText\"></span>'\n})\nexport class HighlightComponent {\n  @ViewChild('text', { read: ElementRef, static: true })\n  container: ElementRef;\n\n  @Input()\n  pattern: string = '';\n\n  @Input()\n  text: string = '';\n\n  @Input()\n  elementClass: string = 'text-info';\n\n  highlightedText: string = '';\n\n  constructor(private domSanitizer: DomSanitizer) {}\n\n  ngOnChanges(): void {\n    let text = this.text;\n    if (this.pattern && this.pattern !== '') {\n      text = this.text.replace(new RegExp(this.pattern, 'i'), `<strong class=\"${this.elementClass}\">$&</strong>`);\n    }\n    this.highlightedText = this.domSanitizer.sanitize(SecurityContext.HTML, text);\n  }\n}\n","import { Component, Input} from '@angular/core';\r\nimport { gettext } from '../i18n/gettext';\r\n\r\n@Component({\r\n  selector: 'c8y-search-result-empty',\r\n  templateUrl: './search-result-empty.component.html'\r\n})\r\nexport class SearchResultEmptyComponent {\r\n  private readonly NO_RESULT_FOUND = gettext('No results found.');\r\n  private msg: string = this.NO_RESULT_FOUND;\r\n\r\n  @Input('message')\r\n  set _message(msg: string) {\r\n    if (msg && msg.length > 0) {\r\n      this.msg = msg;\r\n    } else {\r\n      this.msg = this.NO_RESULT_FOUND;\r\n    }\r\n  }\r\n\r\n  get message() {\r\n    return this.msg;\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\nimport { RouterModule } from '@angular/router';\nimport { BsDropdownModule } from 'ngx-bootstrap/dropdown';\nimport { CommonModule } from '../common/common.module';\nimport { SearchOutletComponent } from './search-outlet.component';\nimport { SearchComponent } from './search.component';\nimport { SearchService } from './search.service';\nimport { FormsModule } from '@angular/forms';\nimport { HighlightComponent } from './highlight.component';\nimport { SearchResultEmptyComponent } from './search-result-empty.component';\n\n/**\n * The angular module definition for the search.\n * @exports SearchComponent\n * @exports SearchOutletComponent\n * @exports HighlightComponent A component to highlight search results.\n */\n@NgModule({\n  declarations: [\n    SearchOutletComponent,\n    SearchComponent,\n    HighlightComponent,\n    SearchResultEmptyComponent\n  ],\n  imports: [\n    FormsModule,\n    BsDropdownModule,\n    CommonModule,\n    RouterModule.forChild([])\n  ],\n  exports: [\n    SearchOutletComponent,\n    SearchComponent,\n    HighlightComponent,\n    SearchResultEmptyComponent\n  ]\n})\nexport class SearchModule { }\n","import { Injectable } from '@angular/core';\nimport { StateService } from '../common/state-service.abstract';\nimport { BehaviorSubject } from 'rxjs';\nimport { UserMenuItem } from './user.model';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class UserMenuService extends StateService {\n  state$: BehaviorSubject<any> = new BehaviorSubject<any>({\n    userMenuItems: new Set<UserMenuItem>()\n  });\n\n  /**\n   * Returns the current state.\n   * @readonly\n   * @returns The current set of actions.\n   */\n  get state() {\n    return this.state$.value;\n  }\n\n  /**\n   * Adds a new item to the search in the header.\n   * @param item The item to add.\n   */\n  add(item: UserMenuItem) {\n    this.state.userMenuItems.add(item);\n    this.emitNewState();\n  }\n\n  /**\n   * Removes an search from the header.\n   * @param item The item to remove.\n   */\n  remove(item: UserMenuItem) {\n    this.state.userMenuItems.delete(item);\n    this.emitNewState();\n  }\n}\n","import { Component, Input, ViewChild, EventEmitter, Output } from '@angular/core';\nimport { UserMenuItem } from './user.model';\nimport { UserMenuService } from './user-menu.service';\n\n@Component({\n  selector: 'c8y-user-menu-item',\n  templateUrl: './user-menu-item.component.html'\n})\nexport class UserMenuItemComponent implements UserMenuItem  {\n  @Input()\n  icon: string;\n  @Input()\n  label: string;\n  @Input()\n  link: string;\n  @Input()\n  target: string;\n  @Input()\n  priority = 0;\n  @ViewChild('template', {static: false}) template: any;\n\n  @Output()\n  click = new EventEmitter<UserMenuItem>();\n  private viewInitTimeout;\n\n  constructor(private userService: UserMenuService) { }\n\n  ngAfterViewInit() {\n    this.viewInitTimeout = setTimeout(() =>\n      this.userService.add(this as UserMenuItem)\n    );\n  }\n\n  ngOnDestroy() {\n    clearTimeout(this.viewInitTimeout);\n    this.userService.remove(this as UserMenuItem);\n  }\n\n  onClick() {\n    this.click.emit(this);\n  }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { BasicAuth, FetchClient, ICredentials, IUser, UserService } from '@c8y/client';\nimport { BsModalRef, BsModalService } from 'ngx-bootstrap/modal';\nimport { AlertService } from '../alert/alert.service';\nimport { AppStateService } from '../common/ui-state.service';\nimport { UserPreferencesService } from '../common/user-preferences/user-preferences.service';\nimport { gettext } from '../i18n/gettext';\nimport { TranslateService } from '../i18n/translate.service';\nimport { take } from 'rxjs/operators';\n\n@Component({\n  selector: 'c8y-user-edit-modal',\n  templateUrl: './user-edit-modal.component.html'\n})\nexport class UserEditModalComponent implements OnInit {\n  currentUser: IUser;\n  lang: string;\n  changedLang: string;\n  loading = false;\n\n  constructor(\n    public modal: BsModalRef,\n    public user: UserService,\n    public ui: AppStateService,\n    private auth: BasicAuth,\n    private client: FetchClient,\n    private alert: AlertService,\n    private translate: TranslateService,\n    private userPreferences: UserPreferencesService,\n    private modalService: BsModalService\n  ) {\n    this.lang = this.ui.state.lang;\n    this.modalService.onHide.pipe(take(1)).subscribe(( reason: string ) => {\n      if (reason !== null && this.changedLang !== undefined) {\n        this.translate.switchToLanguage(this.lang);\n      }\n    });\n  }\n\n  ngOnInit() {\n    this.updateUserInAppState();\n  }\n\n  onDismiss() {\n    if (this.changedLang !== undefined) {\n      this.translate.switchToLanguage(this.lang);\n    }\n    this.modal.hide();\n  }\n\n  onLanguage(lang) {\n    this.changedLang = lang;\n    this.translate.switchToLanguage(this.changedLang);\n  }\n\n  async updateAndClose(user) {\n    this.loading = true;\n    try {\n      await this.user.updateCurrent(user);\n      if (user.password) {\n        this.updateCredentials(user.password);\n      }\n      await this.updateUserInAppState();\n      if (this.changedLang && this.changedLang !== this.lang) {\n        await this.persistLanguage(this.changedLang);\n      }\n      this.modal.hide();\n      this.alert.success(gettext('User saved.'));\n    } catch (e) {\n      this.alert.addServerFailure(e);\n    } finally {\n      this.loading = false;\n    }\n  }\n\n  async persistLanguage(lang) {\n    this.translate.saveInLocalStorage(lang);\n    this.userPreferences.set('language', lang);\n  }\n\n  private async updateUserInAppState() {\n    const currentUserResult = await this.user.current();\n    this.ui.currentUser.next(currentUserResult.data);\n  }\n\n  private updateCredentials(password: string) {\n    const newCredentials: ICredentials = {\n      password,\n      user: this.ui.currentUser.value.id,\n      tenant: this.client.tenant\n    };\n    this.auth.updateCredentials(newCredentials);\n  }\n}\n","import { Component } from '@angular/core';\nimport { UserService } from '@c8y/client';\nimport { Status } from '../common/status.model';\nimport { gettext } from '../i18n/gettext';\nimport { ModalService } from '../modal/modal.service';\nimport { BsModalRef } from 'ngx-bootstrap/modal';\nimport { LoginService } from '../login/public-api';\nimport { AlertService } from '../alert/public-api';\n\n@Component({\n  selector: 'c8y-user-totp-setup',\n  templateUrl: './user-totp-setup.component.html'\n})\nexport class UserTotpSetupComponent {\n  constructor(\n    private user: UserService,\n    private modalService: ModalService,\n    private modal: BsModalRef,\n    private loginService: LoginService) { }\n\n  async totpSetupVerified(token) {\n    await this.user.activateTotp();\n    this.modal.hide();\n    try {\n      await this.modalService.acknowledge(\n        gettext('Logout required'),\n        gettext('You must log out in order to apply your changes'),\n        Status.WARNING,\n        gettext('Log out')\n      );\n      await this.loginService.logout();\n    } catch (ex) {\n      // intended empty\n    }\n  }\n\n  close() {\n    this.modal.hide();\n  }\n}\n","import { Component, Input, Output, EventEmitter, OnInit } from '@angular/core';\nimport {\n  IUser,\n  UserService,\n  TenantLoginOptionsService\n} from '@c8y/client';\nimport { clone } from 'lodash-es';\nimport { AppStateService } from '../common/ui-state.service';\nimport { TranslateService } from '../i18n/translate.service';\nimport { NewPassword } from '../authentication/password.model';\nimport { BsModalService } from 'ngx-bootstrap/modal';\nimport { PasswordService } from '../authentication/password.service';\nimport { UserTotpSetupComponent } from './user-totp-setup.component';\nimport { AlertService } from '../alert/alert.service';\nimport { ModalService } from '../modal/modal.service';\n\nexport interface User extends IUser {\n  phone: string;\n  sendPasswordResetEmail: boolean;\n  newsletter?: boolean;\n}\n\n@Component({\n  selector: 'c8y-user-edit',\n  templateUrl: './user-edit.component.html'\n})\nexport class UserEditComponent implements OnInit {\n  @Input() lang: string;\n  @Input() loading: boolean = false;\n  @Input() set user(u: User) {\n    this._user = clone(u);\n    this.userIsExternal = u.customProperties.userOrigin === 'OAUTH2';\n    this.isPhoneRequired = this.isPhoneRequired && u.twoFactorAuthenticationEnabled;\n  }\n  get user() { return this._user; }\n  @Output() onUser: EventEmitter<User> = new EventEmitter();\n  @Output() onLanguage: EventEmitter<string> = new EventEmitter();\n  @Output() onCancel: EventEmitter<void> = new EventEmitter();\n  userHasActiveTotp = false;\n  userCanSetupTotp = false;\n  isPhoneRequired = false;\n  userIsExternal;\n  private _user: User;\n\n  constructor(\n    public state: AppStateService,\n    public translate: TranslateService,\n    public passwordService: PasswordService,\n    public modalConfirmService: ModalService,\n    private bsModalService: BsModalService,\n    private alert: AlertService,\n    private userService: UserService,\n    private tenantLoginOptionsService: TenantLoginOptionsService,\n  ) {}\n\n  async ngOnInit() {\n    await this.initializeTotpSettings();\n    if (this.user.twoFactorAuthenticationEnabled && !this.userCanSetupTotp) {\n      this.isPhoneRequired = true;\n    }\n  }\n\n  get langs() {\n    return this.state.state.langs;\n  }\n\n  setupTotp() {\n    this.bsModalService.show(UserTotpSetupComponent, { class: 'modal-sm' });\n    this.cancel(); // to close the user edit modal and prevent console errors on logout\n  }\n\n  cancel() {\n    this.onCancel.emit();\n  }\n\n  save() {\n    if (!this.loading) {\n      this._user.password ? this.saveAfterPasswordConfirmation() : this.onUser.emit(this._user);\n    }\n  }\n\n  onNewPasswordChanged(newPassword: NewPassword) {\n    this._user.password = newPassword.password;\n  }\n\n  private async initializeTotpSettings() {\n    try {\n      this.userCanSetupTotp = await this.canUserSetupTotp();\n      if (this.userCanSetupTotp) {\n        const { data: totpActivity } = await this.userService.getActivityTotp();\n        this.userHasActiveTotp = totpActivity.isActive;\n      }\n    } catch (ex) {\n      this.alert.removeLastDanger();\n    }\n  }\n\n  private async canUserSetupTotp() {\n    // we don't check for tenant options here due to permission restrictions on that end-point\n    const { loginOptions } = (await this.tenantLoginOptionsService.detail()).data;\n    return loginOptions.some(({ tfaStrategy = '' }) =>  tfaStrategy.toLowerCase() === 'totp');\n  }\n\n  private saveAfterPasswordConfirmation() {\n    this.passwordService.confirmPassword().subscribe((confirmed) => {\n      if (confirmed) {\n        this.onUser.emit(this._user);\n      }\n    });\n  }\n}\n","import { Component, Input } from '@angular/core';\nimport { TenantService, UserService } from '@c8y/client';\n\nimport { AlertService } from '../alert/alert.service';\nimport { AppStateService } from '../common/ui-state.service';\nimport { BsModalService } from 'ngx-bootstrap/modal';\nimport { LoginService } from '../login/login.service';\nimport { ModalService } from '../modal/modal.service';\nimport { Observable } from 'rxjs';\nimport { OptionsService } from '../common/options.service';\nimport { Status } from '../common/status.model';\nimport { TranslateService } from '@ngx-translate/core';\nimport { UserEditModalComponent } from './user-edit-modal.component';\nimport { UserMenuItem } from './user.model';\nimport { gettext } from '../i18n/gettext';\nimport { map } from 'rxjs/operators';\nimport { sortBy } from 'lodash-es';\n\n@Component({\n  selector: 'c8y-user-menu-outlet',\n  templateUrl: './user-menu-outlet.component.html'\n})\nexport class UserMenuOutletComponent {\n  @Input()\n  items: UserMenuItem[];\n  open: boolean;\n\n  constructor(\n    public ui: AppStateService,\n    private bsModalService: BsModalService,\n    private modalService: ModalService,\n    private loginService: LoginService,\n    private translateService: TranslateService,\n    private tenantService: TenantService,\n    private alertService: AlertService,\n    private user: UserService,\n    private optionsService: OptionsService\n  ) {}\n\n  copyIt(text: string) {\n    const handler: EventListenerObject = {\n      handleEvent: (e: ClipboardEvent) => {\n        e.clipboardData.setData('text/plain', text);\n        e.preventDefault();\n      }\n    };\n    document.addEventListener('copy', handler);\n\n    let copied;\n    try {\n      copied = document.execCommand('copy');\n    } catch (e) {\n      copied = false;\n    }\n\n    if (copied) {\n      this.alertService.addByText('success', gettext('Copied to clipboard.'));\n    } else {\n      this.alertService.addByText('danger', gettext('Could not copy to clipboard.'));\n    }\n\n    document.removeEventListener('copy', handler);\n  }\n\n  async editUser() {\n    this.bsModalService.show(UserEditModalComponent);\n  }\n\n  async logout() {\n    await this.loginService.logout();\n  }\n\n  async activateSupportAccess() {\n    const title = gettext('Activate support user access');\n\n    const companyName = this.optionsService.get('companyName', 'Cumulocity');\n    const textWithCompany = gettext(\n      // tslint:disable-next-line:max-line-length\n      'You are about to allow a support user from {{companyName}} to access your tenant to help you with your issue.'\n    );\n    const textWithoutCompany = gettext(\n      // tslint:disable-next-line:max-line-length\n      'You are about to allow a support user to access your tenant to help you with your issue.'\n    );\n    const finalQuestion = gettext('Do you want to proceed?');\n    const body = [\n      this.translateService.instant(companyName ? textWithCompany : textWithoutCompany, {\n        companyName\n      }),\n      this.translateService.instant(finalQuestion)\n    ].join(' ');\n\n    const labels = {\n      ok: gettext('Activate access'),\n      cancel: gettext('Cancel')\n    };\n\n    const successMsg = gettext('Support user access activated.');\n\n    try {\n      await this.modalService.confirm(title, body, Status.DANGER, labels);\n      await this.tenantService.enableSupportUser();\n      await this.refreshCurrentUser();\n      this.alertService.success(successMsg);\n    } catch (ex) {\n      // intended empty\n    }\n  }\n\n  async deactivateSupportAccess() {\n    const title = gettext('Deactivate support user access');\n\n    const companyName = this.optionsService.get('companyName', 'Cumulocity');\n    const textWithCompany = gettext(\n      // tslint:disable-next-line:max-line-length\n      'You are about to block a support user from {{companyName}} from accessing your tenant to help you with your issue.'\n    );\n    const textWithoutCompany = gettext(\n      // tslint:disable-next-line:max-line-length\n      'You are about to block a support user from accessing your tenant to help you with your issue.'\n    );\n    const { data: currentUser } = await this.user.current();\n    const isTenantAdmin = await this.user.hasRole(currentUser, 'ROLE_TENANT_ADMIN');\n    const tenantAdminNote = gettext(\n      // tslint:disable-next-line:max-line-length\n      'Deactivating support access as tenant admin will disable all other support requests on your tenant.'\n    );\n    const finalQuestion = gettext('Do you want to proceed?');\n    const body = [\n      this.translateService.instant(companyName ? textWithCompany : textWithoutCompany, {\n        companyName\n      }),\n      isTenantAdmin ? this.translateService.instant(tenantAdminNote) : '',\n      this.translateService.instant(finalQuestion)\n    ]\n      .filter(Boolean)\n      .join(' ');\n\n    const labels = {\n      ok: gettext('Deactivate access'),\n      cancel: gettext('Cancel')\n    };\n\n    const successMsg = gettext('Support user access deactivated.');\n\n    try {\n      await this.modalService.confirm(title, body, Status.DANGER, labels);\n      await this.tenantService.disableSupportUser();\n      await this.refreshCurrentUser();\n      this.alertService.success(successMsg);\n    } catch (ex) {\n      // intended empty\n    }\n  }\n\n  getSortedItems() {\n    return sortBy(Array.from(this.items), this.byPriority);\n  }\n\n  private async refreshCurrentUser() {\n    const currentUserResult = await this.user.current();\n    this.ui.currentUser.next(currentUserResult.data);\n  }\n\n  private byPriority(item) {\n    return -item.priority;\n  }\n}\n","import { Component, Input, Output, EventEmitter } from '@angular/core';\nimport { IUser, UserService } from '@c8y/client';\nimport { AlertService } from '../alert/public-api';\nimport { gettext } from '../i18n/gettext';\n\n@Component({\n  selector: 'c8y-user-totp-revoke',\n  templateUrl: './user-totp.component.html'\n})\nexport class UserTotpRevokeComponent {\n  @Input() user: IUser;\n  @Output('revoke') revokeEmitter = new EventEmitter<undefined>();\n  constructor(\n    private users: UserService,\n    private alert: AlertService,\n  ) { }\n\n  async revoke() {\n    try {\n      await this.users.totpRevokeSecret(this.user);\n      this.alert.success(gettext('User TOTP secret revoked.'));\n      this.revokeEmitter.next();\n    } catch (e) {\n      this.alert.addServerFailure(e);\n    }\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '../common/common.module';\nimport { ModalModule } from '../modal/modal.module';\nimport { UserMenuItemComponent } from './user-menu-item.component';\nimport { UserEditModalComponent } from './user-edit-modal.component';\nimport { UserEditComponent } from './user-edit.component';\nimport { BsDropdownModule } from 'ngx-bootstrap/dropdown';\nimport { UserMenuOutletComponent } from './user-menu-outlet.component';\nimport { AuthenticationModule } from '../authentication/authentication.module';\nimport { UserMenuService } from './user-menu.service';\nimport { AlertModule } from '../alert/alert.module';\nimport { TooltipModule } from 'ngx-bootstrap/tooltip';\nimport { PopoverModule } from 'ngx-bootstrap/popover';\nimport { RouterModule } from '@angular/router';\nimport { FormsModule } from '../forms/forms.module';\nimport { UserTotpSetupComponent } from './user-totp-setup.component';\nimport { UserTotpRevokeComponent } from './user-totp-revoke.component';\n\n/**\n * The angular module definition for the user menu.\n * @exports UserMenuComponent\n * @exports UserMenuItemComponent\n * @exports UserEditComponent\n * @exports UserEditModalComponent\n */\n@NgModule({\n  declarations: [\n    UserMenuOutletComponent,\n    UserEditComponent,\n    UserEditModalComponent,\n    UserMenuItemComponent,\n    UserTotpSetupComponent,\n    UserTotpRevokeComponent,\n  ],\n  imports: [\n    FormsModule,\n    CommonModule,\n    ModalModule,\n    BsDropdownModule,\n    AuthenticationModule,\n    AlertModule,\n    RouterModule,\n    TooltipModule.forRoot(),\n    PopoverModule\n  ],\n  exports: [\n    UserMenuOutletComponent,\n    UserMenuItemComponent,\n    UserEditComponent,\n    UserEditModalComponent,\n    UserTotpSetupComponent,\n    UserTotpRevokeComponent\n  ],\n  entryComponents: [\n    UserEditModalComponent,\n    UserTotpSetupComponent,\n    UserTotpRevokeComponent\n  ]\n})\nexport class UserModule { }\n","import { Component, Input, OnChanges, SimpleChanges } from '@angular/core';\nimport { find, keys, get, assign, isEmpty } from 'lodash-es';\nimport { OptionsService } from '../../common/options.service';\n\n@Component({\n  selector: 'c8y-app-icon',\n  templateUrl: './app-icon.component.html',\n  host: { class: 'c8y-app-icon' }\n})\nexport class AppIconComponent implements OnChanges {\n  @Input() contextPath: string;\n  @Input() name: string = '';\n  @Input() app: any;\n\n  model = {\n    appIcon: '',\n    showIcon: true,\n    iconClass: ['c8y-icon'],\n    appNameAbbr: '',\n    iconStyle: {}\n  };\n\n  private c8yAppIconsList = {\n    analyticsbuilder: 'analytics-builder',\n    'analytics-builder': 'analytics-builder',\n    cockpit: 'cockpit',\n    devicemanagement: 'device-management',\n    administration: 'administration',\n    apamaepl: 'apama-epl'\n  };\n\n  private white: boolean = false;\n\n  private defaultIconStyle = {\n    'background-repeat': 'no-repeat',\n    'background-size': 'contain',\n    height: '36px',\n    width: '36px'\n  };\n\n  constructor(private options: OptionsService) {}\n\n  ngOnChanges(changes: SimpleChanges) {\n    this.model.appIcon = this.iconFromAppDefinition() || this.findStaticIcon();\n    const iconUrl = this.iconUrlFromAppDefinition();\n    if (iconUrl) {\n      this.model.iconStyle = assign(this.defaultIconStyle, {\n        'background-image': iconUrl\n      });\n    }\n    this.model.showIcon = !!this.model.appIcon || !isEmpty(this.model.iconStyle);\n    this.model.iconClass = [\n      'c8y-icon',\n      this.model.appIcon,\n      this.white ? 'c8y-icon-white' : 'c8y-icon-duocolor'\n    ].filter(c => !!c);\n    this.model.appNameAbbr = this.name.substr(0, 2);\n  }\n\n  private findStaticIcon() {\n    const contextPath = this.contextPath || this.name;\n    const appContextPathNormalized = find(keys(this.c8yAppIconsList), cp => {\n      return contextPath.indexOf(cp) > -1;\n    });\n    const appIcon = this.c8yAppIconsList[appContextPathNormalized];\n    return appIcon ? `c8y-icon-${appIcon}` : undefined;\n  }\n\n  private iconFromAppDefinition() {\n    const app = this.app || this.options;\n    const iconClassProperty = ['icon', 'class'];\n    const iconClass = get(app, iconClassProperty) || get(app, ['manifest', ...iconClassProperty]);\n    return iconClass;\n  }\n\n  private iconUrlFromAppDefinition() {\n    const app = this.app || this.options;\n    const iconUrlProperty = ['icon', 'url'];\n    const iconUrl = get(app, iconUrlProperty) || get(app, ['manifest', ...iconUrlProperty]);\n    return iconUrl;\n  }\n}\n","import { Component } from '@angular/core';\nimport { ApplicationService, IApplication, ICurrentTenant, IUser } from '@c8y/client';\nimport { get, includes, orderBy } from 'lodash-es';\nimport { combineLatest } from 'rxjs';\nimport { first } from 'rxjs/operators';\nimport { AppStateService } from '../../common/ui-state.service';\n\n@Component({\n  selector: 'c8y-app-switcher',\n  templateUrl: './app-switcher.component.html'\n})\nexport class AppSwitcherComponent {\n  oneCloudApps?: Array<IApplication & {[key: string]: any}>;\n  apps: Array<IApplication & {[key: string]: any}>;\n  open: boolean;\n\n  private get hideCloudApps(): boolean {\n    return false;  // this should be configurable from outside\n  }\n  private tenant: ICurrentTenant;\n  constructor(\n    private ui: AppStateService,\n    private applications: ApplicationService) {\n      const { currentUser, currentTenant} = this.ui;\n      combineLatest(currentUser, currentTenant).pipe(\n        first()\n      ).subscribe(([ user, tenant ]) => {\n          this.tenant = tenant;\n          this.listAppsForUser(user);\n        });\n  }\n\n  isActive(app: IApplication) {\n    return app.contextPath === this.ui.state.app.contextPath;\n  }\n\n  getHref(app: IApplication) {\n    return this.applications.getHref(app);\n  }\n\n  private async listAppsForUser(user: IUser | null) {\n    if (user) {\n      const { data } = await this.applications.listByUser(user, { pageSize: 1000 });\n      this.apps = this.orderApps(this.filterApps(data));\n    }\n  }\n\n  private filterApps(apps) {\n    apps = this.filterVisible(apps);\n    apps = this.filterCloud(apps);\n    apps = this.filterDuplicates(apps);\n    return apps;\n  }\n\n  private filterVisible(apps) {\n    const visibleApplicationTypes = ['HOSTED', 'EXTERNAL'];\n    return apps.filter((app) => includes(visibleApplicationTypes, app.type) &&\n      !app.noAppSwitcher &&\n      !get(app, 'manifest.noAppSwitcher'));\n  }\n\n  private filterCloud(apps) {\n    const { hideCloudApps } = this;\n    const filterFn = (app) => !!app.cloud;\n    if (!hideCloudApps) {\n        this.oneCloudApps = this.orderApps(apps.filter(filterFn));\n    }\n    return apps.filter((app) => !filterFn(app));\n  }\n\n  private filterDuplicates(apps) {\n    // Filter out apps that have duplicate contextpaths and are not own owned but the current tenant;\n    const filterFn = (app) => !apps.some((otherApp) => (app !== otherApp) &&\n      (app.contextPath && app.contextPath === otherApp.contextPath) &&\n      (app.owner.tenant.id !== this.tenant.name));\n    return apps.filter(filterFn);\n  }\n\n  private orderApps(apps) {\n    return orderBy(apps, (({ name }) => name.toLowerCase()));\n  }\n}\n","import { gettext } from '../i18n/gettext';\n\nexport const documentationItems = [\n  {\n    icon: 'c8y-c8y-data', // double c8y- is correct!\n    label: gettext('Concepts guide`KEEP_ORIGINAL`'),\n    url: '/concepts/introduction',\n    type: 'doc'\n  },\n  {\n    icon: 'c8y-user',\n    label: gettext('User guide`KEEP_ORIGINAL`'),\n    url: '/users-guide/getting-started',\n    type: 'doc'\n  },\n  {\n    icon: 'c8y-device-management',\n    label: gettext('Device guides`KEEP_ORIGINAL`'),\n    url: '/devices/overview',\n    type: 'doc'\n  },\n  {\n    icon: 'c8y-book',\n    label: gettext('Cumulocity IoT Edge`KEEP_ORIGINAL`'),\n    url: '/edge/overview',\n    type: 'doc'\n  },\n  {\n    icon: 'c8y-tools',\n    label: gettext('Microservice SDK guide`KEEP_ORIGINAL`'),\n    url: '/microservice-sdk/introduction',\n    type: 'doc'\n  },\n  {\n    icon: 'c8y-tools',\n    label: gettext('Device SDK guide`KEEP_ORIGINAL`'),\n    url: '/device-sdk/introduction',\n    type: 'doc'\n  },\n  {\n    icon: 'c8y-smart-rest',\n    label: gettext('Web SDK guide`KEEP_ORIGINAL`'),\n    url: '/web/introduction',\n    type: 'doc'\n  },\n  {\n    icon: 'c8y-data-explorer',\n    label: gettext('Streaming analytics guide`KEEP_ORIGINAL`'),\n    url: '/apama/introduction',\n    type: 'doc'\n  },\n  {\n    icon: 'c8y-bookmark',\n    label: gettext('Reference guide`KEEP_ORIGINAL`'),\n    url: '/reference/rest-implementation',\n    type: 'doc'\n  },\n  {\n    icon: 'gavel',\n    label: gettext('Legal notices'),\n    url: 'https://documentation.softwareag.com/legal/',\n    type: 'doc'\n  }\n];\n","import { InjectionToken } from '@angular/core';\nimport { ExtensionFactory } from '../common/public-api';\n\nexport interface DocLink {\n  icon: string;\n  label: string;\n  url: string;\n  type: 'doc' | 'quicklink';\n  click?: any;\n}\n\nexport type DocLinkFactory = ExtensionFactory<DocLink>;\n\nexport const HOOK_DOCS = new InjectionToken<ExtensionFactory<DocLink>>('Hook docs');\n","import { Injectable, Inject, Optional } from '@angular/core';\nimport { OptionsService } from '../common/options.service';\nimport { documentationItems } from './defaults.items';\nimport { AppStateService } from '../common/ui-state.service';\nimport { gettext } from '../i18n/gettext';\nimport { DocLink, HOOK_DOCS, DocLinkFactory } from './docs.models';\nimport { ExtensionPoint, fromTrigger } from '../common/public-api';\nimport { Observable } from 'rxjs';\nimport { Router } from '@angular/router';\nimport { shareReplay, startWith, first, filter } from 'rxjs/operators';\nimport { isUndefined } from 'lodash-es';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class DocsService implements ExtensionPoint<DocLink> {\n  items$: Observable<DocLink[]>;\n  constructor(\n    private options: OptionsService,\n    private app: AppStateService,\n    @Optional() @Inject(HOOK_DOCS) factories: DocLinkFactory[] = [],\n    router: Router\n  ) {\n    if (!factories) {\n      factories = [];\n    }\n    factories.push(this);\n    const refreshTrigger = this.app.map(({ supportUrl }) => supportUrl);\n    this.items$ = fromTrigger(router, refreshTrigger, factories).pipe(\n      startWith([]),\n      shareReplay(1)\n    );\n  }\n\n  getBaseUrl(): string {\n    return this.options.get('docsBaseUrl', 'https://www.cumulocity.com/guides');\n  }\n\n  get templateStr(): string {\n    return this.options.get('guideHrefTemplate', '${docsBaseUrl}${partialUrl}');\n  }\n\n  getUserGuideLink(link) {\n    if (/^https?:/.test(link)) {\n      return link;\n    }\n    if (this.getBaseUrl === null) {\n      return null;\n    }\n    return this.getLink(this.templateStr, link);\n  }\n\n  list() {\n    return this.items$\n      .pipe(\n        filter(i => !!i.length),\n        first()\n      )\n      .toPromise();\n  }\n\n  refresh() {\n    // no op\n  }\n\n  get() {\n    // use the function as a factory\n    const { links, noDefault, excludeDefault = [] } = this.options.get('docs', {});\n    const { supportUrl } = this.app.state;\n    let staticLinks = noDefault\n      ? []\n      : documentationItems\n          .map((item: DocLink) => ({ ...item, url: this.getUserGuideLink(item.url) }))\n          .filter(({ url }) => !excludeDefault.some(e => new RegExp(e).test(url)));\n\n    if (links) {\n      // backwards compatibility\n      links.map((lnk: DocLink) => {\n        if (isUndefined(lnk.type)) {\n          lnk.type = 'doc';\n          return lnk;\n        }\n      });\n      staticLinks = staticLinks.concat(links);\n    }\n    if (supportUrl) {\n      staticLinks.push({\n        icon: 'comments',\n        label: gettext('Forum support'),\n        url: supportUrl,\n        type: 'doc'\n      });\n    }\n    return staticLinks;\n  }\n\n  private getLink(templateStr, partialLink) {\n    if (!templateStr) {\n      return undefined;\n    }\n    return templateStr\n      .replace(/\\${docsBaseUrl}/, this.getBaseUrl())\n      .replace(/\\${partialUrl}/, this.prefixWithSlash(partialLink));\n  }\n\n  private prefixWithSlash(partialLink = '') {\n    const shouldPrefix = !(partialLink && /^\\//.test(partialLink));\n    const prefix = shouldPrefix ? '/' : '';\n    return `${prefix}${partialLink}`;\n  }\n}\n","import { AfterViewInit, Component } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { ActionService } from '../../action/action.service';\nimport { BreadcrumbService } from '../../breadcrumb/breadcrumb.service';\nimport { SearchService } from '../../search/search.service';\nimport { AppStateService } from '../../common/ui-state.service';\nimport { UserMenuService } from '../../user/user-menu.service';\nimport { HeaderService } from '../header.service';\nimport { DocsService } from '../../docs/docs.service';\n\n@Component({\n  selector: 'c8y-header-bar',\n  templateUrl: './header-bar.component.html'\n})\nexport class HeaderBarComponent implements AfterViewInit {\n  canToggle$: Observable<boolean> = this.headerService.hasItemsInNavigator$;\n  appState$: Observable<any> = this.appState.state$;\n  drawerOpen = false;\n  headerOpen = false;\n\n  constructor(\n    public headerService: HeaderService,\n    public actionService: ActionService,\n    public breadcrumbService: BreadcrumbService,\n    public searchService: SearchService,\n    private appState: AppStateService,\n    public userMenuService: UserMenuService,\n    public docs: DocsService\n  ) {}\n\n  ngAfterViewInit() {\n    this.headerService.verifyIfNavOpen();\n  }\n\n  toggle() {\n    this.headerOpen = !this.headerOpen;\n  }\n}\n","import { Component, ElementRef, NgZone } from '@angular/core';\nimport { HeaderService } from '../header.service';\nimport { debounceTime, map, filter } from 'rxjs/operators';\n\n@Component({\n  selector: 'c8y-title-outlet',\n  templateUrl: './title-outlet.component.html'\n})\nexport class TitleOutletComponent {\n  title = undefined;\n\n  constructor(\n    private headerService: HeaderService,\n    private element: ElementRef,\n    private zone: NgZone\n  ) {\n    const title$ = this.headerService.map(state => state.title);\n    title$.subscribe(title => (this.title = title));\n    this.zone.runOutsideAngular(() => {\n      title$\n        .pipe(\n          debounceTime(100),\n          map(() => this.element.nativeElement.querySelector('h1')),\n          filter(el => el !== null),\n          map(el => el.innerText),\n          filter(Boolean)\n        )\n        .subscribe((title: string) => headerService.changePageTitle(title));\n    });\n  }\n}\n","import { AfterViewInit, Component, OnDestroy, ViewChild } from '@angular/core';\nimport { HeaderService } from '../header.service';\n\n@Component({\n  selector: 'c8y-title',\n  templateUrl: './title.component.html'\n})\nexport class TitleComponent implements AfterViewInit, OnDestroy {\n  @ViewChild('template', {static: true}) template;\n  private viewInitTimeout;\n\n  constructor(\n    private headerService: HeaderService\n  ) {}\n\n  ngAfterViewInit() {\n    this.viewInitTimeout = setTimeout(() =>\n      this.headerService.changeTitle(this.template)\n    );\n  }\n\n  ngOnDestroy() {\n    if (this.headerService.state.title === this.template) {\n      clearTimeout(this.viewInitTimeout);\n      this.headerService.changeTitle();\n    }\n  }\n}\n","import { Component, TemplateRef, ViewChild, Input} from '@angular/core';\nimport { NavigatorNode } from './navigator-node';\nimport { NavigatorService } from './navigator.service';\n\n@Component({\n  selector: 'c8y-navigator-item',\n  template: '<ng-template #iconTpl><ng-content></ng-content></ng-template>',\n})\nexport class NavigatorItemComponent  {\n  @ViewChild('iconTpl', {static: true}) template: TemplateRef<any>;\n  @Input() label: string;\n  @Input() icon: string;\n  @Input() path: string;\n  @Input() priority = 0;\n  nodeData: NavigatorNode;\n  constructor(\n    private service: NavigatorService\n  ) {\n    this.nodeData = new NavigatorNode();\n  }\n\n  ngOnInit(): void {\n    this.ngOnChanges();\n    setTimeout(() => this.service.add(this.nodeData));\n  }\n\n  ngOnChanges(): void {\n    this.nodeData.icon = this.icon;\n    this.nodeData.label = this.label;\n    this.nodeData.path = this.path;\n    this.nodeData.priority = this.priority;\n    this.nodeData.iconTemplate = !this.icon ? this.template : undefined;\n    this.nodeData.icon = this.icon;\n  }\n\n  ngOnDestroy(): void {\n    this.service.remove(this.nodeData);\n  }\n}\n","import { Component, Input } from '@angular/core';\nimport { NavigatorNode } from './navigator-node';\n\n@Component({\n  selector: 'c8y-navigator-icon',\n  template: `<i class=\"icon\" [c8yIcon]=\"icon\"></i>`\n})\nexport class NavigatorIconComponent {\n  @Input() node: NavigatorNode;\n  get icon() {\n    const DEFAULT_ICON = 'cog';\n    return this.node.icon || DEFAULT_ICON;\n  }\n\n  get iconClass() {\n    return `fa-${this.icon}`;\n  }\n}\n","// tslint:disable-next-line:max-line-length\nimport { Component, ComponentFactoryResolver, Input, QueryList, ViewChild, ViewChildren, ViewContainerRef, Output, EventEmitter, OnDestroy, HostListener } from '@angular/core';\nimport { RouterLinkActive, Router } from '@angular/router';\nimport { NavigatorIconComponent } from './navigator-icon.component';\nimport { NavigatorNode, ClickOptions } from './navigator-node';\nimport { NavigatorService } from './navigator.service';\nimport { PopoverConfirmComponent } from '../modal/popover-confirm.component';\n\n@Component({\n  selector: 'c8y-navigator-node-display',\n  templateUrl: './navigator-node.component.html'\n})\nexport class NavigatorNodeComponent implements OnDestroy {\n  @ViewChild('icon', { read: ViewContainerRef, static: false }) iconSlot: ViewContainerRef;\n  @Input() node: NavigatorNode;\n  @Input() isRoot: boolean;\n  @ViewChild(RouterLinkActive, {static: false}) routerLinkActive: RouterLinkActive;\n  @ViewChildren(NavigatorNodeComponent) childrenNodes: QueryList<NavigatorNodeComponent>;\n  @Output() nodeClick: EventEmitter<string> = new EventEmitter();\n  @ViewChild(PopoverConfirmComponent, {static: false}) confirm: PopoverConfirmComponent;\n\n  parentNode: NavigatorNodeComponent;\n\n  private viewInitTimeout;\n\n  constructor(\n    private componentFactoryResolver: ComponentFactoryResolver,\n    private navigator: NavigatorService\n  ) {}\n\n  ngAfterViewInit() {\n    this.childrenNodes.forEach((n) => n.parentNode = this);\n    this.viewInitTimeout = setTimeout(() => {\n      this.updateIcon();\n      this.openOnFirstUrl();\n      this.expandParentIfActive();\n      this.node.confirm = this.confirm;\n    });\n  }\n\n  openOnFirstUrl() {\n    if (this.navigator.openOnFirstUrl(this.node) && !this.node.open) {\n      this.expandCollapse(true);\n    }\n  }\n\n  get expandTitle() {\n    return !this.node.open ? 'Expand' : 'Collapse';\n  }\n\n  click(from: 'icon' | 'expander' | 'link' = 'link', $event?) {\n    let open;\n    if (from === 'expander') {\n      if ($event) {\n        $event.stopPropagation();\n        $event.preventDefault();\n      }\n      open = !this.node.open;\n    } else {\n      open = this.routerLinkActive && this.routerLinkActive.isActive ? true : !this.node.open;\n    }\n    if (open !== this.node.open) {\n      this.expandCollapse(open, false, { [from]: true, $event });\n    }\n    this.nodeClick.emit(from);\n  }\n\n  expandCollapse(open, recursive?, forNode: ClickOptions = {}) {\n    this.node.open = open;\n    // Also close children\n    if (recursive) {\n      this.childrenNodes.forEach((n) => n.expandCollapse(open, recursive));\n    }\n    forNode.open = open;\n    this.node.click(forNode);\n  }\n\n  ngOnDestroy(): void {\n    clearTimeout(this.viewInitTimeout);\n    this.node.destroy();\n  }\n\n  private expandParentIfActive() {\n    if (this.routerLinkActive && this.routerLinkActive.isActive && this.parentNode) {\n      this.parentNode.expandCollapse(true);\n    }\n  }\n\n  private updateIcon() {\n    if (this.node.iconTemplate) {\n      this.updateIconTemplate();\n    } else {\n      this.updateIconComponent();\n    }\n  }\n\n  private updateIconComponent() {\n    let componentType = NavigatorIconComponent;\n    if (this.node && this.node.iconComponent) {\n      componentType = this.node.iconComponent;\n    }\n    this.iconSlot.clear();\n    const iconComponentFactory = this.componentFactoryResolver.resolveComponentFactory(componentType);\n    const componentRef = this.iconSlot.createComponent(iconComponentFactory);\n    componentRef.instance.node = this.node;\n  }\n\n  private updateIconTemplate() {\n    this.iconSlot.clear();\n    this.iconSlot.createEmbeddedView(this.node.iconTemplate);\n  }\n}\n","import { Component, Input, SimpleChanges } from '@angular/core';\nimport { NavigatorNode } from './navigator-node';\nimport { HeaderService } from '../header/public-api';\n\n@Component({\n  selector: 'c8y-navigator-outlet, c8y-ui-navigator',\n  templateUrl: './navigator-outlet.template.html',\n})\nexport class NavigatorOutletComponent {\n  @Input() nodes: NavigatorNode[];\n  @Input() open = true;\n\n  constructor(private headerService: HeaderService) {}\n\n  /**\n   * Closes the navigator on click if the window is small.\n   */\n  collapseNavigator(from: 'icon' | 'expander' | 'link') {\n    if (from === 'link' && !this.headerService.largeWidth) {\n      this.headerService.closeNavigator();\n    }\n  }\n\n  trackByPathOrLabel(index, node) {\n    return node.path ? node.path : node.label;\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { RouterModule } from '@angular/router';\nimport { CollapseModule } from 'ngx-bootstrap/collapse';\nimport { CommonModule } from '../common/common.module';\nimport { NavigatorItemComponent } from './navigator-entry.component';\nimport { NavigatorIconComponent } from './navigator-icon.component';\nimport { NavigatorNodeComponent } from './navigator-node.component';\nimport { NavigatorOutletComponent } from './navigator-outlet.component';\nimport { NavigatorService } from './navigator.service';\nimport { ModalModule } from '../modal/modal.module';\n\n/**\n * The angular module definition for the navigator.\n * @exports NavigatorOutletComponent\n * @exports NavigatorItemComponent\n */\n@NgModule({\n  declarations: [\n    NavigatorOutletComponent,\n    NavigatorNodeComponent,\n    NavigatorItemComponent,\n    NavigatorIconComponent\n  ],\n  imports: [\n    RouterModule,\n    CollapseModule.forRoot(),\n    CommonModule,\n    ModalModule\n  ],\n  exports: [\n    NavigatorOutletComponent,\n    NavigatorItemComponent\n  ],\n  entryComponents: [\n    NavigatorIconComponent\n  ]\n})\nexport class NavigatorModule { }\n","import { Component, Input } from '@angular/core';\n\n@Component({\n  selector: 'c8y-right-drawer',\n  templateUrl: './right-drawer.component.html'\n})\nexport class RightDrawerComponent {\n  @Input('quickLinks') set _quickLinks(data: any[]) {\n    if (data) {\n      this.quickLinks = data.filter(d => d.type === 'quicklink');\n    }\n  }\n  @Input('helpAndSupport') set _helpAndSupport(data: any[]) {\n    if (data) {\n      this.helpAndSupport = data.filter(d => d.type === 'doc');\n    }\n  }\n  @Input() app: any;\n  quickLinks: any[] = [];\n  helpAndSupport: any[] = [];\n}\n","import { NgModule } from '@angular/core';\nimport { BsDropdownModule } from 'ngx-bootstrap/dropdown';\nimport { ActionModule } from '../action/action.module';\nimport { BreadcrumbModule } from '../breadcrumb/breadcrumb.module';\nimport { CommonModule } from '../common/common.module';\nimport { SearchModule } from '../search/search.module';\nimport { UserModule } from '../user/user.module';\nimport { AppIconComponent } from './application/app-icon.component';\nimport { AppSwitcherComponent } from './application/app-switcher.component';\nimport { HeaderBarComponent } from './header-bar/header-bar.component';\nimport { HeaderService } from './header.service';\nimport { TitleOutletComponent } from './title/title-outlet.component';\nimport { TitleComponent } from './title/title.component';\nimport { NavigatorModule } from '../navigator/navigator.module';\nimport { RightDrawerComponent } from './right-drawer/right-drawer.component';\n\n/**\n * The angular module definition for the header of the application.\n * @exports HeaderBarComponent\n * @exports TitleComponent\n * @exports TitleOutletComponent\n * @exports AppIconComponent\n * @exports AppSwitcherComponent\n */\n@NgModule({\n  declarations: [\n    TitleComponent,\n    HeaderBarComponent,\n    TitleOutletComponent,\n    AppIconComponent,\n    AppSwitcherComponent,\n    RightDrawerComponent\n  ],\n  imports: [\n    BsDropdownModule,\n    UserModule,\n    SearchModule,\n    CommonModule,\n    ActionModule,\n    BreadcrumbModule,\n    NavigatorModule\n  ],\n  exports: [\n    HeaderBarComponent,\n    TitleComponent,\n    TitleOutletComponent,\n    AppIconComponent,\n    AppSwitcherComponent,\n    RightDrawerComponent\n  ]\n})\nexport class HeaderModule {}\n","import { Component, OnInit, Output, Input, EventEmitter } from '@angular/core';\nimport { LoginService } from './login.service';\nimport { PasswordService } from '../authentication/password.service';\nimport { IResetPassword, ICredentials, UserService } from '@c8y/client';\nimport { OptionsService } from '../common/public-api';\nimport { AlertService } from '../alert/public-api';\nimport { LoginViews } from './login.model';\n\n@Component({\n  selector: 'c8y-change-password',\n  templateUrl: './change-password.component.html',\n  styles: []\n})\nexport class ChangePasswordComponent implements OnInit {\n  @Input() credentials: ICredentials;\n  @Output() onChangeView = new EventEmitter();\n\n  passwordPattern = /^[a-zA-Z0-9`~!@#$%^&*()_|+\\-=?;:'\",.<>{}[\\]\\\\/]{8,32}$/;\n  isLoading = false;\n  model = {\n    tenantId: '',\n    email: '',\n    newPassword: '',\n    newPasswordConfirm: ''\n  };\n  enforcePasswordStrength = false;\n  emailReadOnly = false;\n\n  private TOKEN_PARAM = 'token';\n  private EMAIL_PARAM = 'email';\n\n  constructor(\n    public loginService: LoginService,\n    private users: UserService,\n    private passwordStrengthCheckerService: PasswordService,\n    private options: OptionsService,\n    private alert: AlertService\n  ) { }\n\n  async ngOnInit() {\n    this.model.tenantId = this.loginService.getTenant();\n    this.model.email = this.options.get(this.EMAIL_PARAM, '');\n    this.emailReadOnly = !!this.model.email;\n    this.enforcePasswordStrength = this.loginService.getEnforcePasswordStrength();\n  }\n\n  async changePassword() {\n    const passwordStrengthColor: any = this.passwordStrengthCheckerService.getStrengthColor(\n      this.model.newPassword\n    );\n    const resetPassword: IResetPassword = {\n      token: this.credentials.token,\n      email: this.model.email,\n      newPassword: this.model.newPassword,\n      passwordStrength: passwordStrengthColor.passwordStrength\n    };\n    try {\n      this.isLoading = true;\n      const { res } = await this.users.resetPassword(resetPassword, this.model.tenantId);\n      if (res.status === 200) {\n        this.loginService.addSuccessMessage('password_changed');\n        this.credentials.token = undefined;\n        this.options.set(this.TOKEN_PARAM, undefined);\n        this.onChangeView.emit({ view: LoginViews.Credentials });\n      }\n    } catch (e) {\n      this.alert.addServerFailure(e);\n    } finally {\n      this.loginService.reset();\n      this.isLoading = false;\n    }\n  }\n}\n","import { Component, OnInit, Output, EventEmitter } from '@angular/core';\nimport { LoginService } from './login.service';\nimport { ICredentials } from '@c8y/client';\nimport { AlertService } from '../alert/alert.service';\nimport { AppStateService } from '../common/ui-state.service';\nimport { gettext } from '../i18n/gettext';\nimport { LoginViews } from './login.model';\n\n@Component({\n  selector: 'c8y-credentials',\n  templateUrl: './credentials.component.html',\n  styles: []\n})\nexport class CredentialsComponent implements OnInit {\n  @Output() onChangeView = new EventEmitter();\n\n  LOGIN_VIEWS = LoginViews;\n  model: ICredentials = {};\n  isLoading: boolean = false;\n  showLoginForm: boolean = false;\n  showBasicAuth: boolean = false;\n  oauthOptions: any = {};\n\n  private readonly PASSWORD_RESET_HEADER_NAME = 'passwordresettoken';\n  private readonly NO_PHONE_HEADER_NAME = 'NoPhoneHeader';\n\n  constructor(\n    public loginService: LoginService,\n    public alert: AlertService,\n    public ui: AppStateService\n  ) {}\n\n  ngOnInit() {\n    const { oauthOptions, loginMode } = this.loginService;\n    this.model.tenant = this.loginService.getTenant();\n    this.showLoginForm =\n      typeof loginMode.visibleOnLoginPage === 'undefined' || loginMode.visibleOnLoginPage;\n    this.showBasicAuth = loginMode.type === 'BASIC';\n    this.oauthOptions = oauthOptions;\n  }\n\n  redirectToOauth() {\n    this.loginService.redirectToOauth();\n  }\n\n  /**\n   * Allows to login into the application using basic auth.\n   * If successful logged in the client is set in shared/cumulocity.service.ts\n   */\n  async login() {\n    try {\n      this.isLoading = true;\n      const basicAuth = this.loginService.useBasicAuth(this.model);\n      await this.loginService.login(basicAuth, this.model);\n    } catch (e) {\n      if (e.res && e.res.headers && e.res.headers.get(this.PASSWORD_RESET_HEADER_NAME)) {\n        this.handlePasswordReset(e.res);\n      } else if (e.res && e.res.status === 401 && /pin/i.test(e.data.message)) {\n        this.handleSmsChallenge(e.data.message);\n      } else if (e.res && e.res.status === 401 && /TOTP/i.test(e.data.message)) {\n        this.handleTotpChallenge(e.data.message);\n      } else if (\n        e.res &&\n        e.res.headers &&\n        e.res.headers.get(this.NO_PHONE_HEADER_NAME) &&\n        !this.loginService.isSupportUser(this.model)\n        ) {\n          this.handleNoPhoneNumberProvided();\n      } else {\n        this.loginService.reset();\n        this.alert.addServerFailure(e);\n      }\n    } finally {\n      this.isLoading = false;\n    }\n  }\n\n  private handlePasswordReset(e: any) {\n    this.alert.removeLastDanger();\n    this.model.token = e.headers.get(this.PASSWORD_RESET_HEADER_NAME);\n    this.onChangeView.emit({ view: LoginViews.ChangePassword, credentials: this.model });\n  }\n\n  private handleTotpChallenge(message) {\n    if (/TOTP setup required/i.test(message)) {\n      this.onChangeView.emit({ view: LoginViews.TotpSetup, credentials: this.model });\n    } else {\n      this.onChangeView.emit({ view: LoginViews.TotpChallenge, credentials: this.model });\n    }\n  }\n\n  private handleSmsChallenge(message: string) {\n    if (/pin has already been generated/i.test(message)) {\n      this.alert.warning(\n        gettext(\n          'The verification code was already sent. For a new verification code, please click on the link above.'\n        )\n      );\n    }\n    this.alert.removeLastDanger();\n    this.onChangeView.emit({ view: LoginViews.SmsChallenge, credentials: this.model });\n  }\n\n  private handleNoPhoneNumberProvided() {\n    this.onChangeView.emit({ view: LoginViews.ProvidePhoneNumber, credentials: this.model });\n    this.alert.warning(\n      gettext(\n        'Two-factor authentication has been turned on for this account. Provide your phone number above to save it in your user profile and start receiving verification codes via SMS.'\n      )\n    );\n  }\n}\n","import { Component, Input, OnInit, HostBinding, HostListener, ViewChild } from '@angular/core';\nimport { ICredentials } from '@c8y/client';\nimport { LoginService } from './login.service';\nimport { OptionsService } from '../common/options.service';\nimport { LoginViews } from './login.model';\nimport { AlertService } from '../alert/alert.service';\nimport { gettext } from '../i18n/gettext';\n\n@Component({\n  selector: 'c8y-login',\n  templateUrl: './login.component.html',\n  styles: []\n})\nexport class LoginComponent implements OnInit {\n  currentView: LoginViews = LoginViews.None;\n  LOGIN_VIEWS = LoginViews;\n\n  disabled = false;\n\n  @Input() name: string;\n\n  credentials: ICredentials = {};\n  displayAlerts: boolean = false;\n  private TOKEN_PARAM = 'token';\n\n  /**\n   * Just DI.\n   */\n  constructor(\n    public loginService: LoginService,\n    private options: OptionsService,\n    private alert: AlertService\n  ) {}\n\n  ngOnInit() {\n    const token = this.getResetPasswordToken();\n    if (this.loginService.isFirstLogin) {\n      if (!token) {\n        this.loginAutomatically();\n      } else {\n        this.credentials.token = token;\n        this.reset();\n      }\n    }\n    this.loginService.isFirstLogin = false;\n  }\n\n  handleLoginTemplate(event) {\n    this.currentView = event.view;\n    this.credentials = event.credentials || {};\n  }\n\n  @HostListener('keyup', ['$event']) onkeyup(event: KeyboardEvent) {\n    if (event.key !== 'Enter') {\n      this.loginService.cleanMessages();\n    }\n  }\n\n  reset() {\n    this.loginService.reset();\n    this.setView();\n    this.loginService.cleanMessages();\n  }\n\n  private async loginAutomatically() {\n    try {\n      await this.loginService.login();\n    } catch (e) {\n      const loginMode = this.loginService.loginMode.type;\n      if (loginMode === 'OAUTH2') {\n        this.loginService.redirectToOauth();\n      } else {\n        this.reset();\n        if (loginMode === 'OAUTH2_INTERNAL' && window.location.protocol !== 'https:') {\n          this.alert.danger(gettext('Current login mode only supports HTTPS.'));\n        } else if (e.res && e.res.status === 403) {\n          this.alert.addServerFailure(e);\n        }\n      }\n    }\n  }\n\n  private setView() {\n    if (this.credentials && this.credentials.token) {\n      this.handleLoginTemplate({ view: LoginViews.ChangePassword, credentials: this.credentials });\n    } else {\n      this.handleLoginTemplate({ view: LoginViews.Credentials });\n    }\n  }\n\n  private getResetPasswordToken() {\n    const token = this.options.get(this.TOKEN_PARAM);\n    if (token) {\n      this.options.set(this.TOKEN_PARAM, undefined); // only use once\n    }\n    return token;\n  }\n}\n","import { Component, OnInit, Output, EventEmitter } from '@angular/core';\nimport { UserService } from '@c8y/client';\nimport { LoginService } from './login.service';\nimport { LoginViews } from './login.model';\n\n@Component({\n  selector: 'c8y-recover-password',\n  templateUrl: './recover-password.component.html',\n  styles: []\n})\n\nexport class RecoverPasswordComponent implements OnInit {\n\n  @Output() onChangeView = new EventEmitter();\n  LOGIN_VIEWS = LoginViews;\n  isLoading = false;\n  model = {\n    email: '',\n    tenantId: ''\n  };\n\n  constructor(\n    private users: UserService,\n    public loginService: LoginService) {\n  }\n\n  ngOnInit() {\n    this.model.tenantId = this.loginService.getTenant();\n  }\n\n  async resetPassword() {\n    try {\n      this.isLoading = true;\n      const { res } = await this.users.sendPasswordResetMail(this.model.email, this.model.tenantId);\n      if (res.status === 200) {\n        this.loginService.addSuccessMessage('password_reset_requested');\n      }\n    } finally {\n      this.loginService.reset();\n      this.isLoading = false;\n    }\n  }\n\n}\n","import { Component, OnInit, Output, EventEmitter, Input } from '@angular/core';\nimport { ICredentials, UserService } from '@c8y/client';\nimport { AlertService } from '../alert/alert.service';\nimport { LoginService } from './login.service';\nimport { LoginViews } from './login.model';\nimport { gettext } from '../i18n/gettext';\n\n@Component({\n  selector: 'c8y-totp-auth',\n  templateUrl: './totp-auth.component.html'\n})\nexport class TotpAuthComponent implements OnInit {\n  @Input() credentials: ICredentials;\n  @Input() view: LoginViews;\n  @Output() onCancel = new EventEmitter();\n  LOGIN_VIEWS = LoginViews;\n  loading = false;\n  hasError = false;\n\n  get isSetup() {\n    return this.view === LoginViews.TotpSetup;\n  }\n\n  constructor(\n    public loginService: LoginService,\n    private userService: UserService,\n    private alert: AlertService\n  ) {}\n\n  /**\n   * In case of a setup we need the user to be authorized\n   * first.\n   */\n  async ngOnInit() {\n    if (this.view === this.LOGIN_VIEWS.TotpSetup) {\n      await this.loginService.switchLoginMode(this.credentials);\n    }\n  }\n\n  async onTotpSuccess(code) {\n    try {\n      this.loading = true;\n      this.hasError = false;\n      this.credentials.tfa = code;\n      if (this.isSetup) {\n        await this.userService.activateTotp();\n      }\n      await this.loginService.switchLoginMode(this.credentials);\n      await this.loginService.verifyAppAccess();\n      await this.loginService.authFulfilled();\n    } catch (e) {\n      this.alert.removeLastDanger();\n      if (e.data && e.data.message === 'Access is denied') {\n        this.alert.addServerFailure(e);\n      }\n      if (e.data && e.data.message === 'Authentication failed! : User account is locked') {\n        this.alert.addServerFailure(e);\n      } else {\n        this.hasError = true;\n      }\n    } finally {\n      this.loading = false;\n    }\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { FormsModule as C8yFormsModule } from '../forms/public-api';\nimport { TooltipModule } from 'ngx-bootstrap/tooltip';\nimport { CommonModule } from '../common/common.module';\nimport { ChangePasswordComponent } from './change-password.component';\nimport { CredentialsComponent } from './credentials.component';\nimport { LoginComponent } from './login.component';\nimport { LoginService } from './login.service';\nimport { RecoverPasswordComponent } from './recover-password.component';\nimport { AuthenticationModule } from '../authentication/authentication.module';\nimport { AlertModule } from '../alert/alert.module';\nimport { TotpAuthComponent } from './totp-auth.component';\n\n/**\n * The angular module definition for the login.\n * @exports LoginComponent\n */\n@NgModule({\n  declarations: [\n    LoginComponent,\n    RecoverPasswordComponent,\n    ChangePasswordComponent,\n    CredentialsComponent,\n    TotpAuthComponent\n  ],\n  imports: [\n    FormsModule,\n    TooltipModule,\n    CommonModule,\n    AuthenticationModule,\n    AlertModule,\n    C8yFormsModule\n  ],\n  exports: [LoginComponent]\n})\nexport class LoginModule {\n  static forRoot() {\n    return {\n      ngModule: LoginModule,\n      providers: LoginModule.providers()\n    };\n  }\n  static providers() {\n    return [LoginService];\n  }\n}\n","import {\n  Component,\n  ViewChild,\n  Input,\n  ViewContainerRef,\n  AfterContentInit,\n  OnDestroy\n} from '@angular/core';\nimport { TabsService } from './tabs.service';\nimport { Tab } from './tab.model';\n\n@Component({\n  selector: 'c8y-tab',\n  template: '<ng-template #tpl><ng-content></ng-content></ng-template>'\n})\nexport class TabComponent implements AfterContentInit, OnDestroy, Tab {\n  @ViewChild('tpl', { static: false }) template: ViewContainerRef;\n  @Input() path: string;\n  @Input() label: string = '';\n  @Input() icon: string;\n  @Input() priority: number;\n  @Input() orientation: 'horizontal' | 'vertical';\n  constructor(private tabs: TabsService) {}\n\n  ngAfterContentInit() {\n    setTimeout(() => this.tabs.add(this as Tab));\n  }\n\n  ngOnDestroy() {\n    this.tabs.remove(this as Tab);\n  }\n}\n","import {\n  Component,\n  Input,\n  HostBinding,\n  Renderer2,\n  ElementRef,\n  OnChanges,\n  ViewChild,\n  OnDestroy,\n  AfterContentInit,\n  AfterContentChecked} from '@angular/core';\nimport { debounceTime } from 'rxjs/operators';\nimport { fromEventPattern, fromEvent, merge, Subscription } from 'rxjs';\nimport { Router } from '@angular/router';\nimport { Tab } from './tab.model';\n\n@Component({\n  selector: 'c8y-tabs-outlet,c8y-ui-tabs',\n  templateUrl: './tabs-outlet.component.html',\n})\nexport class TabsOutletComponent implements OnDestroy, AfterContentInit {\n  @Input() tabs: any[] = [];\n  @Input() orientation: 'vertical' | 'horizontal' = 'vertical';\n  @Input() navigatorOpen = false;\n  showLeft: boolean = false;\n  showRight: boolean = false;\n  @HostBinding('class.navigator-open') get isNavigatorOpen() {\n    return this.navigatorOpen;\n  }\n  @HostBinding('class.page-tabs') get hasTabs() {\n    return this.tabs && this.tabs.length;\n  }\n  @HostBinding('class.page-tabs-horizontal') get isHorizontal() {\n    return this.orientation === 'horizontal';\n  }\n  @HostBinding('class.page-tabs-vertical') get isVertical() {\n    return this.orientation !== 'horizontal';\n  }\n  @ViewChild('container', {read: ElementRef, static: true}) private container: ElementRef;\n  @ViewChild('left', {read: ElementRef, static: false}) private leftBtn: ElementRef;\n  @ViewChild('right', {read: ElementRef, static: false}) private rightBtn: ElementRef;\n  @ViewChild('tabsContainer', {read: ElementRef, static: false}) private tabsContainer: ElementRef;\n  private scrollSubscription: Subscription;\n\n  constructor(\n    private router: Router,\n    private renderer: Renderer2,\n    private el: ElementRef\n  ) {}\n\n  ngOnDestroy() {\n    if (this.scrollSubscription) {\n      this.scrollSubscription.unsubscribe();\n    }\n  }\n\n  ngAfterContentInit() {\n    if (this.orientation === 'horizontal') {\n      this.scrollSubscribe();\n    }\n\n  }\n\n  isActive(tab: Tab) {\n    if (tab && tab.path) {\n      return this.router.isActive(tab.path, false);\n    } else {\n      return false;\n    }\n  }\n\n  navigateTo(path) {\n    this.router.navigate([path]);\n  }\n\n  scroll(direction: 'right' | 'left' = 'right') {\n    const { widthScroll, width, scrollLeft } = this.getDimensions();\n    const multiplier = direction === 'left' ? -1 : 1;\n\n    let targetScroll = scrollLeft + width * multiplier;\n    if (targetScroll < 0) {\n      targetScroll = 0;\n    }\n    if (targetScroll > widthScroll - width) {\n      targetScroll = widthScroll - width;\n    }\n    // TODO: we should animate this\n    this.container.nativeElement.scrollLeft = targetScroll;\n  }\n\n  private scrollSubscribe() {\n    let unlisten;\n    this.scrollSubscription = merge(\n      fromEvent(this.container.nativeElement, 'scroll'),\n      fromEventPattern(\n        (handler: any) => {\n          unlisten = this.renderer.listen('window', 'resize', handler);\n        },\n        () => unlisten()\n      )\n    ).pipe(\n      debounceTime(250)\n    ).subscribe(() => this.updateScroll());\n  }\n\n  private updateScroll() {\n    const { widthScroll, width, scrollLeft } = this.getDimensions();\n    this.showLeft = !!scrollLeft;\n    this.showRight = widthScroll > width + scrollLeft;\n  }\n\n  private getDimensions() {\n    const elTabs = this.tabsContainer.nativeElement;\n    const el = this.container.nativeElement;\n    const widthScroll =   elTabs.scrollWidth;\n    const width = el.clientWidth;\n    const scrollLeft = el.scrollLeft;\n    return { widthScroll, width, scrollLeft };\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { RouterModule } from '@angular/router';\nimport { CommonModule } from '../common/common.module';\nimport { TabComponent } from './tab.component';\nimport { TabsOutletComponent } from './tabs-outlet.component';\nimport { TabsService } from './tabs.service';\n\n@NgModule({\n  declarations: [\n    TabsOutletComponent,\n    TabComponent\n  ],\n  imports: [\n    CommonModule,\n    RouterModule.forChild([])\n  ],\n  exports: [\n    TabsOutletComponent,\n    TabComponent\n  ]\n})\nexport class TabsModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { OptionsService } from '../../common/options.service';\n\n@Component({\n  selector: 'c8y-cookie-banner',\n  templateUrl: './cookie-banner.template.html'\n})\nexport class CookieBannerComponent implements OnInit {\n  readonly storageKey: string = 'acceptCookieNotice';\n  readonly acceptValue: string = '1';\n  showBanner: boolean;\n  settings: { cookieBannerTitle?: string; cookieBannerText: string; policyUrl?: string };\n\n  constructor(private options: OptionsService) {}\n\n  ngOnInit() {\n    this.settings = this.options.get('cookieBanner');\n    if (this.settings && this.settings.cookieBannerText && !localStorage.getItem(this.storageKey)) {\n      this.showBanner = true;\n    }\n  }\n\n  acceptCookies() {\n    localStorage.setItem(this.storageKey, this.acceptValue);\n    this.showBanner = false;\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { RouterModule } from '@angular/router';\nimport { ActionBarModule } from '../action-bar/action-bar.module';\nimport { AlertModule } from '../alert/alert.module';\nimport { HeaderModule } from '../header/header.module';\nimport { LoginModule } from '../login/login.module';\nimport { NavigatorModule } from '../navigator/navigator.module';\nimport { TabsModule } from '../tabs/tabs.module';\nimport { BootstrapComponent } from './bootstrap.component';\nimport { CommonModule } from '../common/common.module';\nimport { TooltipModule } from 'ngx-bootstrap/tooltip';\nimport { CookieBannerComponent } from './cookie-banner/cookie-banner.component';\n\n/**\n * The module which allows to bootstrap a custom application.\n * Use it as `bootstrap: []` component in your main app module\n * or as `<c8y-bootstrap>` in your main app.\n */\n@NgModule({\n  declarations: [\n    BootstrapComponent,\n    CookieBannerComponent\n  ],\n  imports: [\n    CommonModule,\n    HeaderModule,\n    LoginModule,\n    RouterModule,\n    TabsModule,\n    ActionBarModule,\n    AlertModule,\n    NavigatorModule,\n    TooltipModule\n  ],\n  exports: [\n    BootstrapComponent\n  ],\n  entryComponents: [\n    BootstrapComponent\n  ]\n})\nexport class BootstrapModule {}\n","import { Component, InjectionToken, Type } from '@angular/core';\nimport { Observable } from 'rxjs';\n\n/**\n * A hook to add dynamic components to the UI (e.g. widgets).\n */\nexport const HOOK_COMPONENTS = new InjectionToken('Hook Dynamic Component');\n\n/**\n * A hook to add dynamic components to the UI (e.g. widgets).\n * @deprecated: Use HOOK_COMPONENTS\n */\nexport const HOOK_COMPONENT = new InjectionToken('Hook Dynamic Component @deprecated');\n\n/**\n * A dynamic component can be defined in a the HOOK_COMPONENTS to display any kind\n * of component dynamically just by referencing it's id. The most common use case is on dashboards,\n * where the `configComponent` is used to define what is displayed on the `component`\n * on the dashboard.\n *\n * To use the component you can use the c8y-dynamic-component.\n *\n * ```\n *   <c8y-dynamic-component\n *     componentId=\"angular.widget.demo\"\n *     [config]=\"{ text: 'Hello world' }\"\n *     [mode]=\"editComponent ? 'config' : 'component'\"\n *   ></c8y-dynamic-component>\n *   ```\n */\nexport interface DynamicComponentDefinition {\n  /**\n   * Unique serializable id\n   */\n  id: string;\n  /**\n   * The component which is used when the component should be displayed (e.g. on a dashboard)\n   */\n  component: Type<Component>;\n  /**\n   * The configuration component used when a widget is added or edited.\n   */\n  configComponent?: Type<Component>;\n  /**\n   * The label shown for this dynamic component on add widgets\n   */\n  label: string;\n  /**\n   * The description shown on add widget\n   */\n  description: string;\n  /**\n   * Add any random data, specially to angular.js dashboards.\n   * Should be searilzabled to allow to save it to the API.\n   */\n  data?: any;\n  /**\n   * An url to an preview image.\n   */\n  previewImage?: string;\n}\n\n/**\n * Use this interface on any component to define the interchange between\n * config and display component.\n */\nexport interface DynamicComponent {\n  /**\n   * The configuration which is shared between configuration component and display component.\n   * Should be searilzabled to allow to save it to the API.\n   */\n  config: any;\n  /**\n   * A reference to the ng1Form on angularjs dashboards to disable/enable the save button.\n   * @deprecated: Will not work on Angular-Dashboards (1.6.1.0). Use `ContextServiceDashboard.formDisabled` instead.\n   */\n  ng1FormRef?: any;\n}\n\n/**\n * An lifecycle hook which is called before an configuration is saved.\n */\nexport interface OnBeforeSave {\n  /**\n   * Called before a configuration object is saved. The function can be used to manipulate the\n   * passed config object or to cancel the saving (return false or Observable<boolean>).\n   */\n  onBeforeSave(config?: any): boolean | Promise<boolean> | Observable<boolean>;\n}\n","import { Injectable, Injector } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { BehaviorSubject, Observable, of, Subject } from 'rxjs';\nimport { filter, mergeMap, take } from 'rxjs/operators';\nimport { ExtensionPoint, fromFactories } from '../common/extension-hooks';\nimport { StateService } from '../common/state-service.abstract';\nimport {\n  DynamicComponentDefinition,\n  HOOK_COMPONENT,\n  HOOK_COMPONENTS\n} from './dynamic-component.model';\n\ndeclare const __MODE__: string;\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class DynamicComponentService extends StateService\n  implements ExtensionPoint<DynamicComponentDefinition> {\n  items$: Observable<DynamicComponentDefinition[]>;\n  readonly refreshTrigger = new Subject();\n  readonly state$ = new BehaviorSubject<Set<DynamicComponentDefinition>>(\n    new Set<DynamicComponentDefinition>()\n  );\n\n  constructor(private injector: Injector, router: Router) {\n    super();\n\n    this.items$ = fromFactories(\n      [() => this.injector.get(HOOK_COMPONENTS, []), () => this.getComponentsViaDeprecatedHook()],\n      router,\n      false\n    );\n    this.items$.subscribe(cmps => {\n      cmps.forEach(cmp => {\n        this.state.add(cmp);\n      });\n      this.emitNewState();\n    });\n  }\n\n  getComponentsViaDeprecatedHook() {\n    const componentsViaDeprecatedHook: DynamicComponentDefinition[] = this.injector.get(\n      HOOK_COMPONENT,\n      []\n    ) as DynamicComponentDefinition[];\n    if (\n      componentsViaDeprecatedHook &&\n      componentsViaDeprecatedHook.length &&\n      __MODE__ !== 'production'\n    ) {\n      console.warn('HOOK_COMPONENT is now deprecated. Use HOOK_COMPONENTS instead.');\n    }\n\n    return componentsViaDeprecatedHook;\n  }\n\n  refresh() {\n    this.refreshTrigger.next(1);\n  }\n\n  get state() {\n    return this.state$.value;\n  }\n\n  /**\n   * Returns a component by it's id as an observable.\n   * @param id The id of the component.\n   */\n  getById$(id) {\n    return this.state$.pipe(\n      filter((cmps: Set<DynamicComponentDefinition>) => cmps.size > 0),\n      mergeMap((cmps: Set<DynamicComponentDefinition>) =>\n        of(Array.from(cmps).find(cmp => cmp.id === id))\n      ),\n      take(1)\n    );\n  }\n\n  add(component: DynamicComponentDefinition) {\n    this.state.add(component);\n    this.emitNewState();\n  }\n\n  remove(component: DynamicComponentDefinition) {\n    this.state.delete(component);\n    this.emitNewState();\n  }\n}\n","import {\n  Component,\n  Input,\n  ViewChild,\n  ComponentFactoryResolver,\n  ViewContainerRef,\n  ComponentRef\n} from '@angular/core';\nimport {\n  DynamicComponent,\n  DynamicComponentDefinition,\n  OnBeforeSave\n} from './dynamic-component.model';\nimport { DynamicComponentService } from './dynamic-component.service';\nimport { of, isObservable, Observable } from 'rxjs';\nimport { isUndefined } from 'lodash-es';\n\n/**\n * C8y dynamic component.\n * ## Example:\n *\n * register component in HOOK in module:\n * ```typescript\n *  import { HOOK_COMPONENT } from '@c8y/ngx-components';\n *\n * @NgModule({\n *  ...,\n *  providers: [{\n *      provide: HOOK_COMPONENT,\n *      multi: true,\n *      useValue: [{\n *          id: 'test-component',\n *          label: 'My test component',\n *          description: 'this is test component',\n *          component: TestComponent\n *      }],\n *  ...\n *  }]\n *\n * ```\n * Showing dynamic component:\n * ```html\n * <c8y-dynamic-component [componentId]=\"'test-component'\" [config]=\"config\"></c8y-dynamic-component>\n * ```\n */\n@Component({\n  selector: 'c8y-dynamic-component',\n  templateUrl: './dynamic-component.component.html'\n})\nexport class DynamicComponentComponent {\n  /**\n   * The ID of the registered component. It needs to be a component that is hooked\n   * with the HOOK_COMPONENTS extension hook.\n   */\n  @Input() componentId: string;\n  /**\n   * The configuration to pass.\n   */\n  @Input() config: any;\n  /**\n   * DynamicComponents can have two modes, an edit (config) and an view (component) mode.\n   * By default it is shown in the component mode.\n   */\n  @Input() mode: 'config' | 'component' = 'component';\n  /**\n   * Disable this to hide the error that is shown if the component was not found.\n   */\n  @Input() notFoundError = true;\n  /**\n   * @ignore\n   */\n  @ViewChild('host', { read: ViewContainerRef, static: true }) host: ViewContainerRef;\n  /**\n   * @ignore\n   */\n  error: any;\n  /**\n   * @ignore\n   */\n  expandErrorDetails = false;\n  private componentRef: ComponentRef<Component>;\n\n  /**\n   * @ignore only DI\n   */\n  constructor(\n    private componentFactoryResolver: ComponentFactoryResolver,\n    private dynamicComponentService: DynamicComponentService\n  ) {}\n\n  /**\n   * Calls the dynamic component life cycle hook. Currently only\n   * supporting onBeforeSave, a hook which is called before a config component\n   * is saved.\n   */\n  callLifeCycleHooks() {\n    return this.callOnBeforeSaveHook();\n  }\n\n  /**\n   * @ignore\n   */\n  ngOnChanges(): void {\n    this.dynamicComponentService\n      .getById$(this.componentId)\n      .subscribe(cmp => this.loadComponent(cmp));\n  }\n\n  private loadComponent(dynamicComponent: DynamicComponentDefinition) {\n    try {\n      this.error = undefined;\n      const componentFactory = this.componentFactoryResolver.resolveComponentFactory(\n        this.mode === 'component' ? dynamicComponent.component : dynamicComponent.configComponent\n      );\n      this.host.clear();\n      this.componentRef = this.host.createComponent(componentFactory);\n      (this.componentRef.instance as DynamicComponent).config = this.config;\n    } catch (ex) {\n      this.error = ex;\n    }\n  }\n\n  private callOnBeforeSaveHook() {\n    if (!this.componentRef) {\n      return of(true);\n    }\n    const hook = (this.componentRef.instance as OnBeforeSave).onBeforeSave;\n    if (hook) {\n      const result = hook(this.config);\n      if (isUndefined(result)) {\n        return of(true);\n      }\n      return isObservable(result) ? result : (of(result) as Observable<boolean>);\n    }\n    return of(true);\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { RouterModule } from '@angular/router';\nimport { CollapseModule } from 'ngx-bootstrap/collapse';\nimport { DynamicComponentComponent } from './dynamic-component.component';\nimport { DynamicComponentService } from './dynamic-component.service';\nimport { I18nModule } from '../i18n/i18n.module';\n\n@NgModule({\n  declarations: [DynamicComponentComponent],\n  imports: [CommonModule, CollapseModule, RouterModule.forChild([]), I18nModule],\n  exports: [DynamicComponentComponent],\n  providers: [DynamicComponentService]\n})\nexport class DynamicComponentModule {}\n","import { Component, ViewChild } from '@angular/core';\n\n@Component({\n  selector: 'c8y-dashboard-child-action',\n  templateUrl: './dashboard-child-action.component.html'\n})\nexport class DashboardChildActionComponent {\n  @ViewChild('template', { static: false }) template: any;\n}\n","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'c8y-dashboard-child-title',\n  templateUrl: './dashboard-child-title.component.html'\n})\nexport class DashboardChildTitleComponent {}\n","import {\n  Component,\n  ContentChildren,\n  ElementRef,\n  HostBinding,\n  Input,\n  AfterContentInit,\n  QueryList,\n  forwardRef,\n  Output,\n  EventEmitter,\n  HostListener,\n  ChangeDetectionStrategy\n} from '@angular/core';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { DashboardChildComponent } from './dashboard-child.component';\nimport { DashboardChange } from './dashboard.model';\n\n/**\n * Displays a CSS grid which is customizable by the customer. You can set\n * `c8y-dashboard-child`-components on it or position any element on it by\n * setting the grid CSS properties. On change (resize, or rearrange) the\n * component emits an change event.\n *\n * ## Example:\n *\n * ```html\n * <c8y-title>Hello from outlet</c8y-title>\n *\n * <c8y-action-bar-item [placement]=\"'right'\">\n *   <button class=\"btn btn-link\" (click)=\"addRandom()\"><i class=\"fa fa-plus\"></i> Add random</button>\n * </c8y-action-bar-item>\n * <c8y-action-bar-item [placement]=\"'right'\">\n *   <button class=\"btn btn-link\" (click)=\"isFrozen = !isFrozen\">\n *     <i [c8yIcon]=\"isFrozen ? 'lock' : 'unlock'\"></i> Toggle freeze\n *   </button>\n * </c8y-action-bar-item>\n *\n * <c8y-dashboard (dashboardChange)=\"dashboardChange($event)\">\n *   <c8y-dashboard-child\n *     [isFrozen]=\"isFrozen\"\n *     title=\"dynamic\"\n *     *ngFor=\"let widget of widgets\"\n *     #current\n *   >\n *     x: {{ current.x }}<br />\n *     y: {{ current.y }}<br />\n *     width: {{ current.width }}<br />\n *     height: {{ current.height }}<br />\n *   </c8y-dashboard-child>\n *   <c8y-dashboard-child\n *     #cpWidget\n *     [isFrozen]=\"isFrozen\"\n *     [x]=\"0\"\n *     [y]=\"1\"\n *     [width]=\"3\"\n *     [height]=\"2\"\n *     [data]=\"widget\"\n *     [class]=\"'card card-dashboard panel-title-regular panel-content-branded panel-title-overlay'\"\n *   >\n *     <c8y-dashboard-child-title>\n *       <span>World!</span>\n *     </c8y-dashboard-child-title>\n *     x: {{ cpWidget.x }}<br />\n *     y: {{ cpWidget.y }}<br />\n *     width: {{ cpWidget.width }}<br />\n *     height: {{ cpWidget.height }}<br />\n *   </c8y-dashboard-child>\n *   <c8y-dashboard-child\n *     #cpWidget2\n *     [isFrozen]=\"isFrozen\"\n *     [x]=\"8\"\n *     [y]=\"1\"\n *     [width]=\"4\"\n *     [height]=\"4\"\n *     [class]=\"'card card-dashboard panel-content-dark'\"\n *   >\n *     <c8y-dashboard-child-title>\n *       <span>Hello!</span>\n *     </c8y-dashboard-child-title>\n *     <c8y-dashboard-child-action>\n *       <a href=\"\" (click)=\"cpWidget2.isFrozen = !cpWidget2.isFrozen; (false)\">\n *         <i [c8yIcon]=\"cpWidget2.isFrozen ? 'lock' : 'unlock'\"></i> Toggle freeze\n *       </a>\n *     </c8y-dashboard-child-action>\n *     x: {{ cpWidget2.x }}<br />\n *     y: {{ cpWidget2.y }}<br />\n *     width: {{ cpWidget2.width }}<br />\n *     height: {{ cpWidget2.height }}<br />\n *   </c8y-dashboard-child>\n *\n *   <c8y-dashboard-child\n *     #cpWidget3\n *     [isFrozen]=\"isFrozen\"\n *     [x]=\"0\"\n *     [y]=\"3\"\n *     [width]=\"4\"\n *     [height]=\"4\"\n *     [class]=\"'card-dashboard panel-content-transparent'\"\n *   >\n *     <c8y-dashboard-child-title *ngIf=\"showTitle\">\n *       <span>Transparent!</span>\n *     </c8y-dashboard-child-title>\n *     <c8y-dashboard-child-action>\n *       <a href=\"\" (click)=\"showTitle = !showTitle; (false)\">\n *         <i [c8yIcon]=\"'heading'\"></i> Hide/show title\n *       </a>\n *     </c8y-dashboard-child-action>\n *     <c8y-dashboard-child-action>\n *       <a href=\"\" (click)=\"cpWidget3.isFrozen = !cpWidget3.isFrozen; (false)\">\n *         <i [c8yIcon]=\"cpWidget3.isFrozen ? 'lock' : 'unlock'\"></i> Toggle freeze\n *       </a>\n *     </c8y-dashboard-child-action>\n *     x: {{ cpWidget3.x }}<br />\n *     y: {{ cpWidget3.y }}<br />\n *     width: {{ cpWidget3.width }}<br />\n *     height: {{ cpWidget3.height }}<br />\n *   </c8y-dashboard-child>\n * </c8y-dashboard>\n * ```\n */\n@Component({\n  selector: 'c8y-dashboard',\n  templateUrl: './dashboard.component.html',\n  host: {\n    class: 'c8y-grid-dashboard dashboard-grid'\n  },\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class DashboardComponent implements AfterContentInit {\n  /**\n   * All children in that dashboard.\n   */\n  @ContentChildren(forwardRef(() => DashboardChildComponent)) children: QueryList<\n    DashboardChildComponent\n  >;\n\n  /**\n   * The amount of columns on that dashboard.\n   */\n  @Input() columns = 12;\n\n  /**\n   * The spacing between each children in pixel.\n   */\n  @Input() gap = 12;\n\n  /**\n   * The amount of rows to dusplay. Set to auto to\n   * auto extend the rows.\n   */\n  @Input() rows: number | 'auto' = 'auto';\n\n  /**\n   * An event fired if the dashboard was changed.\n   */\n  @Output() dashboardChange = new EventEmitter<DashboardChange>();\n\n  dashboardRect;\n  private lastRow = 1;\n  private readonly DEFAULT_ROW_SIZE = 68;\n\n  /**\n   * The current column size.\n   */\n  get columnSize() {\n    return this.dashboardRect.width / this.columns;\n  }\n\n  /**\n   * The current row size.\n   */\n  get rowSize() {\n    return this.rows === 'auto' ? this.DEFAULT_ROW_SIZE : this.calculateRowSize();\n  }\n\n  /**\n   * Returns all positioning styles. Nasty workaround for that issue:\n   * https://github.com/angular/angular/issues/9343\n   */\n  @HostBinding('attr.style')\n  get inlineStyle() {\n    return this.sanitizer.bypassSecurityTrustStyle(\n      `\n        -ms-grid-columns: (1fr)[${this.columns}];\n        grid-template-columns: repeat(${this.columns}, 1fr);\n        ${this.rows !== 'auto' ? `grid-template-rows: repeat(${this.rows}, 1fr);` : ''}\n        grid-auto-rows: ${this.rowSize + this.gap}px;\n        -ms-grid-rows: (${this.rowSize + this.gap}px)[${\n        this.rows === 'auto' ? this.lastRow : this.rows\n      }];\n        margin: -${this.gap}px;\n      `\n    );\n  }\n\n  constructor(private element: ElementRef, private sanitizer: DomSanitizer) {}\n\n  ngAfterContentInit(): void {\n    this.onResize();\n    this.getLastRow();\n  }\n\n  @HostListener('window:resize')\n  onResize() {\n    this.updateRectSize();\n  }\n\n  /**\n   * Gets the last row\n   * (mainly for IE11 which doesn't support grid-auto-rows CSS property)\n   */\n  getLastRow() {\n    let lastRow = 1;\n    this.children.forEach(widget => {\n      if (lastRow < widget.y + widget.width) {\n        lastRow = widget.y + widget.width;\n      }\n    });\n    this.lastRow = lastRow + 1;\n  }\n\n  /**\n   * Updates the current rect size of the dashboard.\n   */\n  updateRectSize() {\n    const ele = this.element.nativeElement as HTMLElement;\n    this.dashboardRect =  ele.getBoundingClientRect();\n  }\n\n  emitChange(widget: DashboardChildComponent) {\n    this.dashboardChange.emit({ source: widget, children: this.children.toArray() });\n  }\n\n  private calculateRowSize() {\n    return this.dashboardRect.height / (this.rows as number);\n  }\n}\n","import { CdkDragMove } from '@angular/cdk/drag-drop';\nimport { sortBy } from 'lodash-es';\nimport { pipe } from 'rxjs';\nimport { distinctUntilChanged, expand, filter, map, tap } from 'rxjs/operators';\nimport { DashboardComponent } from './dashboard.component';\nimport {\n  DashboardChildDimension,\n  DashboardChildResizeDimension,\n  DashboardChildArrangement\n} from './dashboard.model';\nimport { DashboardChildComponent } from './dashboard-child.component';\n\nexport class DashboardChildChange {\n  child: DashboardChildComponent;\n  children: DashboardChildComponent[];\n  private dashboard: DashboardComponent;\n\n  private readonly MIN_WIDTH = 2;\n  private MIN_HEIGHT = 1;\n  private readonly PIXEL_SIZE_THRESHOLD = 10;\n\n  private diffX = 0;\n  private diffY = 0;\n\n  constructor(childToChange: DashboardChildComponent) {\n    this.dashboard = childToChange.dashboard;\n    this.children = childToChange.dashboard.children\n      ? childToChange.dashboard.children.filter(child => childToChange !== child)\n      : [];\n    this.child = childToChange;\n  }\n\n  get resize$() {\n    return this.child.dragSource.moved.pipe(\n      map(move => this.getPixelSize(move)),\n      tap(resizeDimension => this.setPixelSize(resizeDimension)),\n      map(resizeDimension => this.getDimensionSize(resizeDimension)),\n      distinctUntilChanged(\n        (prev, next) => prev.width === next.width && prev.height === next.height\n      ),\n      map(dimension => this.setDimension(dimension)),\n      this.arrangePipe()\n    );\n  }\n\n  get drag$() {\n    return this.child.dragSource.moved.pipe(\n      map(move => this.getDimensionPosition(move)),\n      filter(\n        dimension =>\n          dimension.x >= 0 &&\n          dimension.x <= this.dashboard.columns - this.child.width &&\n          dimension.y >= 0\n      ),\n      distinctUntilChanged((prev, next) => prev.x === next.x && prev.y === next.y),\n      this.arrangePipe()\n    );\n  }\n\n  findFreeDimension() {\n    let y = -1;\n    let x = 0;\n    let found = false;\n    const { width, height } = this.child;\n    if (width > this.dashboard.columns) {\n      throw new Error('The child does not fit on the current dashboard.');\n    }\n    do {\n      x = 0;\n      y++;\n      while (x + width <= this.dashboard.columns) {\n        if (this.getCollided({ x, y, width, height }).length === 0) {\n          found = true;\n          break;\n        }\n        x++;\n      }\n    } while (!found);\n    return { x, y, width, height } as DashboardChildDimension;\n  }\n\n  collapseUpAll(): void {\n    return sortBy([this.child, ...this.children], ['y']).forEach(w => {\n      const ds = new DashboardChildChange(w);\n      const newPosition = ds.collapseUp(w);\n      ds.setDimension(newPosition);\n    });\n  }\n\n  arrangeAll(arrange: DashboardChildArrangement) {\n    const { current, scan, spacing, origin } = arrange;\n    const collided = this.getCollided(current, sortBy(scan, ['y']));\n    return collided.map(child => {\n      const ds = new DashboardChildChange(child);\n      ds.setDimension({ ...child, y: spacing });\n      return {\n        current: child,\n        scan: scan.filter(w => w !== child),\n        spacing: child.y + child.height,\n        origin\n      };\n    });\n  }\n\n  private arrangePipe() {\n    return pipe(\n      map(\n        (dimension: DashboardChildDimension) =>\n          ({\n            current: dimension,\n            scan: this.children,\n            spacing: dimension.y + dimension.height,\n            origin: { ...dimension }\n          } as DashboardChildArrangement)\n      ),\n      expand((dimensions: DashboardChildArrangement) => this.arrangeAll(dimensions)),\n      map(({ origin }) => origin),\n      map(dimension => this.setDimension(dimension, true)),\n      tap(() => this.collapseUpAll()),\n      tap(() => this.dashboard.getLastRow())\n    );\n  }\n\n  private collapseUp(dimension: DashboardChildDimension) {\n    let { y } = dimension;\n    while (y > 0) {\n      if (this.getCollided({ ...dimension, y: y - 1 }).length !== 0) {\n        break;\n      }\n      y--;\n    }\n    return { ...dimension, y };\n  }\n\n  private setDimension(dimension: DashboardChildDimension, notIfColliding = false) {\n    if (notIfColliding && this.getCollided(dimension).length > 0) {\n      return;\n    }\n\n    this.child.x = dimension.x;\n    this.child.y = dimension.y;\n    if (\n      dimension.width >= this.MIN_WIDTH &&\n      dimension.x + dimension.width <= this.dashboard.columns\n    ) {\n      this.child.width = dimension.width;\n    } else if (dimension.width < this.MIN_WIDTH) {\n      dimension.width = this.MIN_WIDTH;\n    } else {\n      dimension.width = this.dashboard.columns - dimension.x;\n    }\n    if (dimension.height >= this.MIN_HEIGHT) {\n      this.child.height = dimension.height;\n    } else {\n      dimension.height = this.MIN_WIDTH;\n    }\n    return dimension;\n  }\n\n  private setPixelSize({ width, height }) {\n    if (width >= this.dashboard.columnSize * this.MIN_WIDTH - this.dashboard.gap) {\n      this.child.pxWidth = width + this.PIXEL_SIZE_THRESHOLD;\n    }\n    if (height >= this.dashboard.rowSize * this.MIN_HEIGHT - this.dashboard.gap) {\n      this.child.pxHeight = height + this.PIXEL_SIZE_THRESHOLD;\n    }\n  }\n\n  private getPixelSize(moveEvent: CdkDragMove) {\n    const draggedElement = moveEvent.source.element.nativeElement.parentNode as HTMLElement;\n    if (!this.diffX) {\n      const rect = draggedElement.getBoundingClientRect();\n      this.diffX =  rect.left;\n      this.diffY =  rect.top;\n    }\n    const { x, y } = moveEvent.pointerPosition;\n    const width = Math.round(x - this.diffX);\n    const height = Math.round(y - this.diffY);\n    return { width, height, pointer: { x, y } } as DashboardChildResizeDimension;\n  }\n\n  private getDimensionSize(resizePosition: DashboardChildResizeDimension) {\n    const { x, y } = this.child;\n    const ds = this.dashboard.dashboardRect;\n    const column = this.dashboard.columnSize;\n    const row = this.dashboard.rowSize + this.dashboard.gap;\n    const width =\n      Math.round((resizePosition.pointer.x - ds.left + this.dashboard.gap) / column) - x;\n    const height = Math.round((resizePosition.pointer.y - ds.top + this.dashboard.gap) / row) - y;\n    return { x, y, width, height } as DashboardChildDimension;\n  }\n\n  private getDimensionPosition(moveEvent: CdkDragMove) {\n    const draggedElement = moveEvent.source.element.nativeElement.nextElementSibling;\n    if (!this.diffX) {\n      const rect = draggedElement.getBoundingClientRect();\n      this.diffX =  moveEvent.pointerPosition.x - rect.left;\n      this.diffY =  moveEvent.pointerPosition.y - rect.top;\n    }\n\n    const left = moveEvent.pointerPosition.x - this.diffX;\n    const top = moveEvent.pointerPosition.y - this.diffY;\n    const { width, height } = this.child;\n    const ds = this.dashboard.dashboardRect;\n    const column = this.dashboard.columnSize;\n    const row = this.dashboard.rowSize + this.dashboard.gap / 2;\n    const x = Math.round((left - ds.left) / column);\n    const y = Math.round((top - ds.top) / row);\n    return { x, y, width, height } as DashboardChildDimension;\n  }\n\n  private doesCollide(a: DashboardChildDimension, b: DashboardChildDimension) {\n    if (b.x === undefined) {\n      return false;\n    }\n    return !(\n      a.y + a.height - 1 < b.y ||\n      a.y > b.y + b.height - 1 ||\n      a.x + a.width - 1 < b.x ||\n      a.x > b.x + b.width - 1\n    );\n  }\n\n  private getCollided(currentDimension: DashboardChildDimension, dimensions = this.children) {\n    const collided = dimensions.filter(dimension => this.doesCollide(currentDimension, dimension));\n    return collided;\n  }\n}\n","import { CdkDrag, CdkDragEnd, CdkDragStart } from '@angular/cdk/drag-drop';\nimport {\n  Component,\n  forwardRef,\n  HostBinding,\n  Inject,\n  Input,\n  ContentChildren,\n  Output,\n  EventEmitter,\n  ElementRef\n} from '@angular/core';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { Subscription } from 'rxjs';\nimport { DashboardComponent } from './dashboard.component';\nimport { DashboardChildDimension, Widget } from './dashboard.model';\nimport { DashboardChildChange } from './dashboard-child-change';\nimport { DashboardChildActionComponent } from './dashboard-child-action.component';\n\n/**\n * A dashboard child allows to position elements\n * correctly on a grid. The user can then resize and\n * rearrange the elements, as long as they are not `frozen`.\n *\n * By setting `c8y-dashboard-child-actions` and\n * `c8y-dashboard-child-title` on the element you can add\n * custom actions or a custom title to the current child.\n *\n * By adding the correct branded classes, you can define\n * the look and feel of the child. By default it is displayed\n * as a card.\n *\n * Example:\n *\n * ```html\n *   <c8y-dashboard-child\n *     #cpWidget3\n *     [isFrozen]=\"isFrozen\"\n *     [x]=\"0\"\n *     [y]=\"3\"\n *     [width]=\"4\"\n *     [height]=\"4\"\n *     [class]=\"'card-dashboard panel-content-transparent'\"\n *   >\n *     <c8y-dashboard-child-title *ngIf=\"showTitle\">\n *       <span>Transparent!</span>\n *     </c8y-dashboard-child-title>\n *     <c8y-dashboard-child-action>\n *       <a href=\"\" (click)=\"showTitle = !showTitle; (false)\">\n *         <i [c8yIcon]=\"'heading'\"></i> Hide/show title\n *       </a>\n *     </c8y-dashboard-child-action>\n *     <c8y-dashboard-child-action>\n *       <a href=\"\" (click)=\"cpWidget3.isFrozen = !cpWidget3.isFrozen; (false)\">\n *         <i [c8yIcon]=\"cpWidget3.isFrozen ? 'lock' : 'unlock'\"></i> Toggle freeze\n *       </a>\n *     </c8y-dashboard-child-action>\n *     x: {{ cpWidget3.x }}<br />\n *     y: {{ cpWidget3.y }}<br />\n *     width: {{ cpWidget3.width }}<br />\n *     height: {{ cpWidget3.height }}<br />\n *   </c8y-dashboard-child>\n * ```\n */\n@Component({\n  selector: 'c8y-dashboard-child',\n  templateUrl: './dashboard-child.component.html',\n  host: {\n    class: 'dashboard-grid-child'\n  }\n})\nexport class DashboardChildComponent implements DashboardChildDimension {\n  @ContentChildren(DashboardChildActionComponent) actions = [];\n  dragSource: CdkDrag;\n  isResize = false;\n  isDragging = false;\n  klasses = {};\n\n  _pxWidth = '100%';\n  _pxHeight = '100%';\n\n  /**\n   * The x position of the child.\n   */\n  @Input() x;\n\n  /**\n   * The y position of the child.\n   */\n  @Input() y;\n\n  /**\n   * The width of the component in grid-columns.\n   */\n  @Input() width = 1;\n\n  /**\n   * The height of the component in grid-rows.\n   */\n  @Input() height = 1;\n\n  /**\n   * The data object can be used as a dataTransfer object for events of the child.\n   */\n  @Input() data: Widget | any;\n\n  /**\n   * The margin of the child in pixel.\n   */\n  @Input() margin = 12;\n\n  /**\n   * If a dashboard is frozen, all children cannot be moved\n   * or resized.\n   */\n  @Input() isFrozen = false;\n\n  /**\n   * The child content is initialized, as soon it is scrolled into viewport\n   */\n  @Input() useIntersection = false;\n\n  /**\n   * An event fired if a child change is started (dragging or resizing)\n   */\n  @Output() changeStart = new EventEmitter<DashboardChildComponent>();\n\n  /**\n   * An event fired if a child change is ended\n   */\n  @Output() changeEnd = new EventEmitter<DashboardChildComponent>();\n\n  /**\n   * All classes added to this child\n   */\n  @Input()\n  class: string[] | { [key: string]: boolean } = {};\n\n  /**\n   * Updates the pixel width of the child (used for resizing)\n   */\n  set pxWidth(value) {\n    this._pxWidth = `${value}px`;\n  }\n\n  /**\n   * Updates the pixel height of the child (used for resizing)\n   */\n  set pxHeight(value) {\n    this._pxHeight = `${value}px`;\n  }\n\n  /**\n   * An indicator if the child is intersected (that mean visible for the user)\n   */\n  intersected = false;\n\n  /**\n   * nasty workaround for that issue:\n   * https://github.com/angular/angular/issues/9343\n   */\n  @HostBinding('attr.style')\n  get inlineStyle() {\n    return this.sanitizer.bypassSecurityTrustStyle(`\n    grid-column-start: ${this.x + 1};\n    -ms-grid-column: ${this.x + 1};\n    grid-row-start: ${this.y + 1};\n    -ms-grid-row: ${this.y + 1};\n    grid-column-end: span ${this.width};\n    -ms-grid-column-span: ${this.width};\n    grid-row-end: span ${this.height};\n    -ms-grid-row-span: ${this.height};\n    display: block;\n    margin: ${this.margin || 12}px;\n    `);\n  }\n\n  /**\n   * The observable subscription which is listen to\n   * on changes (drag or resize).\n   */\n  changeSubscription: Subscription;\n\n  constructor(\n    @Inject(forwardRef(() => DashboardComponent)) public dashboard: DashboardComponent,\n    private sanitizer: DomSanitizer,\n    private element: ElementRef\n  ) {}\n\n  ngOnChanges(): void {\n    this.klasses = {\n      card: true,\n      'card-dashboard': true,\n      disabled: this.isFrozen,\n      'on-resize': this.isResize,\n      ...this.class\n    };\n  }\n\n  ngOnInit(): void {\n    if (this.x === undefined || this.y === undefined) {\n      setTimeout(() => this.setDynamicDimension());\n    }\n    if (this.useIntersection && 'IntersectionObserver' in window) {\n      const intersectionObserver = new IntersectionObserver(\n        event => (this.intersected = this.childInView(event[0], intersectionObserver))\n      );\n      intersectionObserver.observe(this.element.nativeElement);\n    } else {\n      this.intersected = true;\n    }\n  }\n\n  setDynamicDimension() {\n    const ds = new DashboardChildChange(this);\n    const { x, y } = ds.findFreeDimension();\n    this.x = x;\n    this.y = y;\n  }\n\n  resizeStarted($event: CdkDragStart) {\n    this.isResize = true;\n    this.dashboard.updateRectSize();\n    this.dragSource = $event.source;\n    const positioning = new DashboardChildChange(this);\n    this.changeSubscription = positioning.resize$.subscribe();\n    this.changeStart.emit(this);\n    this.ngOnChanges();\n  }\n\n  dragStarted($event: CdkDragStart) {\n    this.isDragging = true;\n    this.dashboard.updateRectSize();\n    this.dragSource = $event.source;\n    const positioning = new DashboardChildChange(this);\n    this.changeSubscription = positioning.drag$.subscribe();\n    this.changeStart.emit(this);\n  }\n\n  reset($event?: CdkDragEnd) {\n    this.isResize = false;\n    this.isDragging = false;\n    this._pxWidth = '100%';\n    this._pxHeight = '100%';\n    this.ngOnChanges();\n    if ($event) {\n      $event.source.reset();\n    }\n    if (this.changeSubscription) {\n      this.changeSubscription.unsubscribe();\n      this.dashboard.emitChange(this);\n      this.changeEnd.emit(this);\n    }\n  }\n\n  private childInView(event, observer) {\n    if (event.isIntersecting) {\n      observer.unobserve(event.target);\n      return true;\n    }\n    return false;\n  }\n}\n","import { Component, EventEmitter, Input, Output, SimpleChanges } from '@angular/core';\nimport { DashboardSettings, Widget, WidgetChange, DashboardChange } from './dashboard.model';\nimport { DashboardComponent } from './dashboard.component';\n\n@Component({\n  selector: 'c8y-widgets-dashboard',\n  templateUrl: './widgets-dashboard.component.html',\n  host: {\n    style: `\n      display: block;\n    `,\n    class: 'dashboard c8y-grid-dashboard'\n  }\n})\nexport class WidgetsDashboardComponent {\n  @Input()\n  widgets: Widget[];\n\n  @Input()\n  context: any;\n\n  @Input()\n  contextDashboard: any;\n\n  @Input('settings')\n  set _settings(settings: Partial<DashboardSettings>) {\n    this.settings = { ...this.settings, ...settings };\n  }\n  settings: DashboardSettings = {\n    isFrozen: false,\n    isDisabled: false,\n    widgetMargin: 12,\n    translateWidgetTitle: false,\n    defaultHeight: 4,\n    defaultWidth: 4,\n    allowFullscreen: false,\n    canDelete: true,\n    isLoading: false,\n  };\n\n  @Output()\n  onAddWidget: EventEmitter<DashboardComponent> = new EventEmitter();\n\n  @Output()\n  onEditWidget: EventEmitter<WidgetChange> = new EventEmitter();\n\n  @Output()\n  onDeleteWidget: EventEmitter<WidgetChange> = new EventEmitter();\n\n  @Output()\n  onChangeDashboard: EventEmitter<DashboardChange> = new EventEmitter();\n\n  @Output()\n  onEditDashboard: EventEmitter<DashboardComponent> = new EventEmitter();\n\n  @Output()\n  onDeleteDashboard: EventEmitter<DashboardComponent> = new EventEmitter();\n\n  @Output()\n  onFreeze: EventEmitter<DashboardSettings> = new EventEmitter();\n\n  @Output()\n  onChangeStart: EventEmitter<WidgetChange> = new EventEmitter();\n\n  @Output()\n  onChangeEnd: EventEmitter<WidgetChange> = new EventEmitter();\n\n  toggleFullscreen() {\n    const elem = document.body as any;\n    const doc = document as any;\n    if (!this.fullScreen()) {\n      if (elem.requestFullscreen) {\n        elem.requestFullscreen();\n      } else if (elem.msRequestFullscreen) {\n        elem.msRequestFullscreen();\n      } else if (elem.mozRequestFullScreen) {\n        elem.mozRequestFullScreen();\n      } else if (elem.webkitRequestFullscreen) {\n        elem.webkitRequestFullscreen((Element as any).ALLOW_KEYBOARD_INPUT);\n      }\n    } else if (doc.exitFullscreen) {\n      doc.exitFullscreen();\n    } else if (doc.msExitFullscreen) {\n      doc.msExitFullscreen();\n    } else if (doc.mozCancelFullScreen) {\n      doc.mozCancelFullScreen();\n    } else if (doc.webkitExitFullscreen) {\n      doc.webkitExitFullscreen();\n    }\n  }\n\n  fullScreen() {\n    const doc: any = document;\n    return !!(\n      doc.fullscreenElement ||\n      doc.mozFullScreenElement ||\n      doc.webkitFullscreenElement ||\n      doc.msFullscreenElement\n    );\n  }\n}\n","import { Directive, Input, ElementRef } from '@angular/core';\n\n@Directive({\n  selector: '[c8y-guide-href]'\n})\nexport class GuideHrefDirective {\n  @Input('c8y-guide-href')\n  c8yGuideHref;\n\n  private htmlAnchor: HTMLAnchorElement;\n\n  set baseHref(href) {\n    this.htmlAnchor.href = `${href}/${this.c8yGuideHref}`;\n  }\n\n  constructor(private elementRef: ElementRef) {\n    this.htmlAnchor = this.elementRef.nativeElement as HTMLAnchorElement;\n    if (!this.htmlAnchor.hasAttribute('target')) {\n      this.htmlAnchor.setAttribute('target', '_blank');\n    }\n  }\n}\n","import { Component, OnInit, ContentChildren, QueryList } from '@angular/core';\nimport { GuideHrefDirective } from './guide-href.directive';\nimport { DocsService } from './docs.service';\n\n@Component({\n  selector: '[c8y-guide-docs]',\n  templateUrl: './guide-docs.component.html'\n})\nexport class GuideDocsComponent implements OnInit {\n  baseUrl: string;\n  @ContentChildren(GuideHrefDirective, { descendants: true }) links: QueryList<GuideHrefDirective>;\n\n  constructor(private docs: DocsService) {}\n\n  ngOnInit(): void {\n    this.baseUrl = this.docs.getBaseUrl();\n  }\n\n  ngAfterViewInit(): void {\n    this.links.forEach(guide => {\n      guide.baseHref = this.baseUrl;\n    });\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { DocsService } from './docs.service';\nimport { GuideHrefDirective } from './guide-href.directive';\nimport { GuideDocsComponent } from './guide-docs.component';\n\n@NgModule({\n  declarations: [\n    GuideHrefDirective,\n    GuideDocsComponent\n  ],\n  imports: [CommonModule],\n  exports: [\n    GuideHrefDirective,\n    GuideDocsComponent\n  ],\n  providers: [DocsService],\n})\nexport class DocsModule {}\n","import { DragDropModule } from '@angular/cdk/drag-drop';\nimport { NgModule } from '@angular/core';\nimport { BsDropdownModule } from 'ngx-bootstrap/dropdown';\nimport { ActionBarModule } from '../action-bar/action-bar.module';\nimport { CommonModule } from '../common/common.module';\nimport { DynamicComponentModule } from '../dynamic-component/dynamic-component.module';\nimport { DashboardChildActionComponent } from './dashboard-child-action.component';\nimport { DashboardChildTitleComponent } from './dashboard-child-title.component';\nimport { DashboardChildComponent } from './dashboard-child.component';\nimport { DashboardComponent } from './dashboard.component';\nimport { WidgetsDashboardComponent } from './widgets-dashboard.component';\nimport { HeaderModule } from '../header/header.module';\nimport { DocsModule } from '../docs/docs.module';\n\n@NgModule({\n  declarations: [\n    DashboardChildComponent,\n    DashboardComponent,\n    DashboardChildTitleComponent,\n    DashboardChildActionComponent,\n    WidgetsDashboardComponent\n  ],\n  imports: [\n    CommonModule,\n    ActionBarModule,\n    DynamicComponentModule,\n    DragDropModule,\n    BsDropdownModule.forRoot(),\n    HeaderModule,\n    DocsModule\n  ],\n  exports: [\n    DashboardComponent,\n    DashboardChildComponent,\n    DashboardChildTitleComponent,\n    DashboardChildActionComponent,\n    WidgetsDashboardComponent\n  ]\n})\nexport class DashboardModule {}\n","/* tslint:disable:max-classes-per-file */\n\nimport { Directive, TemplateRef, Type } from '@angular/core';\n\nimport { Column } from '../data-grid.model';\n\nexport interface CellRendererDef {\n  template: TemplateRef<any>;\n}\n\nexport interface CellRendererSpec {\n  renderer: TemplateRef<CellRendererContext> | Type<any>;\n  context: CellRendererContext;\n}\n\nexport class CellRendererContext {\n  value: any;\n  item?: any;\n  property: Column;\n}\n\n@Directive({ selector: '[c8yCellRendererDef]' })\nexport class CellRendererDefDirective implements CellRendererDef {\n  constructor(public template: TemplateRef<any>) {}\n}\n\n@Directive({ selector: '[c8yHeaderCellRendererDef]' })\nexport class HeaderCellRendererDefDirective implements CellRendererDef {\n  constructor(public template: TemplateRef<any>) {}\n}\n","/* tslint:disable:max-classes-per-file */\n\nimport { Directive, TemplateRef, Type } from '@angular/core';\nimport { Column, FilterPredicateFunction } from '../data-grid.model';\n\nexport interface FilteringFormRendererSpec {\n  renderer: TemplateRef<FilteringFormRendererContext> | Type<any>;\n  context: FilteringFormRendererContext;\n}\n\nexport class FilteringFormRendererContext {\n  property: Column;\n  applyFilter: (filteringModifier: FilteringModifier) => void;\n  resetFilter: () => void;\n}\n\nexport interface FilteringModifier {\n  filterPredicate?: string | FilterPredicateFunction;\n  externalFilterQuery?: string | object;\n}\n\n@Directive({ selector: '[c8yFilteringFormRendererDef]' })\nexport class FilteringFormRendererDefDirective {\n  constructor(public template: TemplateRef<any>) {}\n}\n","import { ContentChild, Directive, Input } from '@angular/core';\n\nimport { CellRendererDefDirective, HeaderCellRendererDefDirective } from './cell-renderer';\nimport { FilteringFormRendererDefDirective } from './filtering-form-renderer';\n\n@Directive({ selector: 'c8y-column' })\nexport class ColumnDirective {\n  @Input() name: string;\n\n  @ContentChild(CellRendererDefDirective, { static: false })\n  cellRendererDef: CellRendererDefDirective;\n\n  @ContentChild(HeaderCellRendererDefDirective, { static: false })\n  headerCellRendererDef: HeaderCellRendererDefDirective;\n\n  @ContentChild(FilteringFormRendererDefDirective, { static: false })\n  filteringFormRendererDef: FilteringFormRendererDefDirective;\n}\n","import { Type } from '@angular/core';\nimport { IResultList } from '@c8y/client';\n\n/*\n * For reference: the structure of current device column-related objects.\n * TODO: Can be removed when \"All devices\" is fully migrated.\n *\n * Services involved:\n * - c8yFilteringSortingColumns\n * - c8yFilteringSortingInventoryQueries\n * - c8yDeviceListColumns\n * - c8yFilteringSortingCollections?? -> for other tables in tenant/cell ID usage statistics feature\n *\n * Components involved:\n * - c8yFilteredSortedList -> this needs to be gravely adapted\n *\n * States saved in user preferences:\n * - Columns config (ALL_DEVICES_COLUMNS_CONFIG_USER_PREFERENCES_KEY)\n * - Columns meta (ALL_DEVICES_COLUMNS_META_USER_PREFERENCES_KEY_PREFIX)\n *\n * States saved in dynamic group object:\n * - Columns config (COLUMNS_CONFIG_FRAGMENT)\n * - Columns meta (COLUMNS_META_FRAGMENT)\n * - Query string (QUERY_STRING_FRAGMENT)\n *\n * TO-FUTURE-SELF note:\n * - `col.config.filtering` and `col.config.sorting` (the models) populate\n * `col.filtering` and `col.sorting` (the views).\n * - `getFilter` can return a query object (for server-side filtering) or\n * a filter function (for server-side filtering).\n */\ninterface DeviceColumn {\n  name: string;\n  header: string;\n  config: {\n    filtering: object;\n    sorting: {\n      order: number;\n    };\n    override: DeviceColumn;\n  };\n  cell: {\n    class: string;\n    innerClass: string;\n    scopeExtensions: object;\n    template: string;\n    style: object;\n  };\n  filtering: {\n    form: object[];\n    schema: {\n      type: string;\n      properties: {\n        type: string;\n        [key: string]: any;\n      };\n    };\n    getFilter(filteringModel: object): object | FilterFunction;\n  };\n  sorting: {\n    path?: string;\n    paths?: string;\n  };\n  meta: {\n    custom: boolean;\n    key: string;\n    headerName: string;\n    fragmentPath: string;\n    active: boolean;\n    filteringMode: 'EQUALITY' | 'EXISTENCE';\n  };\n}\n\ntype FilterFunction = (item: object) => boolean;\n\nexport interface DataGrid {\n  columns: Column[];\n  rows: Row[];\n  pagination: Pagination;\n  serverSideDataCallback: ServerSideDataCallback;\n  selectable: boolean;\n  selectionPrimaryKey: string;\n  displayOptions: DisplayOptions;\n  actionControls: ActionControl[];\n  bulkActionControls: BulkActionControl[];\n}\n\n/*\n * Column\n */\nexport interface Column {\n  name: string | SpecialColumnName;\n  header?: string;\n  path?: string;\n  visible?: boolean;\n  positionFixed?: boolean;\n\n  /*\n   * Cosmetics\n   */\n  dataType?: ColumnDataType;\n  gridTrackSize?: string;\n  headerCSSClassName?: string | string[];\n  cellCSSClassName?: string | string[];\n\n  /*\n   * Sorting-Filtering\n   */\n  sortable?: boolean;\n  sortOrder?: SortOrder;\n\n  filterable?: boolean;\n  filterPredicate?: string | FilterPredicateFunction;\n  externalFilterQuery?: any;\n\n  /*\n   * Custom renderer\n   */\n  cellRendererComponent?: Type<any>;\n  headerCellRendererComponent?: Type<any>;\n  filteringFormRendererComponent?: Type<any>;\n}\n\nexport const enum SpecialColumnName {\n  Checkbox = 'checkbox',\n  Actions = 'actions'\n}\n\nexport const enum ColumnDataType {\n  Icon = 'icon',\n  Numeric = 'numeric',\n  TextShort = 'text-short',\n  TextLong = 'text-long'\n}\n\nexport const enum ColumnDataRecordClassName {\n  Icon = 'data-record-icon',\n  Header = 'data-record-header',\n  Default = ''\n}\n\nexport const minColumnGridTrackSize = 80;\n\nexport const ratiosByColumnTypes = {\n  icon: 1,\n  numeric: 1,\n  'text-short': 1.67,\n  'text-long': 3.33\n};\n\nexport type SortOrder = 'asc' | 'desc' | '';\n\nexport type FilterPredicateFunction = (item: object, path: string) => boolean;\n\nexport enum FilteringActionType {\n  ApplyFilter = 'APPLY_FILTER',\n  ResetFilter = 'RESET_FILTER'\n}\n\nexport interface Row {\n  id: string;\n  [key: string]: any;\n}\n\nexport interface Pagination {\n  currentPage: number;\n  nextPage?: number;\n  pageSize: number;\n}\n\nexport type ServerSideDataCallback = (\n  dataSourceModifier: DataSourceModifier\n) => ServerSideDataResult;\nexport interface DataSourceModifier {\n  columns: Column[];\n  searchText: string;\n  pagination: Pagination;\n  selection: {\n    enabled: boolean;\n    primaryKey: string;\n  };\n}\n\n/**\n * Describes result from server with data and additional statistics.\n */\nexport type ServerSideDataResult = IResultList<object> & {\n  /** The real grand total number of items (the whole dataset). */\n  size: number;\n\n  /** The number of items after filtering applied to the whole dataset (subset). */\n  filteredSize: number;\n\n  /** The list of ids of all filtered items (subset). */\n  filteredDataIds?: string[];\n};\n\nexport interface DataSourceStats {\n  /** The real grand total number of items (the whole dataset). */\n  size: number;\n\n  /** The number of items after filtering applied to the whole dataset (subset). */\n  filteredSize: number;\n\n  /** The number of the current page. */\n  currentPage: number;\n\n  /** The number of the next page. */\n  nextPage?: number;\n\n  /** The number of items currently shown in the list view, a.k.a. current page (what the user sees on screen). */\n  currentPageSize: number;\n\n  /** The number of items on the first page.  */\n  firstPageSize: number;\n}\n\nexport interface DisplayOptions {\n  striped: boolean;\n  bordered: boolean;\n  gridHeader: boolean;\n}\n\nexport interface ActionControl {\n  type: BuiltInActionType | string;\n  text?: string;\n  icon?: string;\n  // tslint:disable-next-line:ban-types\n  callback: ((item: Row, reload: () => void) => void) | Function;\n  [key: string]: any;\n}\n\nexport interface BulkActionControl extends ActionControl {\n  callback(selectedItemIds: string[], reload: () => void): void;\n}\n\nexport const enum BuiltInActionType {\n  Edit = 'EDIT',\n  Delete = 'DELETE',\n  Export = 'EXPORT'\n}\n","import { CollectionViewer, DataSource } from '@angular/cdk/collections';\nimport { IResultList } from '@c8y/client';\nimport { chunk, flow, get, isNil, mapValues, omitBy, orderBy, pick } from 'lodash-es';\nimport { BehaviorSubject, defer, from, isObservable, Observable, of, Subject } from 'rxjs';\nimport { catchError, finalize, map, switchMap, tap } from 'rxjs/operators';\nimport { Column, DataSourceStats, ServerSideDataResult } from './data-grid.model';\n\nexport class GridDataSource implements DataSource<object> {\n  loading$: Observable<boolean>;\n  data$: Observable<object[]>;\n  stats$: Observable<DataSourceStats>;\n  selection$: Observable<any>;\n  resultList$: Observable<IResultList<object>>;\n\n  private loadingSubject = new BehaviorSubject<boolean>(false);\n  private dataSourceSubject = new BehaviorSubject<object[]>([]);\n  private dataStatsSubject = new BehaviorSubject<DataSourceStats>({\n    size: 0,\n    filteredSize: 0,\n    currentPage: 0,\n    currentPageSize: 0,\n    firstPageSize: 0\n  });\n  private dataSelectionSubject = new BehaviorSubject<any>({\n    filteredDataIds: []\n  });\n  private resultListSubject = new Subject<IResultList<object>>();\n\n  constructor() {\n    this.loading$ = this.loadingSubject.asObservable();\n    this.data$ = this.dataSourceSubject.asObservable();\n    this.stats$ = this.dataStatsSubject.asObservable();\n    this.selection$ = this.dataSelectionSubject.asObservable();\n    this.resultList$ = this.resultListSubject.asObservable();\n  }\n\n  connect(collectionViewer: CollectionViewer): Observable<object[]> {\n    return this.data$;\n  }\n\n  disconnect(collectionViewer: CollectionViewer): void {\n    this.loadingSubject.complete();\n    this.dataSourceSubject.complete();\n    this.dataStatsSubject.complete();\n    this.dataSelectionSubject.complete();\n  }\n\n  loadData({\n    rows,\n    columns,\n    pagination,\n    searchText,\n    serverSideDataCallback,\n    selectable,\n    selectionPrimaryKey,\n    infiniteScroll,\n    reload = false\n  }) {\n    const clientSideData$ = this.toObservable(rows).pipe(\n      map(initialData => {\n        let filteredSize = 0;\n        let filteredDataIds = [];\n\n        const transformedData = flow(\n          data => this.doClientSideSearch({ data, columns, searchText }),\n          data => this.doClientSideFiltering({ data, columns }),\n          data => this.doClientSideSorting({ data, columns }),\n          data => {\n            filteredSize = data.length;\n            filteredDataIds = selectable\n              ? data.map(item => item[selectionPrimaryKey])\n              : filteredDataIds;\n\n            return data;\n          },\n          data => this.doClientSidePagination({ data, pagination })\n        )(initialData);\n\n        this.dataStatsSubject.next({\n          size: initialData.length,\n          filteredSize,\n          currentPage: pagination.currentPage,\n          currentPageSize: transformedData.length,\n          firstPageSize: pagination.pageSize\n        });\n        this.dataSelectionSubject.next({ filteredDataIds });\n\n        return transformedData;\n      })\n    );\n\n    const serverSideData$ = defer(() =>\n      this.toObservable(\n        serverSideDataCallback({\n          columns,\n          searchText,\n          pagination,\n          selection: { enabled: selectable, primaryKey: selectionPrimaryKey }\n        })\n      )\n    ).pipe(\n      map((result: ServerSideDataResult) => {\n        const { data, paging, size, filteredSize, filteredDataIds } = result;\n\n        this.dataStatsSubject.next({\n          size,\n          filteredSize,\n          currentPage: paging.currentPage,\n          currentPageSize: data.length,\n          nextPage: paging.nextPage,\n          firstPageSize: paging.pageSize\n        });\n        this.dataSelectionSubject.next({ filteredDataIds: filteredDataIds || [] });\n        this.resultListSubject.next(result);\n\n        return data;\n      })\n    );\n\n    const data$ = typeof serverSideDataCallback === 'function' ? serverSideData$ : clientSideData$;\n\n    of([])\n      .pipe(\n        tap(() => this.loadingSubject.next(true)),\n        switchMap(() => data$),\n        catchError(err => {\n          this.dataStatsSubject.next({\n            size: 0,\n            filteredSize: 0,\n            currentPage: 0,\n            currentPageSize: 0,\n            firstPageSize: 0\n          });\n          this.dataSelectionSubject.next({ filteredDataIds: [] });\n          return of([]);\n        }),\n        finalize(() => this.loadingSubject.next(false))\n      )\n      .subscribe(result => {\n        const data =\n          infiniteScroll && !reload ? [...this.dataSourceSubject.value, ...result] : result;\n        this.dataSourceSubject.next(data);\n      });\n  }\n\n  resolveValue(x, path) {\n    return get(x, path);\n  }\n\n  resolveFunction(x) {\n    return typeof x === 'function' ? x() : x;\n  }\n\n  normalizeNil(x) {\n    return isNil(x) ? '' : x;\n  }\n\n  private doClientSideFiltering({ data, columns }) {\n    return columns.reduce((result, column) => {\n      const { filterPredicate } = column;\n\n      if (typeof filterPredicate === 'string') {\n        return this.doClientSideSearch({\n          data: result,\n          columns: [column],\n          searchText: filterPredicate\n        });\n      }\n\n      if (typeof filterPredicate === 'function') {\n        return result.filter(item => filterPredicate(item, column.path));\n      }\n\n      return result;\n    }, data);\n  }\n\n  private doClientSideSearch({ data, columns, searchText }) {\n    const propPaths = columns.map(({ path }) => path).filter(column => !isNil(column));\n\n    const regexSearch = this.createRegexSearch(searchText);\n\n    return data.filter(item => {\n      const itemWithResolvedValues = flow(\n        x => pick(x, propPaths),\n        x => mapValues(x, this.resolveFunction),\n        x => omitBy(x, isNil)\n      )(item);\n\n      const cellValues = Object.values(itemWithResolvedValues);\n\n      return cellValues.some(cellValue => regexSearch.test(cellValue.toString()));\n    });\n  }\n\n  private doClientSideSorting({ data, columns }) {\n    const actives: Column[] = columns.filter(({ sortOrder }: Column) => !!sortOrder);\n\n    const sortingState = {\n      paths: actives.map(({ path }) => path),\n      orders: actives.map(({ sortOrder }) => sortOrder)\n    };\n\n    return orderBy(data, sortingState.paths, sortingState.orders);\n  }\n\n  private doClientSidePagination({ data, pagination }) {\n    return pagination\n      ? get(chunk(data, pagination.pageSize), pagination.currentPage - 1, [])\n      : data;\n  }\n\n  private createRegexSearch(filterValue) {\n    return RegExp(escapeRegExpPattern(filterValue), 'i');\n  }\n\n  private toObservable(x): Observable<any> {\n    return isObservable(x) ? x : x instanceof Promise ? from(x) : of(x);\n  }\n}\n\n/**\n *\n * @param string pattern Regex pattern.\n * @return string The escaped regex.\n * @see https://stackoverflow.com/a/3561711/2013891\n */\nfunction escapeRegExpPattern(pattern = '') {\n  return pattern.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\n}\n","import { CdkHeaderCell } from '@angular/cdk/table';\nimport {\n  AfterViewInit,\n  ChangeDetectorRef,\n  Component,\n  ComponentFactory,\n  ComponentFactoryResolver,\n  ContentChildren,\n  ElementRef,\n  EventEmitter,\n  Input,\n  OnChanges,\n  Output,\n  QueryList,\n  ViewChild,\n  ViewChildren,\n  ViewContainerRef\n} from '@angular/core';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { IResultList, Paging } from '@c8y/client';\nimport { flow, get, parseInt as _parseInt, union, without } from 'lodash-es';\nimport { combineLatest, Subject } from 'rxjs';\nimport {\n  debounceTime,\n  distinctUntilChanged,\n  first,\n  mergeMap,\n  take,\n  takeUntil,\n  tap\n} from 'rxjs/operators';\nimport { LoadMoreComponent } from '../common/load-more.component';\nimport { LoadMoreMode } from '../common/public-api';\nimport { gettext } from '../i18n/gettext';\nimport { CellRendererSpec } from './column/cell-renderer';\nimport { ColumnDirective } from './column/column.directive';\nimport { FilteringFormRendererSpec, FilteringModifier } from './column/filtering-form-renderer';\nimport {\n  ActionControl,\n  BuiltInActionType,\n  BulkActionControl,\n  Column,\n  ColumnDataType,\n  DataGrid,\n  DataSourceStats,\n  DisplayOptions,\n  FilteringActionType,\n  minColumnGridTrackSize,\n  Pagination,\n  ratiosByColumnTypes,\n  Row,\n  ServerSideDataCallback,\n  SortOrder,\n  SpecialColumnName\n} from './data-grid.model';\nimport { GridDataSource } from './grid-data-source';\n\n@Component({\n  selector: 'c8y-data-grid',\n  templateUrl: './data-grid.component.html'\n})\nexport class DataGridComponent implements DataGrid, OnChanges, AfterViewInit {\n  @Input() title: string = gettext('Items');\n  @Input() loadMoreItemsLabel: string = gettext('Load more items');\n  @Input() loadingItemsLabel: string = gettext('Loading items');\n  @Input() noMatchingItemsLabel: string = gettext('No matching items.');\n\n  columns: Column[];\n  @Input('columns')\n  set _columns(columns) {\n    this.columns = columns || [];\n  }\n\n  dataSource = new GridDataSource();\n  rows: Row[];\n  @Input('rows')\n  set _rows(rows) {\n    this.rows = rows || [];\n  }\n\n  filteringLabelsParams = {\n    filteredItemsCount: 0,\n    allItemsCount: 0\n  };\n\n  pagination: Pagination;\n  paginationLabelParams = {\n    pageFirstItemIdx: 0,\n    pageLastItemIdx: 0,\n    itemsTotal: 0\n  };\n  readonly possiblePageSizes: number[] = [10, 15, 20, 30, 50];\n  readonly minPossiblePageSize = Math.min(...this.possiblePageSizes);\n  @Input('pagination')\n  set _pagination(pagination) {\n    this.pagination = pagination;\n    const pageSize = get(this.pagination, 'pageSize');\n\n    if (\n      pageSize &&\n      !this.possiblePageSizes.find(possiblePageSize => possiblePageSize === pageSize)\n    ) {\n      this.pagination = { ...this.pagination, pageSize: 10 };\n    }\n  }\n\n  infiniteScroll: LoadMoreMode;\n  @Input('infiniteScroll')\n  set _infiniteScroll(infiniteScroll: LoadMoreMode) {\n    this.infiniteScroll = infiniteScroll;\n  }\n\n  serverSideDataCallback: ServerSideDataCallback;\n  @Input('serverSideDataCallback')\n  set _serverSideDataCallback(serverSideDataCallback) {\n    this.serverSideDataCallback = serverSideDataCallback;\n  }\n\n  selectable = false;\n  @Input('selectable')\n  set _selectable(selectable) {\n    this.selectable = selectable;\n  }\n\n  selectionPrimaryKey = 'id';\n  @Input('selectionPrimaryKey')\n  set _selectionPrimaryKey(selectionPrimaryKey) {\n    this.selectionPrimaryKey = selectionPrimaryKey;\n  }\n\n  displayOptions: DisplayOptions = {\n    striped: true,\n    bordered: false,\n    gridHeader: true\n  };\n  @Input('displayOptions')\n  set _displayOptions(displayOptions) {\n    this.displayOptions = { ...this.displayOptions, ...displayOptions };\n  }\n\n  actionControls: ActionControl[];\n  @Input('actionControls')\n  set _actionControls(actionControls) {\n    this.actionControls = actionControls || [];\n  }\n\n  bulkActionControls: BulkActionControl[];\n  @Input('bulkActionControls')\n  set _bulkActionControls(bulkActionControls) {\n    this.bulkActionControls = bulkActionControls || [];\n  }\n\n  @Output() rowMouseOver = new EventEmitter<object>();\n  @Output() rowMouseLeave = new EventEmitter<object>();\n  @Output() rowClick = new EventEmitter<object>();\n\n  @Output() itemsSelect = new EventEmitter<string[]>();\n\n  @ContentChildren(ColumnDirective) columnRenderers: QueryList<ColumnDirective>;\n\n  @ViewChild('scroll', { static: true }) scrollContainer: ElementRef;\n\n  @ViewChild('infiniteScrollContainer', { static: false, read: ViewContainerRef })\n  infiniteScrollContainer: ViewContainerRef;\n\n  loadMoreComponent: LoadMoreComponent;\n\n  columnNames = [];\n\n  styles = {\n    tableCursor: 'auto',\n    gridTemplateColumns: undefined,\n    gridInfiniteScrollColumn: undefined\n  };\n\n  searchText$ = new EventEmitter<string>();\n  searchText = '';\n  filteringApplied = false;\n  totalPagesCount = Infinity;\n\n  selectedItemIds: string[] = [];\n  currentPageSelectionState = {\n    allSelected: false,\n    allDeselected: true\n  };\n\n  builtInActionType = {\n    Edit: BuiltInActionType.Edit,\n    Delete: BuiltInActionType.Delete,\n    Export: BuiltInActionType.Export\n  };\n\n  resizeHandleMouseDown$ = new EventEmitter<any>();\n  resizeHandleContainerMouseMove$ = new EventEmitter<any>();\n  resizeHandleContainerMouseUp$ = new EventEmitter<any>();\n  private headerBeingResized: {\n    columnName: string;\n    el: HTMLElement;\n  };\n  @ViewChildren(CdkHeaderCell, { read: ElementRef }) private thRefs: QueryList<ElementRef>;\n  private thEls;\n\n  private recreateLoadMoreComponent: boolean;\n\n  private unsubscribe$ = new Subject<any>();\n\n  constructor(\n    private sanitizer: DomSanitizer,\n    private hostRef: ElementRef,\n    private cd: ChangeDetectorRef,\n    private cfr: ComponentFactoryResolver\n  ) {}\n\n  ngOnInit() {\n    this.searchText$\n      .pipe(\n        takeUntil(this.unsubscribe$),\n        debounceTime(300),\n        distinctUntilChanged(),\n        tap(searchText => {\n          this.searchText = searchText;\n        })\n      )\n      .subscribe(() => {\n        this.reload();\n      });\n\n    if (this.selectable) {\n      combineLatest(this.dataSource.data$, this.itemsSelect.asObservable())\n        .pipe(takeUntil(this.unsubscribe$))\n        .subscribe(([data]) => {\n          const currentPageEmpty = data.length === 0;\n\n          this.currentPageSelectionState = {\n            allSelected: currentPageEmpty ? false : data.every(item => this.isItemSelected(item)),\n            allDeselected: currentPageEmpty ? true : data.every(item => !this.isItemSelected(item))\n          };\n        });\n    }\n    this.dataSource.stats$.pipe(takeUntil(this.unsubscribe$)).subscribe(stats => {\n      this.createLoadMoreComponent(stats);\n      this.updateFilteringLabelsParams(stats);\n      this.updatePaginationLabelParams(stats);\n    });\n  }\n\n  ngOnChanges() {\n    this.updateColumns();\n    this.loadData();\n  }\n\n  ngAfterViewInit() {\n    this.updateGridColumnsSize();\n    this.thEls = this.thRefs.toArray().map(({ nativeElement }) => nativeElement);\n    this.setupResizeHandle();\n  }\n\n  ngOnDestroy() {\n    this.unsubscribe$.next();\n    this.unsubscribe$.complete();\n  }\n\n  trackByName(index, item) {\n    return item.name;\n  }\n\n  resolveCellValue(row, path) {\n    return flow([\n      x => this.dataSource.resolveValue(x, path),\n      this.dataSource.resolveFunction,\n      this.dataSource.normalizeNil\n    ])(row);\n  }\n\n  changeSortOrder(columnName) {\n    const column = this.columns.find(({ name }) => name === columnName);\n\n    if (column) {\n      const { sortOrder } = column;\n\n      if (!sortOrder) {\n        this.updateSorting([columnName], 'asc');\n      } else if (sortOrder === 'asc') {\n        this.updateSorting([columnName], 'desc');\n      } else {\n        this.updateSorting([columnName], '');\n      }\n    }\n  }\n\n  updateSorting(columnNames: string[], sortOrder: SortOrder) {\n    this.columns = this.columns.map(\n      (column): Column => {\n        if (columnNames.includes(column.name)) {\n          return { ...column, sortOrder };\n        }\n\n        return column;\n      }\n    );\n\n    this.reload();\n  }\n\n  applyFilter(columnName, dropdown, filteringModifier) {\n    this.updateFiltering([columnName], {\n      type: FilteringActionType.ApplyFilter,\n      payload: { filteringModifier }\n    });\n    dropdown.hide();\n  }\n\n  resetFilter(columnName, dropdown) {\n    this.updateFiltering([columnName], { type: FilteringActionType.ResetFilter });\n    dropdown.hide();\n  }\n\n  clearFilters() {\n    this.updateFiltering(this.columns.map(({ name }) => name), {\n      type: FilteringActionType.ResetFilter\n    });\n  }\n\n  updateFiltering(\n    columnNames: string[],\n    action: {\n      type: FilteringActionType;\n      payload?: { filteringModifier: FilteringModifier };\n    }\n  ) {\n    this.columns = this.columns.map(column => {\n      if (columnNames.includes(column.name)) {\n        return {\n          ...column,\n          ...(action.type === FilteringActionType.ApplyFilter\n            ? action.payload.filteringModifier\n            : { filterPredicate: undefined, externalFilterQuery: undefined })\n        };\n      }\n\n      return column;\n    });\n\n    this.updateFilteringApplied();\n    this.reload();\n  }\n\n  updateFilteringApplied() {\n    this.filteringApplied = this.columns.some(this.isColumnFilteringApplied);\n  }\n\n  isColumnFilteringApplied(column: Column): boolean {\n    const { filterable, filterPredicate, externalFilterQuery } = column;\n\n    return !!(filterable && (filterPredicate || externalFilterQuery));\n  }\n\n  updatePagination({ itemsPerPage, page }) {\n    this.pagination = { ...this.pagination, pageSize: itemsPerPage, currentPage: page };\n    this.loadData();\n  }\n\n  reload() {\n    this.pagination = { ...this.pagination, currentPage: 1 };\n    this.recreateLoadMoreComponent = true;\n    this.loadData(true);\n    this.scrollToTop();\n  }\n\n  loadNextPage(): Promise<IResultList<object>> {\n    this.pagination = { ...this.pagination, currentPage: this.pagination.nextPage };\n\n    this.loadData();\n\n    return this.dataSource.resultList$\n      .pipe(take(1)) // in order for `toPromise` to work, the observable needs to complete\n      .toPromise()\n      .then(result => {\n        return {\n          ...result,\n          paging: {\n            ...result.paging,\n            next: this.loadNextPage.bind(this)\n          }\n        } as IResultList<object>;\n      });\n  }\n\n  getCellRendererSpec({ value, row, columnName }): CellRendererSpec {\n    return this._getCellRendererSpec({ type: 'CELL', value, row, columnName });\n  }\n\n  getHeaderCellRendererSpec({ value, columnName }): CellRendererSpec {\n    return this._getCellRendererSpec({ type: 'HEADER', value, row: undefined, columnName });\n  }\n\n  getFilteringFormRendererSpec({ column, dropdown }): FilteringFormRendererSpec {\n    return {\n      renderer:\n        get(this.getColumnRenderer(column), 'filteringFormRendererDef.template') ||\n        column.filteringFormRendererComponent,\n      context: {\n        property: column,\n        applyFilter: this.applyFilter.bind(this, column.name, dropdown),\n        resetFilter: this.resetFilter.bind(this, column.name, dropdown)\n      }\n    };\n  }\n\n  setAllItemsSelected(selected) {\n    this.dataSource.selection$\n      .pipe(first())\n      .subscribe(({ filteredDataIds }) => this.setItemsSelected(filteredDataIds, selected));\n  }\n\n  setAllItemsInCurrentPageSelected(selected) {\n    this.dataSource.data$.pipe(first()).subscribe(data => this.setItemsSelected(data, selected));\n  }\n\n  setItemsSelected(items: any[], selected) {\n    const itemIds = items.map((item: object | string) =>\n      typeof item === 'object' ? item[this.selectionPrimaryKey] : item\n    );\n\n    this.selectedItemIds = selected\n      ? union(this.selectedItemIds, itemIds)\n      : without(this.selectedItemIds, ...itemIds);\n\n    this.itemsSelect.emit(this.selectedItemIds);\n  }\n\n  isItemSelected(item) {\n    return this.selectedItemIds.includes(item[this.selectionPrimaryKey]);\n  }\n\n  onColumnDrop({ previousIndex, currentIndex }) {\n    const differentIndex = previousIndex !== currentIndex;\n\n    if (differentIndex) {\n      const column = this.columns.splice(previousIndex, 1);\n      this.columns.splice(currentIndex, 0, column[0]);\n    }\n\n    this.updateColumnNames();\n    this.updateGridColumnsSize();\n  }\n\n  updateGridColumnsSize() {\n    this.styles = {\n      ...this.styles,\n      gridTemplateColumns: this.sanitizer.bypassSecurityTrustStyle(\n        this.columns\n          .filter(column => column.visible)\n          .map(({ gridTrackSize }) => gridTrackSize)\n          .join(' ')\n      ),\n      gridInfiniteScrollColumn: this.sanitizer.bypassSecurityTrustStyle(\n        `1 / span ${this.columns.length}`\n      )\n    };\n  }\n\n  private updateColumns() {\n    const specialColumn = {\n      gridTrackSize: '42px',\n      sortable: false,\n      positionFixed: true\n    };\n\n    this.columns = [\n      this.selectable ? { ...specialColumn, name: SpecialColumnName.Checkbox } : undefined,\n      ...this.columns,\n      this.actionControls.length > 0\n        ? { ...specialColumn, name: SpecialColumnName.Actions }\n        : undefined\n    ]\n      .filter(Boolean)\n      .map(this.withColumnDefaults);\n\n    this.updateColumnNames();\n    this.updateGridColumnsSize();\n    this.updateFilteringApplied();\n  }\n\n  private withColumnDefaults(column): Column {\n    const dataType = column.dataType || ColumnDataType.TextShort;\n    const { headerCSSClassName, cellCSSClassName } = column;\n\n    return {\n      visible: true,\n      positionFixed: false,\n      sortable: true,\n      sortOrder: '',\n      filterable: false,\n      ...column,\n      dataType,\n      gridTrackSize:\n        column.gridTrackSize ||\n        `minmax(${minColumnGridTrackSize}px, ${ratiosByColumnTypes[dataType]}fr)`,\n      headerCSSClassName:\n        (typeof headerCSSClassName === 'string'\n          ? headerCSSClassName.split(' ')\n          : headerCSSClassName) || [],\n      cellCSSClassName:\n        (typeof cellCSSClassName === 'string' ? cellCSSClassName.split(' ') : cellCSSClassName) ||\n        []\n    };\n  }\n\n  private updateColumnNames() {\n    this.columnNames = this.columns.map(({ name }) => name);\n  }\n\n  private setupResizeHandle() {\n    const resizeHandleDrag$ = this.resizeHandleMouseDown$.pipe(\n      takeUntil(this.unsubscribe$),\n      tap(() => this.clearMouseHighlights()),\n      mergeMap(({ event, targetColumnName }) => {\n        this.columns = this.columns.map(column => {\n          if (column.name === targetColumnName) {\n            return {\n              ...column,\n              headerCSSClassName: union(column.headerCSSClassName, ['header--being-resized'])\n            };\n          }\n\n          return column;\n        });\n\n        this.headerBeingResized = {\n          columnName: targetColumnName,\n          el: event.target.parentNode\n        };\n\n        this.styles = {\n          ...this.styles,\n          tableCursor: 'col-resize'\n        };\n\n        return this.resizeHandleContainerMouseMove$.pipe(\n          tap(() => this.clearMouseHighlights()),\n          takeUntil(this.resizeHandleContainerMouseUp$)\n        );\n      })\n    );\n\n    resizeHandleDrag$.subscribe(event => {\n      requestAnimationFrame(() => {\n        this.columns = this.columns.map((column, i) => {\n          if (column.name === this.headerBeingResized.columnName) {\n            const wrapper = this.hostRef.nativeElement;\n\n            // Read wrapper's offset left relative to the document.\n            const horizontalOffset = wrapper.getBoundingClientRect().left;\n\n            // Adjust with the wrapper horizontal scroll position.\n            const horizontalScrollOffset = wrapper.scrollLeft - horizontalOffset;\n\n            // Calculate the desired width.\n            const width =\n              horizontalScrollOffset + event.clientX - (this.headerBeingResized.el.offsetLeft || 0);\n\n            return {\n              ...column,\n              // Update the column object with the new size value, enforce our minimum size.\n              gridTrackSize: `${Math.max(minColumnGridTrackSize, width)}px`\n            };\n          }\n\n          // For the other headers which don't have a set width, fix it to their computed width.\n          if (column.gridTrackSize.startsWith('minmax')) {\n            return {\n              ...column,\n              // isn't fixed yet (it would be a px value)\n              gridTrackSize: `${_parseInt(this.thEls[i].clientWidth)}px`\n            };\n          }\n\n          return column;\n        });\n\n        /*\n         * Update the column sizes.\n         * Note: grid-template-columns sets the width for all columns in one value.\n         */\n        this.updateGridColumnsSize();\n      });\n    });\n\n    this.resizeHandleContainerMouseUp$.pipe(takeUntil(this.unsubscribe$)).subscribe(() => {\n      if (this.headerBeingResized) {\n        this.columns = this.columns.map(column => {\n          if (column.name === this.headerBeingResized.columnName) {\n            return {\n              ...column,\n              headerCSSClassName: without(column.headerCSSClassName, 'header--being-resized')\n            };\n          }\n\n          return column;\n        });\n        this.headerBeingResized = undefined;\n\n        this.styles = {\n          ...this.styles,\n          tableCursor: 'auto'\n        };\n      }\n    });\n  }\n\n  private clearMouseHighlights() {\n    if (window.getSelection) {\n      window.getSelection().removeAllRanges();\n    }\n  }\n\n  private _getCellRendererSpec({ type, value, row, columnName }): CellRendererSpec {\n    const column = this.columns.find(({ name }) => name === columnName);\n    const columnRenderer = this.getColumnRenderer(column);\n    const rendererTemplate = get(\n      columnRenderer,\n      `${type === 'HEADER' ? 'headerCellRendererDef' : 'cellRendererDef'}.template`\n    );\n\n    const { cellRendererComponent, headerCellRendererComponent } = column;\n    const rendererComponent =\n      type === 'HEADER' ? headerCellRendererComponent : cellRendererComponent;\n\n    return {\n      renderer: rendererTemplate || rendererComponent,\n      context: {\n        value,\n        item: row,\n        property: column\n      }\n    };\n  }\n\n  private getColumnRenderer(column): ColumnDirective {\n    return this.columnRenderers.toArray().find(({ name }) => name === column.name);\n  }\n\n  private loadData(reload: boolean = false) {\n    const {\n      rows,\n      columns,\n      pagination,\n      searchText,\n      serverSideDataCallback,\n      selectable,\n      selectionPrimaryKey,\n      infiniteScroll\n    } = this;\n\n    this.dataSource.loadData({\n      rows,\n      columns,\n      pagination,\n      searchText,\n      serverSideDataCallback,\n      selectable,\n      selectionPrimaryKey,\n      infiniteScroll,\n      reload\n    });\n  }\n\n  private updateFilteringLabelsParams(stats: DataSourceStats) {\n    this.filteringLabelsParams = {\n      filteredItemsCount: stats.filteredSize,\n      allItemsCount: stats.size\n    };\n  }\n\n  private updatePaginationLabelParams(stats: DataSourceStats) {\n    this.pagination.nextPage = stats.nextPage;\n    const pageFirstItemIdx = (stats.currentPage - 1) * stats.firstPageSize + 1;\n    this.paginationLabelParams = {\n      pageFirstItemIdx,\n      pageLastItemIdx: pageFirstItemIdx + (stats.currentPageSize - 1),\n      itemsTotal: stats.filteredSize\n    };\n  }\n\n  private createLoadMoreComponent(stats: DataSourceStats) {\n    if (\n      this.infiniteScroll &&\n      stats &&\n      stats.nextPage &&\n      (!this.loadMoreComponent || this.recreateLoadMoreComponent)\n    ) {\n      this.recreateLoadMoreComponent = false;\n      this.infiniteScrollContainer.clear();\n      const componentFactory: ComponentFactory<any> = this.cfr.resolveComponentFactory(\n        LoadMoreComponent\n      );\n      const componentRef = this.infiniteScrollContainer.createComponent(componentFactory);\n      const instance = componentRef.instance as LoadMoreComponent;\n      instance.useIntersection = this.infiniteScroll === 'auto' || this.infiniteScroll === 'hidden';\n      instance.hidden = this.infiniteScroll === 'hidden';\n      instance.paging = {\n        nextPage: stats.nextPage,\n        next: this.loadNextPage.bind(this)\n      } as Paging<any>;\n      instance.loadNextLabel = this.loadMoreItemsLabel;\n      instance.loadingLabel = this.loadingItemsLabel;\n      this.loadMoreComponent = instance;\n    } else if (this.loadMoreComponent && !stats.nextPage) {\n      this.loadMoreComponent.paging = {\n        nextPage: null\n      } as Paging<any>;\n    }\n  }\n\n  private scrollToTop() {\n    if (this.infiniteScroll) {\n      this.scrollContainer.nativeElement.scrollTop = 0;\n    }\n  }\n}\n","import {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  DoCheck,\n  Injector,\n  Input,\n  OnChanges,\n  TemplateRef,\n  Type\n} from '@angular/core';\n\nimport { CellRendererContext, CellRendererSpec } from './cell-renderer';\n\n@Component({\n  selector: 'c8y-cell-renderer',\n  templateUrl: './cell-renderer.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class CellRendererComponent implements OnChanges, DoCheck {\n  spec: CellRendererSpec;\n  @Input('spec')\n  set _spec(spec: CellRendererSpec) {\n    this.spec = spec;\n  }\n  prevSpec: CellRendererSpec;\n\n  rendererType: 'TEMPLATE' | 'COMPONENT';\n  rendererInjector: Injector;\n\n  constructor(private injector: Injector, private cd: ChangeDetectorRef) {}\n\n  ngOnChanges() {\n    if (!this.prevSpec) {\n      this.prevSpec = this.spec;\n    }\n\n    const { renderer } = this.spec;\n\n    if (renderer instanceof TemplateRef) {\n      this.rendererType = 'TEMPLATE';\n    } else if (renderer instanceof Type) {\n      this.rendererType = 'COMPONENT';\n\n      this.rendererInjector = Injector.create({\n        providers: [{ provide: CellRendererContext, useValue: this.spec.context }],\n        parent: this.injector\n      });\n    }\n  }\n\n  ngDoCheck() {\n    if (!this.spec.context.value === this.prevSpec.context.value) {\n      this.prevSpec = this.spec;\n      this.cd.markForCheck();\n    }\n  }\n}\n","import {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  DoCheck,\n  Injector,\n  Input,\n  OnChanges,\n  TemplateRef,\n  Type\n} from '@angular/core';\nimport { isEqual } from 'lodash-es';\n\nimport { FilteringFormRendererContext, FilteringFormRendererSpec } from './filtering-form-renderer';\n\n@Component({\n  selector: 'c8y-filtering-form-renderer',\n  templateUrl: './filtering-form-renderer.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class FilteringFormRendererComponent implements OnChanges {\n  spec: FilteringFormRendererSpec;\n  @Input('spec')\n  set _spec(spec: FilteringFormRendererSpec) {\n    this.spec = spec;\n  }\n\n  rendererType: 'TEMPLATE' | 'COMPONENT';\n  rendererInjector: Injector;\n  defaultRendererFilterText = '';\n\n  constructor(private injector: Injector, private cd: ChangeDetectorRef) {}\n\n  ngOnChanges() {\n    const { renderer, context } = this.spec;\n\n    if (renderer instanceof TemplateRef) {\n      this.rendererType = 'TEMPLATE';\n    } else if (renderer instanceof Type) {\n      this.rendererType = 'COMPONENT';\n\n      this.rendererInjector = Injector.create({\n        providers: [{ provide: FilteringFormRendererContext, useValue: this.spec.context }],\n        parent: this.injector\n      });\n    }\n\n    const { filterPredicate } = context.property;\n    if (typeof filterPredicate === 'string') {\n      this.defaultRendererFilterText = filterPredicate;\n    }\n  }\n}\n","import { CdkTableModule } from '@angular/cdk/table';\nimport { DragDropModule } from '@angular/cdk/drag-drop';\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { BsDropdownModule } from 'ngx-bootstrap/dropdown';\nimport { PopoverModule } from 'ngx-bootstrap/popover';\nimport { PaginationModule } from 'ngx-bootstrap/pagination';\nimport { CommonModule as C8YCommonModule } from '../common/common.module';\nimport { DataGridComponent } from './data-grid.component';\nimport { ColumnDirective } from './column/column.directive';\nimport { CellRendererDefDirective, HeaderCellRendererDefDirective } from './column/cell-renderer';\nimport { CellRendererComponent } from './column/cell-renderer.component';\nimport { FilteringFormRendererDefDirective } from './column/filtering-form-renderer';\nimport { FilteringFormRendererComponent } from './column/filtering-form-renderer.component';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    CdkTableModule,\n    DragDropModule,\n    FormsModule,\n    ReactiveFormsModule,\n    C8YCommonModule,\n    BsDropdownModule.forRoot(),\n    PopoverModule.forRoot(),\n    PaginationModule.forRoot()\n  ],\n  declarations: [\n    CellRendererDefDirective,\n    HeaderCellRendererDefDirective,\n    CellRendererComponent,\n    FilteringFormRendererDefDirective,\n    FilteringFormRendererComponent,\n    ColumnDirective,\n    DataGridComponent\n  ],\n  exports: [\n    CellRendererDefDirective,\n    HeaderCellRendererDefDirective,\n    FilteringFormRendererDefDirective,\n    ColumnDirective,\n    DataGridComponent\n  ],\n  entryComponents: [DataGridComponent]\n})\nexport class DataGridModule {}\n","import { gettext } from '../i18n/gettext';\nimport { formatDate } from '@angular/common';\n// TODO remove  when c8y-icon will works\n\nexport const deviceAvailabilityIconMap = {\n  sendData: {\n    AVAILABLE: {\n      icon: 'long-arrow-right',\n      class: 'statusOk'\n    },\n    UNAVAILABLE: {\n      icon: 'long-arrow-right',\n      class: 'statusNok'\n    },\n    UNKNOWN: {\n      icon: 'long-arrow-right',\n      class: 'statusUnknown'\n    },\n    NOT_MONITORED: {\n      icon: 'long-arrow-right',\n      class: 'statusUnknown'\n    }\n  },\n  push: {\n    CONNECTED: {\n      icon: 'long-arrow-left',\n      class: 'statusOk'\n    },\n    DISCONNECTED: {\n      icon: 'long-arrow-left',\n      class: 'statusUnknown'\n    },\n    UNKNOWN: {\n      icon: 'long-arrow-left',\n      class: 'statusUnknown'\n    },\n    MAINTENANCE: {\n      icon: 'wrench',\n      class: 'statusAlert'\n    }\n  },\n  device: {\n    MAINTENANCE: {\n      icon: 'wrench',\n      class: 'statusAlert'\n    }\n  }\n};\n\nexport const tooltips = {\n         sendStatusConnected: (lastMessage, translateService) => {\n           const date = formatDate(new Date(lastMessage), 'medium', translateService.currentLang);\n           return translateService.instant(gettext('Device last request:\\n{{date}}'), { date });\n         },\n         sendStatusDisconnected: gettext('Connection not monitored'),\n         pushStatusConnected: gettext('Connection to device established'),\n         pushStatusDisconnected: gettext(\n           'Connection to device not established (not supported by device or no connectivity)'\n         ),\n         maintenance: gettext('Device is under maintenance')\n       };\n\nexport enum PushStatusLabels {\n  CONNECTED = gettext('Push connection: active'),\n  DISCONNECTED = gettext('Push connection: inactive'),\n  UNKNOWN = gettext('Push connection: inactive')\n}\n\nexport enum SendStatusLabels {\n  AVAILABLE = gettext('Send connection: online'),\n  NOT_MONITORED = gettext('Send connection: not monitored'),\n  UNAVAILABLE = gettext('Send connection: offline'),\n  UNKNOWN = gettext('Send connection status unknown'),\n  MAINTENANCE = gettext('Device is under maintenance')\n}\n","import { Component, Input, AfterContentInit, OnChanges } from '@angular/core';\nimport {\n  deviceAvailabilityIconMap,\n  PushStatusLabels,\n  SendStatusLabels,\n  tooltips\n} from './device-availability';\nimport { TranslateService } from '@ngx-translate/core';\nimport { get } from 'lodash-es';\n\n@Component({\n  selector: 'device-status',\n  templateUrl: './device-status.component.html'\n})\nexport class DeviceStatusComponent implements AfterContentInit, OnChanges {\n  @Input('mo') set node(value) {\n    this._mo = value.mo || value;\n  }\n\n  private _mo;\n  private requiredAvailability;\n  private availabilityStatus;\n  private pushStatus;\n  private sendStatus;\n\n  constructor(private translateService: TranslateService) {}\n\n  get() {\n    return this._mo;\n  }\n\n  ngOnChanges() {\n    this.setStatusProperites();\n  }\n\n  ngAfterContentInit() {\n    this.setStatusProperites();\n  }\n\n  setStatusProperites() {\n    this.requiredAvailability = get(this._mo, 'c8y_RequiredAvailability');\n    this.availabilityStatus = get(this._mo, 'c8y_Availability.status');\n\n    this.pushStatus = get(this._mo, 'c8y_Connection.status') || 'UNKNOWN';\n    this.sendStatus =\n      this.availabilityStatus || (this.requiredAvailability ? 'UNKNOWN' : 'NOT_MONITORED');\n  }\n\n  status() {\n    let statuses;\n\n    if (this.availabilityStatus === 'MAINTENANCE' || this.pushStatus === 'MAINTENANCE') {\n      statuses = this.getMaintenanceStatus();\n    } else {\n      statuses = this.getSendPushStatus();\n    }\n\n    return statuses;\n  }\n\n  getMaintenanceStatus() {\n    return {\n      sendStatus: false,\n      pushStatus: false,\n      maintenanceStatus: {\n        icon: deviceAvailabilityIconMap.device.MAINTENANCE.icon,\n        class: deviceAvailabilityIconMap.device.MAINTENANCE.class,\n        tooltip: tooltips.maintenance\n      }\n    };\n  }\n\n  private getSendPushStatus() {\n    return {\n      sendStatus: {\n        icon: deviceAvailabilityIconMap.sendData[this.sendStatus].icon,\n        class: deviceAvailabilityIconMap.sendData[this.sendStatus].class,\n        status: this.sendStatus,\n        label: SendStatusLabels[this.sendStatus],\n        tooltip: this.getSendStatusTooltip(this._mo)\n      },\n      pushStatus: {\n        icon: deviceAvailabilityIconMap.push[this.pushStatus].icon,\n        class: deviceAvailabilityIconMap.push[this.pushStatus].class,\n        status: this.pushStatus,\n        label: PushStatusLabels[this.pushStatus],\n        tooltip: this.getPushStatusTooltip(this.pushStatus === 'CONNECTED')\n      },\n      maintenanceStatus: false\n    };\n  }\n\n  private getSendStatusTooltip(device) {\n    const availability = device && device.c8y_Availability;\n    const lastMessage = availability && availability.lastMessage;\n    if (lastMessage) {\n      return tooltips.sendStatusConnected(lastMessage, this.translateService);\n    }\n    return tooltips.sendStatusDisconnected;\n  }\n\n  private getPushStatusTooltip(isActive) {\n    return isActive ? tooltips.pushStatusConnected : tooltips.pushStatusDisconnected;\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { DeviceStatusComponent } from './device-status.component';\nimport { TooltipModule } from 'ngx-bootstrap/tooltip';\nimport { CommonModule } from '../common/common.module';\n/**\n * The angular module definition for a device-status.\n * @exports DeviceStatusComponent\n */\n@NgModule({\n    imports: [\n        CommonModule,\n        TooltipModule\n    ],\n    exports: [\n        DeviceStatusComponent\n    ],\n    declarations: [\n        DeviceStatusComponent\n    ]\n})\nexport class DeviceStatusModule { }\n","import {\n  Component,\n  ViewChild,\n  ElementRef,\n  Input,\n  OnInit,\n  Output,\n  EventEmitter\n} from '@angular/core';\nimport { some, get, map } from 'lodash-es';\nimport { gettext } from '../i18n/gettext';\n\n@Component({\n  selector: 'c8y-drop-area',\n  templateUrl: './drop-area.component.html'\n})\nexport class DropAreaComponent implements OnInit {\n  @Input() title = gettext('Upload file');\n  @Input() message = gettext('Drop file here');\n  @Input() icon = 'plus-square';\n  @Input() loadingMessage = gettext('Uploading');\n  /** Affects displaying both the drop zone and the list of dropped files. */\n  @Input() alwaysShow = false;\n  @Input() clickToOpen = true;\n  @Input() loading = false;\n  @Input() progress = -1; // -1 = spinner\n  @Output() dropped: EventEmitter<DroppedFile[]> = new EventEmitter();\n  @Input() maxAllowedFiles = Infinity;\n  @Input() files: FileList;\n  isOver: boolean = false;\n  errors: boolean = false;\n  errorMessage: string;\n  filesNameString: string;\n\n  @ViewChild('area', { static: true }) area: ElementRef;\n  @ViewChild('zone', { static: false }) zone: ElementRef;\n  @ViewChild('picker', { static: false }) picker: ElementRef;\n\n  ngOnInit() {\n    this.alwaysShow = this.alwaysShow || this.area.nativeElement.children.length === 0;\n    if (this.files && this.files.length > 0) {\n      this.onFilesSelected(this.files);\n    }\n  }\n\n  toggle($event?) {\n    this.zone.nativeElement.style.height = this.area.nativeElement.offsetHeight + 'px';\n    this.onOver();\n  }\n\n  showPicker($event?) {\n    this.preventDefault($event);\n    this.picker.nativeElement.value = '';\n    this.picker.nativeElement.click();\n  }\n\n  onOver() {\n    if (!this.isOver) {\n      this.isOver = true;\n      document.addEventListener('dragover', this.preventDefault);\n      document.addEventListener('drop', this.preventDefault);\n    }\n  }\n\n  onPick($event) {\n    this.errors = false;\n    this.preventDefault($event);\n    this.onFilesSelected($event.target.files);\n  }\n\n  onDrop($event) {\n    this.preventDefault($event);\n    this.onFilesSelected($event.dataTransfer.files);\n    this.stopDragging();\n  }\n\n  onFilesSelected(files: FileList) {\n    this.files = files;\n    this.filesNameString = this.getFilesNamesAsString(files);\n    this.errors = false;\n    if (!this.isFilesArrayEmpty() && !this.isTooManyFiles()) {\n      if (this.hasEmptyFiles()) {\n        this.errors = true;\n        this.errorMessage = gettext('File must not be empty, select another one.');\n      } else {\n        this.dropped.emit(this.compose(files));\n      }\n    } else {\n      this.errors = true;\n      this.errorMessage = gettext('Too many files selected.');\n    }\n  }\n\n  getFilesNamesAsString(files: FileList): string {\n    return map(files, ({ name }) => name).join(', ');\n  }\n\n  isFilesArrayEmpty() {\n    return get(this, 'files.length', 0) === 0;\n  }\n\n  isTooManyFiles() {\n    return get(this, 'files.length', 0) > this.maxAllowedFiles;\n  }\n\n  hasEmptyFiles() {\n    let result = true;\n    if (!this.isFilesArrayEmpty()) {\n      result = this.isAnyFileEmpty();\n    }\n    return result;\n  }\n\n  isAnyFileEmpty(): boolean {\n    return some(Array.from(this.files), ['size', 0]);\n  }\n\n  shouldShowFilesList() {\n    return (\n      this.alwaysShow &&\n      !this.isFilesArrayEmpty() &&\n      !this.hasEmptyFiles() &&\n      !this.isTooManyFiles()\n    );\n  }\n\n  stopDragging() {\n    document.removeEventListener('dragover', this.preventDefault);\n    document.removeEventListener('drop', this.preventDefault);\n    this.isOver = false;\n  }\n\n  onDelete() {\n    delete this.files;\n    delete this.filesNameString;\n    this.clearErrors();\n    this.dropped.emit(undefined);\n  }\n\n  clearErrors() {\n    delete this.errorMessage;\n    this.errors = false;\n  }\n\n  private preventDefault($event?) {\n    if ($event) {\n      $event.preventDefault();\n    }\n  }\n\n  private compose(files: FileList) {\n    return Array.from(files).map(file => ({\n      file,\n      readAsJson: async () => JSON.parse(await this.read(file, ReadAsType.TEXT)),\n      readAsText: async () => this.read(file, ReadAsType.TEXT),\n      readAsArrayBuffer: async () => this.read(file, ReadAsType.ARRAY_BUFFER),\n      readAsBinaryString: async () => this.read(file, ReadAsType.BINARY_STRING),\n      readAsDataURL: async () => this.read(file, ReadAsType.DATA_URL)\n    }));\n  }\n\n  private async read(file, type: ReadAsType): Promise<string> {\n    return new Promise<string>((resolve, reject) => {\n      const reader = new FileReader();\n      switch (type) {\n        case ReadAsType.TEXT: {\n          reader.readAsText(file);\n          break;\n        }\n        case ReadAsType.ARRAY_BUFFER: {\n          reader.readAsArrayBuffer(file);\n          break;\n        }\n        case ReadAsType.BINARY_STRING: {\n          reader.readAsBinaryString(file);\n          break;\n        }\n        case ReadAsType.DATA_URL: {\n          reader.readAsDataURL(file);\n          break;\n        }\n      }\n      reader.onload = () => this.onLoad(reader, resolve, reject);\n    });\n  }\n\n  private onLoad(reader, resolve, reject) {\n    if (reader.readyState !== 2) {\n      return;\n    }\n    if (reader.error) {\n      reject(reader.error);\n    }\n    resolve(reader.result);\n  }\n}\n\nexport interface DroppedFile {\n  file: File;\n  readAsText();\n  readAsArrayBuffer();\n  readAsBinaryString();\n  readAsDataURL();\n  readAsJson();\n}\n\nenum ReadAsType {\n  TEXT,\n  DATA_URL,\n  ARRAY_BUFFER,\n  BINARY_STRING\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '../common/common.module';\nimport { DropAreaComponent } from './drop-area.component';\n\n/**\n * The angular module definition for a drop-area.\n * @exports DropAreaComponent\n */\n@NgModule({\n  imports: [\n    CommonModule,\n  ],\n  exports: [\n    DropAreaComponent,\n  ],\n  declarations: [\n    DropAreaComponent,\n  ]\n})\nexport class DropAreaModule { }\n","import { Component, Output, Input, EventEmitter, ViewChild, OnInit } from '@angular/core';\nimport { DroppedFile, DropAreaComponent } from '../drop-area/drop-area.component';\nimport { PickedFiles } from './file-picker.model';\n\n@Component({\n  selector: 'c8y-file-picker',\n  templateUrl: './file-picker.component.html'\n})\nexport class FilePickerComponent implements OnInit {\n  @ViewChild(DropAreaComponent, {static: true}) dropArea: DropAreaComponent;\n  @Output() onFilesPicked: EventEmitter<PickedFiles> = new EventEmitter();\n  @Input() maxAllowedFiles = Infinity;\n  @Input() uploadChoice: 'uploadBinary' | 'uploadUrl' = 'uploadBinary';\n  @Input() fileUrl: string;\n  @Input() fileBinary: DroppedFile;\n\n  droppedFiles: DroppedFile[];\n  private fileToSave: PickedFiles;\n\n  ngOnInit() {\n   if (this.fileBinary) {\n     this.droppedFiles = [this.fileBinary];\n   }\n  }\n\n  onFileDropped(droppedFiles: DroppedFile[]) {\n    this.onFilesPicked.emit({\n      droppedFiles\n    });\n  }\n\n  clearInputFromUrl() {\n    delete this.fileUrl;\n    this.fileToSave = {\n      url: undefined\n    };\n    this.onFilesPicked.emit(this.fileToSave);\n  }\n\n  clearSelectedFiles() {\n    this.dropArea.onDelete();\n    this.fileToSave = {\n      droppedFiles: undefined\n    };\n    this.onFilesPicked.emit(this.fileToSave);\n  }\n\n  onFileUrlChange(urlStr) {\n    this.fileToSave = {\n      url: urlStr\n    };\n    this.onFilesPicked.emit(this.fileToSave);\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule as C8yCommonModule } from '../common/common.module';\nimport { FilePickerComponent } from './file-picker.component';\nimport { DropAreaModule } from '../drop-area/drop-area.module';\nimport { FormsModule } from '@angular/forms';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule as C8yFormsModule } from '../forms/public-api';\n\n/**\n * The angular module definition for a drop-area.\n * @exports FilePickerComponent\n */\n@NgModule({\n  imports: [\n    C8yFormsModule,\n    CommonModule,\n    DropAreaModule,\n    FormsModule,\n    C8yCommonModule\n  ],\n  exports: [\n    FilePickerComponent,\n  ],\n  declarations: [\n    FilePickerComponent,\n  ]\n})\nexport class FilePickerModule { }\n","import { Component, Input } from '@angular/core';\n\n@Component({\n  selector: 'c8y-list-group',\n  templateUrl: './list-group.component.html',\n  host: {\n    class: 'c8y-list__group'\n  }\n})\nexport class ListGroupComponent {\n\n}\n","import { Component, Output, Input, ViewChild, EventEmitter } from '@angular/core';\n\n@Component({\n  selector: 'c8y-list-item-action, c8y-li-action',\n  templateUrl: './list-item-action.component.html'\n})\nexport class ListItemActionComponent {\n  @ViewChild('template', { static: false })\n  template: any;\n  @Input()\n  label: string;\n  @Input()\n  icon: string;\n  @Output()\n  click = new EventEmitter<any>();\n}\n","import { Component, Input } from '@angular/core';\n\n@Component({\n  selector: 'c8y-list-item-collapse, c8y-li-collapse',\n  templateUrl: './list-item-collapse.component.html'\n})\nexport class ListItemCollapseComponent {\n\n  @Input()\n  item: any;\n\n}\n","import { Component, Input } from '@angular/core';\n\n@Component({\n  selector: 'c8y-list-item-footer, c8y-li-footer',\n  templateUrl: './list-item-footer.component.html'\n})\nexport class ListItemFooterComponent {\n\n  @Input()\n  footer: string;\n\n}\n","import {\n  Component,\n  ContentChild,\n  ElementRef,\n  ContentChildren,\n  HostBinding,\n  Input,\n  Output,\n  EventEmitter,\n  QueryList\n} from '@angular/core';\nimport { Subject } from 'rxjs';\nimport { takeUntil, filter, tap, delay } from 'rxjs/operators';\nimport { ListItemActionComponent } from './list-item-action.component';\nimport { ListItemCollapseComponent } from './list-item-collapse.component';\nimport { ListItemFooterComponent } from './list-item-footer.component';\n\n@Component({\n  selector: 'c8y-list-item, c8y-li',\n  templateUrl: './list-item.component.html',\n  host: {\n    class: 'c8y-list__item'\n  }\n})\nexport class ListItemComponent {\n  @Input()\n  @HostBinding('class.active')\n  active: boolean = false;\n  @Input()\n  collapsed: boolean = true;\n  @Output()\n  collapsedChange = new EventEmitter<boolean>();\n  @ContentChild(ListItemFooterComponent, { static: false })\n  itemFooter: ListItemFooterComponent;\n  @ContentChildren(ListItemActionComponent)\n  itemActions: QueryList<ListItemActionComponent>;\n  @ContentChild(ListItemCollapseComponent, { static: false })\n  itemCollapse: ListItemCollapseComponent;\n\n  showFooter: boolean = false;\n  showActions: boolean = false;\n  showCollapse: boolean = false;\n  actions: ListItemActionComponent[];\n  dropdownUp: boolean = false;\n\n  private pulse$: Subject<boolean> = new Subject<boolean>();\n  private destroy$: Subject<any> = new Subject();\n  private readonly ACTION_ITEM_HEIGHT = 40;\n\n  constructor(public element: ElementRef) {}\n\n  ngOnInit(): void  {\n    this.pulse$.pipe(filter(apply => !!apply),\n    tap(() => this.element.nativeElement.classList.remove('c8y-list--pulse')),\n    delay(100),\n    tap(() => this.element.nativeElement.classList.add('c8y-list--pulse')),\n    takeUntil(this.destroy$)).subscribe();\n  }\n\n  ngAfterContentChecked(): void {\n    this.actions = this.itemActions.toArray();\n    this.showFooter = this.itemFooter != null;\n    this.showActions = this.itemActions.length > 0;\n    this.showCollapse = this.itemCollapse != null;\n  }\n\n  ngOnDestroy() {\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n\n  /**\n   * A helper function which helps to determine if the dropdown\n   * should toggle up.\n   */\n  showDropdownUp() {\n    const rect = this.element.nativeElement.getBoundingClientRect();\n    this.dropdownUp =\n      rect.bottom + this.itemActions.length * this.ACTION_ITEM_HEIGHT > window.innerHeight;\n  }\n\n  /**\n   * Toggles the collapse state and emits this state as\n   * collapsedChange output as boolean.\n   */\n  toggleCollapsed() {\n    this.collapsed = !this.collapsed;\n    this.collapsedChange.emit(this.collapsed);\n  }\n\n  /**\n   * Highlights the list-item. This method should be used to show the\n   * user that something within this item was changed.\n   */\n  pulse() {\n    this.pulse$.next(true);\n  }\n}\n","import { Component, Input } from '@angular/core';\n\n@Component({\n  selector: 'c8y-list-item-icon, c8y-li-icon',\n  templateUrl: './list-item-icon.component.html',\n  host: {\n    class: 'c8y-list__item__icon'\n  }\n})\nexport class ListItemIconComponent {\n  @Input()\n  icon: string;\n\n  @Input()\n  status?: 'statusOk' | 'statusUnknown' | 'statusAlert' | 'statusNok' | 'status critical' | 'status warning' | 'status minor' | 'status major';\n}\n","import { Component, Input } from '@angular/core';\n\n@Component({\n  selector: 'c8y-list-item-body, c8y-li-body',\n  templateUrl: './list-item-body.component.html'\n})\nexport class ListItemBodyComponent {\n\n  @Input()\n  body: string;\n\n}\n","import { Output, EventEmitter, Component, Input, SimpleChanges } from '@angular/core';\n\n@Component({\n  selector: 'c8y-list-item-checkbox, c8y-li-checkbox',\n  templateUrl: './list-item-checkbox.component.html',\n  host: {\n    class: 'c8y-list__item__check'\n  }\n})\nexport class ListItemCheckboxComponent {\n  @Input()\n  selected = false;\n  @Output()\n  onSelect = new EventEmitter<boolean>();\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes.selected && !changes.selected.firstChange) {\n      this.onSelect.emit(changes.selected.currentValue);\n    }\n  }\n}\n","import {\n  Component,\n  ElementRef,\n  EventEmitter,\n  Input,\n  Output,\n  SimpleChanges,\n  ViewChild\n} from '@angular/core';\n\n@Component({\n  selector: 'c8y-list-item-radio, c8y-li-radio',\n  templateUrl: './list-item-radio.component.html',\n  host: {\n    class: 'c8y-list__item__radio'\n  }\n})\nexport class ListItemRadioComponent {\n  @ViewChild('radio', { static: true }) radio: ElementRef;\n  @Input()\n  selected = false;\n  @Input()\n  name = 'list_item_radio';\n  @Input()\n  disabled: boolean = false;\n  @Output()\n  onSelect = new EventEmitter<boolean>();\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes.selected && !changes.selected.firstChange) {\n      this.onSelect.emit(changes.selected.currentValue);\n    }\n  }\n\n  reset() {\n    this.radio.nativeElement.checked = false;\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { ListGroupComponent } from './list-group.component';\nimport { ListItemComponent } from './list-item.component';\nimport { CommonModule } from '../common/common.module';\nimport { BsDropdownModule } from 'ngx-bootstrap/dropdown';\nimport { CollapseModule } from 'ngx-bootstrap/collapse';\nimport { ListItemIconComponent } from './list-item-icon.component';\nimport { ListItemBodyComponent } from './list-item-body.component';\nimport { ListItemFooterComponent } from './list-item-footer.component';\nimport { ListItemActionComponent } from './list-item-action.component';\nimport { ListItemCollapseComponent } from './list-item-collapse.component';\nimport { ListItemCheckboxComponent } from './list-item-checkbox.component';\nimport { ListItemRadioComponent } from './list-item-radio.component';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    CollapseModule.forRoot(),\n    BsDropdownModule\n  ],\n  declarations: [\n    ListGroupComponent,\n    ListItemComponent,\n    ListItemIconComponent,\n    ListItemBodyComponent,\n    ListItemFooterComponent,\n    ListItemActionComponent,\n    ListItemCollapseComponent,\n    ListItemCheckboxComponent,\n    ListItemRadioComponent\n  ],\n  exports: [\n    ListGroupComponent,\n    ListItemComponent,\n    ListItemIconComponent,\n    ListItemBodyComponent,\n    ListItemFooterComponent,\n    ListItemActionComponent,\n    ListItemCollapseComponent,\n    ListItemCheckboxComponent,\n    ListItemRadioComponent\n  ]\n})\nexport class ListGroupModule {}\n","import { Component, Input } from '@angular/core';\nimport { RealtimeService } from './realtime.service';\n\n@Component({\n  selector: 'c8y-realtime-btn',\n  templateUrl: './realtime-button.component.html'\n})\nexport class RealtimeButtonComponent {\n  @Input()\n  service: RealtimeService<any>;\n\n  get active(): boolean {\n    return !!this.service && this.service.active;\n  }\n\n  toggle() {\n    if (this.service) {\n      this.active ? this.service.stop() : this.service.start();\n    }\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '../common/common.module';\nimport { RealtimeButtonComponent } from './realtime-button.component';\n\n@NgModule({\n  imports: [CommonModule],\n  declarations: [RealtimeButtonComponent],\n  exports: [RealtimeButtonComponent]\n})\nexport class RealtimeModule {}\n","import { IIdentified } from '@c8y/client';\n\nexport interface ISelectModalObject {\n  groupId: string | number;\n  body: ISelectModalBodyPart[];\n  options: ISelectModalOption[];\n  additionalInformation?: ISelectModalBodyPart;\n}\n\nexport interface ISelectModalOption {\n  body: ISelectModalBodyPart[];\n  obj: IIdentified;\n  selected?: boolean;\n}\n\nexport interface ISelectModalBodyPart {\n  value: string;\n  class?: string;\n}\n\nexport interface ModalLabels {\n  ok?: string;\n  cancel?: string;\n}\n\nexport enum ModalSelectionMode {\n  SINGLE = 'single',\n  MULTI = 'multi'\n}\n","import { Component, Input, EventEmitter, SimpleChanges, Output } from '@angular/core';\nimport { gettext } from '../i18n/gettext';\nimport { BsModalRef } from 'ngx-bootstrap';\nimport {\n  ISelectModalObject,\n  ModalSelectionMode,\n  ModalLabels\n} from './select-modal.model';\nimport { assign } from 'lodash-es';\nimport { Subject } from 'rxjs';\nimport { debounceTime } from 'rxjs/operators';\nimport { IIdentified } from '@c8y/client';\n\ninterface ISelectModalInternalObject extends ISelectModalObject {\n  selectedId: string | number;\n}\n\n@Component({\n  selector: 'c8y-select-modal',\n  templateUrl: './select-modal.component.html'\n})\nexport class SelectModalComponent {\n  @Input() icon: string;\n  @Input() title: string;\n  @Input() subTitle: string = gettext('Select from the list of items matching the device type');\n  @Input() items: ISelectModalInternalObject[];\n  @Input() mode: ModalSelectionMode = ModalSelectionMode.MULTI;\n  @Input() disableSelected: boolean = true;\n  @Input() showFilter: boolean = true;\n  @Input() areMoreEntries: boolean = false;\n  @Input() set labels(labels: ModalLabels) {\n    const { ok = this.labels.ok, cancel = this.labels.cancel } = labels || {};\n    this._labels = { ok, cancel };\n  }\n  get labels(): ModalLabels {\n    return this._labels;\n  }\n  @Output() result: EventEmitter<IIdentified | IIdentified[]> = new EventEmitter<\n    IIdentified | IIdentified[]\n  >();\n  @Output() search: EventEmitter<string> = new EventEmitter<string>();\n  selected = false;\n  filterTerm: string = '';\n  listItems = [];\n  private debouncer: Subject<string> = new Subject<string>();\n  private _labels: ModalLabels = { ok: gettext('Confirm'), cancel: gettext('Cancel') };\n\n  constructor(private bsModalRef: BsModalRef) {\n    this.debouncer.pipe(debounceTime(500)).subscribe(value => {\n      this.search.emit(value);\n    });\n  }\n\n  async ngOnChanges(changes: SimpleChanges) {\n    if (changes.items && changes.items.currentValue) {\n      const itemsPromise = changes.items.currentValue.map(async item => {\n        item.options = await item.options;\n        const selected = item.options.find(option => option.selected);\n        if (selected) {\n          item.selectedId = selected.obj.id;\n          if (this.disableSelected) {\n            item.options.map(option => assign(option, { disabled: true }));\n          }\n        }\n        return item;\n      });\n      this.listItems = await Promise.all(itemsPromise);\n    }\n  }\n\n  updatePipe(filterTerm: string) {\n    this.debouncer.next(filterTerm);\n    this.filterTerm = filterTerm;\n  }\n\n  updateChoice({ item, id }) {\n    if (this.mode === 'single') {\n      this.listItems.map(value => (value.selectedId = undefined));\n    }\n    item.selectedId = id;\n    this.selected = true;\n  }\n\n  dismiss() {\n    this.bsModalRef.hide();\n  }\n\n  select() {\n    const outputArray = this.getOutput();\n    const output = this.mode === 'single' ? outputArray[0] : outputArray;\n    this.result.emit(output);\n    this.bsModalRef.hide();\n  }\n\n  ngOnDestroy() {\n    this.debouncer.complete();\n    this.result.complete();\n    this.search.complete();\n  }\n\n  private getOutput(): IIdentified | IIdentified[] {\n    return this.listItems\n      .filter(item => item.selectedId)\n      .map(item => item.options.find(option => item.selectedId === option.obj.id))\n      .map(selectedOption => selectedOption.obj);\n  }\n}\n","import { Pipe, PipeTransform } from '@angular/core';\nimport { ISelectModalObject } from './select-modal.model';\n\n@Pipe({\n  name: 'selectModalFilterPipe',\n})\nexport class SelectModalFilterPipe implements PipeTransform {\n  transform(items: ISelectModalObject[], filterTerm: string): any {\n    return filterTerm.trim().length === 0\n      ? items\n      : items.filter((item: ISelectModalObject) => {\n        const allValues = this.extractValues(item);\n        const filteredValues = allValues.filter((value) => this.filterContainString(value, filterTerm));\n        return filteredValues.length > 0;\n      });\n  }\n\n  private filterContainString(value: string, filterTerm: string) {\n    const term = filterTerm.toLowerCase().trim();\n    return value && value.toLowerCase().indexOf(term) > -1;\n  }\n\n  private extractValues(item) {\n    let values = [];\n    if ( item.value ) {\n      values.push(item.value);\n    }\n    Object.keys(item).forEach((key) => {\n      if (Array.isArray(item[key])) {\n        item[key].forEach( obj => values.concat(this.extractValues(obj)) );\n      }\n      if (item[key] instanceof Object) {\n        values = values.concat(this.extractValues(item[key]));\n      }\n    });\n    return values;\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { BsDropdownModule } from 'ngx-bootstrap/dropdown';\nimport { CommonModule } from '../common/common.module';\nimport { ListGroupModule } from '../list-group/list-group.module';\nimport { FormsModule } from '../forms/forms.module';\nimport { SelectModalComponent } from './select-modal.component';\nimport { SelectModalFilterPipe } from './select-modal-filter.pipe';\nimport { SearchModule } from '../search/search.module';\n\n@NgModule({\n  imports: [\n    BsDropdownModule.forRoot(),\n    CommonModule,\n    ListGroupModule,\n    SearchModule,\n    FormsModule\n  ],\n  exports: [\n    SelectModalComponent,\n    SelectModalFilterPipe\n  ],\n  declarations: [\n    SelectModalComponent,\n    SelectModalFilterPipe\n  ]\n})\nexport class SelectModalModule { }\n","import { BsDropdownDirective } from 'ngx-bootstrap/dropdown';\nimport { gettext } from '../i18n/gettext';\nimport {\n  Component,\n  EventEmitter,\n  HostListener,\n  Input,\n  OnChanges,\n  Output,\n  SimpleChanges,\n  ViewChild\n} from '@angular/core';\n\nexport interface Item {\n  name: string;\n  _selected?: boolean;\n  [key: string]: any;\n}\n\nexport type selectedFunction = (item: Item) => boolean;\nexport type selectedLabelFunction = (items: Item[]) => string;\n\n@Component({\n  selector: 'c8y-select',\n  templateUrl: './select.component.html'\n})\nexport class SelectComponent implements OnChanges {\n  @Input() placeholder: string = gettext('Select item');\n  @Input() selectedLabel: string | selectedLabelFunction;\n  @Input() applyLabel: string = gettext('Apply');\n  @Input() items: Item[];\n  @Input() selected: Item[] | selectedFunction;\n  @Output() onChange: EventEmitter<Item[]> = new EventEmitter();\n  @ViewChild(BsDropdownDirective, { static: false }) dropdown: BsDropdownDirective;\n  textFilter = '';\n  labelText = '';\n  isOpen = false;\n  filteredItems: Item[] = [];\n  searchFilter = null;\n  readonly sizeToShowFilter: number = 5;\n  labelsForSelectAll: any = {\n    all: gettext('All'),\n    allFiltered: gettext('All filtered')\n  };\n  showAllLabel = false;\n  private itemsSelected: Set<Item> = new Set();\n  private stopClicks = false;\n\n  @HostListener('click', ['$event'])\n  preventClick(evt) {\n    if (this.stopClicks) {\n      evt.stopPropagation();\n    }\n    this.stopClicks = this.isOpen;\n  }\n\n  isOpenChange(isOpen: boolean) {\n    this.isOpen = isOpen;\n    if (isOpen) {\n      this.updateSelected();\n      this.searchFilter = null;\n    } else {\n      this.stopClicks = false;\n    }\n  }\n\n  outterSelected(item: Item) {\n    const { selected } = this;\n    let isSelected: any = () => false;\n    if (typeof selected === 'function') {\n      isSelected = selected;\n    } else if (Array.isArray(selected)) {\n      isSelected = (i: Item) => selected.indexOf(i) > -1;\n    }\n    return isSelected(item);\n  }\n\n  isSelected(item: Item) {\n    return this.itemsSelected.has(item);\n  }\n\n  isAllItemsSelected() {\n    return this.itemsSelected.size === this.items.length;\n  }\n\n  isAllFilteredSelected() {\n    return this.itemsSelected.size === this.filteredItems.length;\n  }\n\n  applyChanges() {\n    const selected = Array.from(this.itemsSelected.values());\n    this.onChange.emit(selected);\n    this.dropdown.hide();\n  }\n\n  selectAll(checked: boolean) {\n    this.filteredItems.forEach(item => this.onChangeItem(checked, item));\n  }\n\n  onChangeItem(checked: boolean, item: Item) {\n    if (checked) {\n      this.itemsSelected.add(item);\n    } else {\n      this.itemsSelected.delete(item);\n    }\n  }\n\n  updateFiltered(term: string) {\n    if (term) {\n      const search = new RegExp(term, 'i');\n      this.filteredItems = this.items.filter(({ name }) => search.test(name));\n    } else {\n      this.filteredItems = this.items;\n    }\n  }\n\n  getSelectAllToggleStatus() {\n    const label = this.getLabel();\n    const checked = this.isAllSelected();\n    const indeterminate = !checked && this.itemsSelected.size > 0;\n\n    return { label, checked, indeterminate};\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (this.isOpen) {\n      return;\n    }\n    if (changes.items || changes.selected || changes.applyLabel) {\n      this.updateSelected();\n      this.updateLabel();\n      this.showAllLabel = this.isAllItemsSelected();\n    }\n  }\n\n  private updateLabel() {\n    const outterSelected = this.items.filter(i => this.outterSelected(i));\n    if (typeof this.selectedLabel === 'string') {\n      this.labelText = this.selectedLabel;\n    } else if (typeof this.selectedLabel === 'function') {\n      this.labelText = this.selectedLabel(outterSelected);\n    } else {\n      this.labelText = outterSelected.map(({ name }) => name).join(', ');\n    }\n  }\n\n  private updateSelected() {\n    const { itemsSelected, items } = this;\n    itemsSelected.clear();\n    items.forEach(item => {\n      if (this.outterSelected(item)) {\n        itemsSelected.add(item);\n      }\n    });\n    this.filteredItems = items;\n  }\n\n  private isAllSelected() {\n    if (this.getLabel() === this.labelsForSelectAll.allFiltered) {\n      return this.isAllFilteredSelected();\n    } else {\n      return this.isAllItemsSelected();\n    }\n  }\n\n  private getLabel() {\n    return this.searchFilter ? this.labelsForSelectAll.allFiltered : this.labelsForSelectAll.all;\n  }\n}\n","import {\n  ContentChildren,\n  Input,\n  Output,\n  EventEmitter,\n  Component,\n  ViewChild,\n  ElementRef,\n  QueryList,\n  forwardRef\n} from '@angular/core';\nimport { NG_VALIDATORS, Validator, AbstractControl } from '@angular/forms';\nimport { fromEvent, Subscription } from 'rxjs';\nimport { debounceTime, map, distinctUntilChanged, filter } from 'rxjs/operators';\nimport { IIdentified } from '@c8y/client';\nimport { BsDropdownDirective } from 'ngx-bootstrap/dropdown';\nimport { ListItemComponent } from '../list-group/list-item.component';\nimport { findIndex, get, set } from 'lodash-es';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\n\n@Component({\n  selector: 'c8y-typeahead',\n  templateUrl: './typeahead.component.html',\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      multi: true,\n      useExisting: forwardRef(() => TypeaheadComponent)\n    },\n    {\n      provide: NG_VALIDATORS,\n      useExisting: forwardRef(() => TypeaheadComponent),\n      multi: true\n    }\n  ]\n})\nexport class TypeaheadComponent implements ControlValueAccessor, Validator {\n  @ViewChild('searchControl', { static: false }) searchControl: ElementRef;\n  @ViewChild('dropdown', { static: false }) dropdown: BsDropdownDirective;\n  @ContentChildren(ListItemComponent) list: QueryList<ListItemComponent>;\n\n  @Input()\n  required: boolean = false;\n\n  @Input()\n  disabled: boolean = false;\n\n  @Input()\n  allowFreeEntries: boolean = true;\n\n  @Input()\n  placeholder: string;\n\n  @Input()\n  displayProperty: string = 'name';\n\n  @Input()\n  name: string = this.displayProperty;\n\n  @Input()\n  selected: IIdentified = {\n    id: null\n  };\n\n  @Output()\n  selectedChange = new EventEmitter<IIdentified>();\n\n  @Output()\n  onSearch = new EventEmitter<string>();\n\n  private subscription: Subscription;\n  private onChange: (name) => void;\n  private onTouched: () => void;\n\n  private readonly KEYCODE_UP = 38;\n  private readonly KEYCODE_DOWN = 40;\n  private readonly KEYCODE_TAB = 9;\n  private readonly KEYCODE_ENTER = 13;\n  private readonly KEYCODE_ESC = 27;\n\n  writeValue(value) {\n    this.selected = value;\n  }\n\n  registerOnChange(fn: any): void {\n    this.onChange = fn;\n  }\n\n  registerOnTouched(fn: any): void {\n    this.onTouched = fn;\n  }\n\n  doBlur() {\n    if (this.onTouched) {\n      this.onTouched();\n    }\n  }\n\n  getDisplayProperty() {\n    return get(this.selected, this.displayProperty, '');\n  }\n\n  onShown() {\n    this.searchControl.nativeElement.focus();\n  }\n\n  ngOnDestroy(): void {\n    if (this.subscription) {\n      this.subscription.unsubscribe();\n    }\n  }\n\n  ngAfterViewInit(): void {\n    this.subscription = fromEvent(this.searchControl.nativeElement, 'keydown')\n      .pipe(\n        map((e: any) => this.handleKeyboard(e)),\n        filter((e: any) => e),\n        debounceTime(200),\n        map((e: any) => e.target.value),\n        distinctUntilChanged()\n      )\n      .subscribe(value => {\n        this.selected = {\n          id: null\n        };\n        set(this.selected, this.displayProperty, value || '');\n\n        this.onChange(this.selected);\n        this.selectedChange.emit(this.selected);\n        this.onSearch.emit(value);\n      });\n  }\n\n  handleKeyboard(event): void {\n    const keyCode = event.keyCode;\n    if (\n      [this.KEYCODE_ENTER, this.KEYCODE_DOWN, this.KEYCODE_TAB, this.KEYCODE_UP].includes(keyCode)\n    ) {\n      const items = this.list.toArray();\n      const index = findIndex(items, item => item.active);\n      if (keyCode === this.KEYCODE_ENTER || keyCode === this.KEYCODE_TAB) {\n        if (index > -1) {\n          event.preventDefault();\n          items[index].element.nativeElement.click();\n        }\n        this.dropdown.hide();\n        this.searchControl.nativeElement.blur();\n      } else {\n        this.dropdown.show();\n        const upOrDown = keyCode === this.KEYCODE_DOWN ? 1 : -1;\n        if (index > -1) {\n          items[index].active = false;\n        }\n        if (items[index + upOrDown]) {\n          items[index + upOrDown].active = true;\n        }\n      }\n      return;\n    } else if (keyCode === this.KEYCODE_ESC) {\n      event.stopPropagation();\n      this.dropdown.hide();\n      this.searchControl.nativeElement.blur();\n      return;\n    } else {\n      this.dropdown.show();\n    }\n    return event;\n  }\n\n  validate(ctrl: AbstractControl): { [key: string]: any } {\n    if (this.required && !this.getDisplayProperty()) {\n      return { required: true };\n    }\n\n    if (!this.allowFreeEntries && this.selected && this.selected.id === null) {\n      return { notExisting: true };\n    }\n\n    return null;\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { BsDropdownModule } from 'ngx-bootstrap/dropdown';\nimport { SelectComponent } from './select.component';\nimport { CommonModule } from '../common/common.module';\nimport { TypeaheadComponent } from './typeahead.component';\nimport { ListGroupModule } from '../list-group/list-group.module';\nimport { FormsModule } from '../forms/forms.module';\n\n/**\n * The angular module definition for a select.\n * @exports SelectComponent\n */\n@NgModule({\n  imports: [\n    BsDropdownModule.forRoot(),\n    CommonModule,\n    ListGroupModule,\n    FormsModule\n  ],\n  exports: [\n    SelectComponent,\n    TypeaheadComponent\n  ],\n  declarations: [\n    SelectComponent,\n    TypeaheadComponent\n  ]\n})\nexport class SelectModule { }\n","import { Directive, Input, TemplateRef } from '@angular/core';\nimport { StepState } from '@angular/cdk/stepper';\n\n/**\n * Template to be used to override the icons inside the step header.\n */\n@Directive({\n  selector: 'ng-template[c8yStepperIcon]'\n})\nexport class C8yStepperIcon {\n  /** Name of the icon to be overridden. */\n  @Input('c8yStepperIcon') name: StepState;\n\n  constructor(public templateRef: TemplateRef<any>) {}\n}\n","import {\n  Component,\n  TemplateRef,\n  Input,\n  Output,\n  ContentChildren,\n  QueryList,\n  AfterContentInit,\n  OnDestroy,\n  EventEmitter\n} from '@angular/core';\nimport { CdkStepper, StepState, STEP_STATE } from '@angular/cdk/stepper';\nimport { C8yStepperIcon } from './stepper-icon.directive';\nimport { Subject, Subscription } from 'rxjs';\n\n/**\n * C8yStepper extends the CdkStepper. You can use cdk based functionality and inputs.\n * Additional to that you are able to modify the behavior and also the look and feel when\n * using the C8yStepper.\n *\n * The C8yStepper is used to present any step-based process to the user.\n * A stepper, C8yStepper and/or CdkStepper is the parent of cdk-steps.\n * Each cdk-step represents one step in the whole process that you want to provide to the user.\n *\n * The C8yStepper will create, based on the given cdk-steps, a kind of stepper-progress which looks like this:\n * (1)---(2)---(3)---(n)\n * The stepper will handle the state of each step and provides styles for active steps, done-steps or in edit-mode.\n * You are able to override icons for each step in the stepper-progress with a template. You are also able to activate\n * default-icons for states like 'edit' and 'done'.\n *\n * To force users through every provided step, set the stepper to 'linear'.\n * This will disable the possibility to move for example from step one to step three.\n *\n * Whenever it comes to validation try to use formGroups. It is possible to\n * assign a formGroup to a cdk-step input called [stepControl], which automatically respects the\n * validation-rules that you created for this formGroup. If fields are required but not filled or\n * any other validation, like a pattern, is not matched the formGroup will be invalid. In this case\n * stepping in a linear stepper to the next step gets impossible.\n *\n * If there is the need to execute asynchronous code you have at least two possibilities.\n * First: As you learned, a cdk-step works with formGroups and Validators, so you are able to use\n * asyncValidators as well.\n * Second: The C8yStepper provides an event-emitter onStepChange which is called whenever a step-button (1)--(2)--(n)\n * in the stepper-progress is clicked. The event of this emitter holds the index of the step as number. You can\n * use this EventEmitter to call for example a custom navigate-method which performs first any async-call and then moves\n * on to the given step.\n *\n * @example\n * ```\n * <c8y-stepper\n * (onStepChange)=\"navigate($event)\"\n * [disableDefaultIcons]=\"{ edit: true, done: false }\"\n * [customClasses]=\"['m-l-40', 'm-r-40', 'm-t-32']\"\n * linear\n * >\n * <!-- override icons -->\n * <ng-template c8yStepperIcon=\"final\">\n *   <span [c8yIcon]=\"'hand-peace-o'\"></span>\n * </ng-template>\n *\n * <cdk-step [stepControl]=\"formGroupStepOne\" label=\"Name of the hero\">\n *   <div class=\"m-l-40 m-r-40 m-t-32\">\n *     <h4 class=\"p-b-8\" translate>What is the name of your hero?</h4>\n *     <c8y-form-group>\n *      <div [formGroup]=\"formGroupStepOne\">\n *       <input\n *         class=\"form-control\"\n *         type=\"text\"\n *         formControlName=\"name\"\n *         placeholder=\"Mister X\"\n *         #nameRef\n *         required\n *       />\n *       <c8y-messages>\n *         <c8y-message *ngIf=\"!formGroupStepOne.untouched && !nameRef.value\" translate\n *           >Enter the name of the Superhero</c8y-message\n *         >\n *       </c8y-messages>\n *      </div>\n *     </c8y-form-group>\n *   </div>\n *   <c8y-stepper-buttons></c8y-stepper-buttons>\n * </cdk-step>\n * <cdk-step>\n *  ...\n * </cdk-step state=\"final\">\n * </c8y-stepper>\n * ```\n */\n@Component({\n  selector: 'c8y-stepper',\n  templateUrl: './stepper.component.html',\n  providers: [{ provide: CdkStepper, useExisting: C8yStepper }]\n})\nexport class C8yStepper extends CdkStepper implements AfterContentInit, OnDestroy {\n  /**\n   * Optional\n   * Indicator if icons for edit and done state should be shown in step-header buttons\n   */\n  @Input() disableDefaultIcons?: { edit: boolean; done: boolean } = { edit: true, done: true };\n  /**\n   * Optional\n   * Possibility to add any kind of custom css classes to the step-header\n   */\n  @Input() customClasses?: [string];\n  /**\n   * Will emit the step index number whenever a step-header button was clicked\n   * It listens to the stepIndex Subject.\n   */\n  @Output() onStepChange = new EventEmitter<number>();\n\n  /**\n   * Holding a QueryList of C8yStepperIcons\n   * These are templateRefs which overrides any step-header button icon with matching state of cdk-step\n   *\n   * @example:\n   * ```\n   * <!-- override icons -->\n   *  <ng-template c8yStepperIcon=\"final\">\n   *   <span [c8yIcon]=\"'hand-peace-o'\"></span>\n   *  </ng-template>\n   *\n   * <cdk-step state=\"final\" label=\"Job done!\">\n   *  <div class=\"m-l-40 m-r-40 m-t-32\">\n   *    <h4 class=\"p-b-32\" style=\"text-align: center;\" translate>\n   *     Your Superhero is now ready to save the world!\n   *   </h4>\n   *  </div>\n   *  <c8y-stepper-buttons\n   *    [hidden]=\"!isModal\"\n   *    (onBack)=\"close()\"\n   *    [labels]=\"{ back: 'Got it!' }\"\n   *  ></c8y-stepper-buttons>\n   *  <c8y-stepper-buttons [hidden]=\"isModal\"></c8y-stepper-buttons>\n   * </cdk-step>\n   * ```\n   */\n  @ContentChildren(C8yStepperIcon, { descendants: true }) _icons: QueryList<C8yStepperIcon>;\n\n  /** Consumer-specified template-refs to be used to override the header icons. */\n  _iconOverrides: { [key: string]: TemplateRef<any> } = {};\n\n  private _stepIndex: Subject<number> = new Subject();\n  private _stepIndexSubscription: Subscription;\n\n  ngAfterContentInit() {\n    this._icons.forEach(({ name, templateRef }) => (this._iconOverrides[name] = templateRef));\n    this._stepIndexSubscription = this._stepIndex.subscribe(index => this.onStepChange.emit(index));\n  }\n\n  ngOnDestroy() {\n    if (this._stepIndexSubscription && !this._stepIndexSubscription.closed) {\n      this._stepIndexSubscription.unsubscribe();\n    }\n  }\n\n  /**\n   * Manipulates the state based on the disabledDefaultIcons Input()\n   * Changing edit or done to false will change the icons within step-header buttons\n   * @param index step index\n   * @param state step state, like 'done', 'edit', 'error'\n   */\n  getIndicatorType(index: number, state: StepState) {\n    const stepState = this._getIndicatorType(index, state);\n    let _state = state;\n    switch (stepState) {\n      case STEP_STATE.EDIT:\n        if (!this.disableDefaultIcons.edit) {\n          _state = STEP_STATE.EDIT;\n        }\n        break;\n\n      case STEP_STATE.DONE:\n        if (!this.disableDefaultIcons.done) {\n          _state = STEP_STATE.DONE;\n        } else {\n          _state = '_done';\n        }\n        break;\n    }\n    return _state;\n  }\n\n  /**\n   * Pushs the step index to the subject\n   * @param index step index\n   */\n  setIndex(index: number) {\n    this._stepIndex.next(index);\n  }\n}\n","import { Component, Input, Output, TemplateRef, EventEmitter } from '@angular/core';\nimport { StepState } from '@angular/cdk/stepper';\n\n@Component({\n  selector: 'c8y-stepper-progress',\n  templateUrl: './stepper-progress.component.html'\n})\nexport class C8yStepperProgress {\n  /** List of overriden icons as TemplateRef. Also default icons could be overriden.\n   *  The given overriden icons will replace an icon with matching state: StepState\n   *\n   * <ng-container\n   * *ngSwitchCase=\"true\"\n   * [ngTemplateOutlet]=\"iconOverrides[state]\"\n   * ></ng-container>\n   *\n   */\n  @Input() iconOverrides: { [key: string]: TemplateRef<any> };\n  /** The index of the current step */\n  @Input() index: number;\n  /** Whether the step is cuurently selected or not  */\n  @Input() selected: boolean;\n  /** The current state of the step */\n  @Input() state: StepState;\n\n  /** Emits the index: number of the step which was clicked */\n  @Output() onStepClicked = new EventEmitter<number>();\n\n  /** Called on click and emits the step index */\n  stepSelected() {\n    this.onStepClicked.emit(this.index);\n  }\n}\n","import { CdkStep } from '@angular/cdk/stepper';\nimport {\n  AfterContentInit,\n  Component,\n  EventEmitter,\n  Host,\n  Input,\n  OnChanges,\n  OnDestroy,\n  Output,\n  SimpleChanges\n} from '@angular/core';\nimport { Subscription } from 'rxjs';\nimport { C8yStepper } from './stepper.component';\n\n/**\n * C8yStepperButtons provides a convinient way to have, according to\n * the C8yStepper and each cdk-step, buttons to navigate between steps or to cancel the whole\n * step-process. Buttons rendered with the help of this component will use the branding css.\n *\n * By default all steps with this component in use will render a next button, expect the last step.\n * The other way around, every step using this component will render a back button, expect the first step.\n * To get a cancel button rendered you need to handle the onCancel event.\n * For next and back button you don't need to handle the available events onNext and onBack because default behavior\n * is implemented. The default will just call, according to the button, the stepper.next() or stepper.previous()\n * methods and moves the stepper forth or back. Using the EventEmitter onNext and onBack will emit for you the following\n * object: {stepper: C8yStepper, step: CdkStep}. This is useful if you need to implement custom logic before moving\n * to the next step or sending data to a backend. In this case you need to tell the stepper to move forward or back\n * on your own.\n *\n * With the component input [labels] you can change the label of each button in each step. It takes an object like this:\n * {next?: string, back?: string, cancel?: string}\n *\n * The [pending] input is of type boolean and will enable css animation for the next button when true.\n *\n * If the cdk-step provides a stepControl the component will set the next button disabled when the formGroup\n * behind it is invalid. As long as the [pending] input is true the back and next button is also disabled.\n * This will prevent multiple clicks while running a request or stepping back while a request is ongoing.\n *\n * @example\n * ```\n * <c8y-stepper>\n *  <cdk-step>\n *    <!--\n *      your html code\n *          ...\n *          ...    -->\n *    <c8y-stepper-buttons\n *     (onNext)=\"save()\"\n *     [labels]=\"{ next: 'Save' }\"\n *     [pending]=\"pendingStatus\"\n *     ></c8y-stepper-buttons>\n *  </cdk-step>\n * </c8y-stepper>\n *\n * // in your component:\n * async save() {\n *   this.pendingStatus = true;\n *   // your async request goes here ...\n *   // await something();\n *   this.pendingStatus = false;\n *   this.stepper.next();\n * }\n * ```\n */\n@Component({\n  selector: 'c8y-stepper-buttons',\n  templateUrl: './stepper-buttons.component.html'\n})\nexport class C8yStepperButtons implements AfterContentInit, OnDestroy, OnChanges {\n  /**\n   * Optional\n   * Specify custom labels for each button (cancel, back or next)\n   */\n  @Input() labels?: { cancel?: string; back?: string; next?: string; custom?: string };\n  /**\n   * Optional\n   * Indicates if a request is pending and sets the next button\n   * to disabled when true\n   */\n  @Input() pending?: boolean = false;\n\n  /**\n   * Disabled state of a button\n   */\n  @Input() disabled?: boolean = false;\n\n  /**\n   * EventEmitter which emits when cancel button is clicked\n   */\n  @Output() onCancel = new EventEmitter();\n  /**\n   * EventEmitter which emits {stepper: C8yStepper; step: CdkStep} when next button is clicked.\n   */\n  @Output() onNext = new EventEmitter<{ stepper: C8yStepper; step: CdkStep }>();\n\n  /**\n   * EventEmitter which emits {stepper: C8yStepper; step: CdkStep} when back button is clicked.\n   */\n  @Output() onBack = new EventEmitter<{ stepper: C8yStepper; step: CdkStep }>();\n\n  /**\n   * EventEmitter which emits when the optional custom button is clicked\n   */\n  @Output() onCustom = new EventEmitter();\n\n  /**\n   * Indicator which button should be shown.\n   * Based on the cdk-steps within the c8y-stepper\n   * next and back buttons are rendered.\n   */\n  showBtns = {\n    cancel: false,\n    back: false,\n    next: false,\n    custom: false\n  };\n\n  private statusChangeSubscription: Subscription;\n\n  constructor(@Host() private stepper: C8yStepper, @Host() private step: CdkStep) {}\n\n  ngAfterContentInit() {\n    this.showBtns.cancel = this.onCancel.observers.length > 0;\n    this.showBtns.custom = this.onCustom.observers.length > 0;\n\n    if (this.stepper && this.stepper.steps && this.step) {\n      this.showBtns.back = this.stepper.steps.first !== this.step;\n      this.showBtns.next = this.stepper.steps.last !== this.step;\n    }\n\n    if (this.step && this.step.stepControl) {\n      this.disabled = this.step.stepControl.invalid;\n\n      this.statusChangeSubscription = this.step.stepControl.statusChanges.subscribe(status => {\n        this.disabled = this.step.stepControl.invalid;\n      });\n    }\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    /**\n     * Disable save/next button while the status is pending\n     * This will prevent multiple clicks and therefore multiple requests\n     */\n    if (changes && changes.pending) {\n      this.disabled = changes.pending.currentValue;\n    }\n  }\n\n  ngOnDestroy() {\n    if (this.statusChangeSubscription && !this.statusChangeSubscription.closed) {\n      this.statusChangeSubscription.unsubscribe();\n    }\n  }\n\n  /**\n   * Gets called when cancel button is clicked.\n   * It will emit immediate.\n   */\n  cancel() {\n    this.onCancel.emit();\n  }\n\n  /**\n   * Gets called when next button is clicked. When onNext EventEmitter has an observer registered\n   * it will emit the following object {stepper: C8yStepper; step: CdkStep}.\n   * Otherwise it will call stepper.next() as default.\n   */\n  next() {\n    if (this.onNext.observers.length > 0) {\n      this.onNext.emit({ stepper: this.stepper, step: this.step });\n    } else {\n      this.stepper.next();\n    }\n  }\n\n  /**\n   * Gets called when back button is clicked. When onBack EventEmitter has an observer registered\n   * it will emit the following object {stepper: C8yStepper; step: CdkStep}.\n   * Otherwise it will call stepper.previous() as default.\n   */\n  back() {\n    this.stepper.selected.completed = false;\n    if (this.onBack.observers.length > 0) {\n      this.onBack.emit({ stepper: this.stepper, step: this.step });\n    } else {\n      this.stepper.previous();\n    }\n  }\n\n  /**\n   * Gets called when the custom button is clicked.\n   * It will emit immediately.\n   */\n  custom() {\n    this.onCustom.emit();\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CdkStepperModule, CdkStep, STEPPER_GLOBAL_OPTIONS } from '@angular/cdk/stepper';\nimport { C8yStepper } from './stepper.component';\nimport { CommonModule } from '../common/common.module';\nimport { C8yStepperIcon } from './stepper-icon.directive';\nimport { C8yStepperProgress } from './stepper-progress.component';\nimport { TooltipModule } from 'ngx-bootstrap/tooltip';\nimport { C8yStepperButtons } from './stepper-buttons.component';\n\n/**\n * The angular module definition for c8y-stepper (Wizard).\n * @exports C8yStepper\n * @exports C8yStepperIcon\n * @exports C8yStepperButtons\n * @exports CdkStep\n */\n@NgModule({\n  imports: [CommonModule, CdkStepperModule, TooltipModule],\n  declarations: [C8yStepper, C8yStepperIcon, C8yStepperProgress, C8yStepperButtons],\n  exports: [C8yStepper, CdkStep, C8yStepperIcon, C8yStepperButtons],\n  providers: [\n    {\n      /**\n       * This emables additional states, like: edit, done and error\n       * These states are used to display custom icons, if needed.\n       * Any change in here will most probably result in not showing custom icons anymore\n       */\n      provide: STEPPER_GLOBAL_OPTIONS,\n      useValue: { displayDefaultIndicatorType: false }\n    }\n  ]\n})\nexport class StepperModule {}\n","import { Component, EventEmitter, OnInit, Output } from '@angular/core';\nimport { FormControl, FormGroup } from '@angular/forms';\nimport { PickedDates } from './date-picker.model';\n\n@Component({\n  selector: 'c8y-date-picker',\n  templateUrl: './date-picker.component.html'\n})\nexport class DatePickerComponent implements OnInit {\n  @Output() onDateSelected: EventEmitter<PickedDates> = new EventEmitter();\n\n  fgDatePicker: FormGroup;\n\n  ngOnInit() {\n    this.fgDatePicker = new FormGroup({\n      dateFrom: new FormControl(),\n      dateTo: new FormControl()\n    });\n  }\n\n  filter() {\n    this.onDateSelected.emit(this.fgDatePicker.value);\n  }\n\n  clearFilter() {\n    this.fgDatePicker.setValue({\n      dateFrom: null,\n      dateTo: null\n    });\n    this.onDateSelected.emit(null);\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { ReactiveFormsModule } from '@angular/forms';\nimport { CommonModule as C8yCommonModule } from '../common/common.module';\nimport { DatePickerComponent } from './date-picker.component';\nimport { FormsModule } from '@angular/forms';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule as C8yFormsModule } from '../forms/public-api';\nimport { BsDropdownModule } from 'ngx-bootstrap/dropdown';\nimport { BsDatepickerModule } from 'ngx-bootstrap/datepicker';\n\n/**\n * The angular module definition for a date picker - it allows you to pick either one date or a range of two.\n * @exports DatePickerComponent\n */\n@NgModule({\n  imports: [\n    C8yFormsModule,\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    BsDropdownModule.forRoot(),\n    BsDatepickerModule.forRoot(),\n    C8yCommonModule\n  ],\n  exports: [DatePickerComponent],\n  declarations: [DatePickerComponent]\n})\nexport class DatePickerModule {}\n","import { NgModule } from '@angular/core';\nimport { ActionBarModule } from './action-bar/action-bar.module';\nimport { ActionModule } from './action/action.module';\nimport { AlertModule } from './alert/alert.module';\nimport { AuditLogModule } from './audit-log/audit-log.module';\nimport { AuthenticationModule } from './authentication/authentication.module';\nimport { BootstrapModule } from './bootstrap/bootstrap.module';\nimport { BreadcrumbModule } from './breadcrumb/breadcrumb.module';\nimport { CommonModule } from './common/common.module';\nimport { DashboardModule } from './dashboard/dashboard.module';\nimport { DataGridModule } from './data-grid/data-grid.module';\nimport { DeviceStatusModule } from './device-status/device-status.module';\nimport { DocsModule } from './docs/docs.module';\nimport { DropAreaModule } from './drop-area/drop-area.module';\nimport { DynamicComponentModule } from './dynamic-component/dynamic-component.module';\nimport { FilePickerModule } from './file-picker/file-picker.module';\nimport { FormsModule as c8yFormsModule } from './forms/forms.module';\nimport { HeaderModule } from './header/header.module';\nimport { ListGroupModule } from './list-group/list-group.module';\nimport { LoginModule } from './login/login.module';\nimport { ModalModule } from './modal/modal.module';\nimport { NavigatorModule } from './navigator/navigator.module';\nimport { RealtimeModule } from './realtime/realtime.module';\nimport { SearchModule } from './search/search.module';\nimport { SelectModalModule } from './select-modal/select-modal.module';\nimport { SelectModule } from './select/select.module';\nimport { StepperModule as c8yStepperModule } from './stepper/stepper.module';\nimport { TabsModule } from './tabs/tabs.module';\nimport { UserModule } from './user/user.module';\nimport { DatePickerModule } from './date-picker/date-picker.module';\n\n@NgModule({\n  exports: [\n    ActionBarModule,\n    ActionModule,\n    AlertModule,\n    AuditLogModule,\n    BootstrapModule,\n    BreadcrumbModule,\n    CommonModule,\n    DataGridModule,\n    DropAreaModule,\n    HeaderModule,\n    LoginModule,\n    ModalModule,\n    NavigatorModule,\n    AuthenticationModule,\n    SearchModule,\n    SelectModule,\n    TabsModule,\n    UserModule,\n    c8yFormsModule,\n    DeviceStatusModule,\n    DocsModule,\n    c8yStepperModule,\n    DynamicComponentModule,\n    DashboardModule,\n    ListGroupModule,\n    SelectModalModule,\n    FilePickerModule,\n    RealtimeModule,\n    DatePickerModule\n  ]\n})\nexport class CoreModule {\n  static forRoot() {\n    return {\n      ngModule: CoreModule,\n      providers: [...CommonModule.providers(), ...LoginModule.providers()]\n    };\n  }\n}\n","import { Injector, Injectable } from '@angular/core';\nimport { ActivatedRouteSnapshot, CanActivate, Router } from '@angular/router';\nimport { from, isObservable, of, Observable } from 'rxjs';\nimport { every, filter, map, mergeMap, toArray, tap, debounceTime } from 'rxjs/operators';\nimport { Tab } from '../tabs/tab.model';\nimport { Route } from './router.models';\n\n@Injectable()\nexport class RouterTabsResolver {\n  constructor(private injector: Injector, private router: Router) {}\n\n  get routerStateSnapshot() {\n    return this.router.routerState.snapshot;\n  }\n\n  resolve(route: ActivatedRouteSnapshot) {\n    const latestChildren = this.router.config.find(r => route.routeConfig.path === r.path).children;\n    return from(latestChildren || []).pipe(\n      mergeMap((child: Route) =>\n        from(this.getGuards(child)).pipe(\n          map((guard: CanActivate) => guard.canActivate(route, this.routerStateSnapshot)),\n          mergeMap((result: any) => {\n            if (isObservable(result)) {\n              return result;\n            }\n            if (result && typeof result.then === 'function') {\n              return from(result);\n            }\n            return of(result);\n          }),\n          tap(result => {\n            if (Array.isArray(result)) {\n              child.tabs = result;\n            }\n          }),\n          every(result => !!result),\n          filter(result => result),\n          mergeMap(() => (Array.isArray(child.tabs) ? from(child.tabs) : of(child as Tab))),\n          map(result =>\n            result.label\n              ? ({\n                  label: result.label,\n                  icon: result.icon,\n                  path: `${route.url.join('/')}/${result.path}`,\n                  priority: result.priority\n                } as Tab)\n              : undefined\n          )\n        )\n      ),\n      filter(tabs => !!tabs),\n      toArray()\n    ) as Observable<Tab[]>;\n  }\n\n  private getGuards(child: Route) {\n    const guards = (child.canActivate || []).map(guard => {\n      return this.injector.get(guard);\n    });\n    if (child.data && child.data.showIf) {\n      guards.push({ canActivate: child.data.showIf });\n    }\n    return guards;\n  }\n}\n","import { Route as ngRoute } from '@angular/router';\nimport { ExtensionFactory } from '../common/extension-hooks';\nimport { Tab } from '../tabs/tab.model';\n\nexport enum ViewContext {\n  Device = 'device/:id',\n  Group = 'group/:id',\n  User = 'users/:id',\n  Application = 'applications/:id',\n  SubscribedApplications = 'subscribedApplications/:id',\n  Tenant = 'tenants/:id'\n}\n\nexport type Route = Partial<ngRoute> & {\n  path: string;\n  label?: string;\n  icon?: string;\n  context?: ViewContext;\n  priority?: number;\n\n  /**\n   * Allow to emit multiple tabs on one context route.\n   */\n  tabs?: Tab[];\n};\n\nexport type RouteFactory = ExtensionFactory<Route>;\n","import {\n  InventoryService,\n  UserService,\n  ApplicationService,\n  TenantService,\n} from '@c8y/client';\nimport { ViewContext } from './router.models';\n\nexport class ViewContextServices {\n  static services = new Map<ViewContext, any>([\n    [ViewContext.Device, InventoryService],\n    [ViewContext.Group, InventoryService],\n    [ViewContext.User, UserService],\n    [ViewContext.Application, ApplicationService],\n    [ViewContext.SubscribedApplications, ApplicationService],\n    [ViewContext.Tenant, TenantService],\n  ]);\n\n  static contextToService(context: ViewContext) {\n    return ViewContextServices.services.get(context);\n  }\n}\n","import { Injectable, Injector } from '@angular/core';\nimport {\n  ActivatedRoute,\n  NavigationEnd,\n  PRIMARY_OUTLET,\n  Router,\n  UrlSegmentGroup,\n  UrlTree\n} from '@angular/router';\nimport { ApiService, ApiCall } from '@c8y/ngx-components/api';\nimport { NEVER, Observable, Subject, Subscription } from 'rxjs';\nimport { filter, map, merge, switchMap, tap } from 'rxjs/operators';\nimport { Tab } from '../tabs/tab.model';\nimport { TabsService } from '../tabs/tabs.service';\nimport { RouterTabsResolver } from './router-tabs.resolver';\nimport { ViewContextServices } from './view-context.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ContextRouteService {\n  private dataSubscription: Subscription;\n  private routerSubscription: Subscription;\n  private lastAddedTabs = [];\n  private refreshTrigger = new Subject();\n\n  constructor(\n    private tabsResolver: RouterTabsResolver,\n    private tabsService: TabsService,\n    private router: Router,\n    private apiService: ApiService,\n    private injector: Injector\n  ) {}\n\n  init(route: ActivatedRoute): void {\n    this.routerSubscription = this.router.events\n      .pipe(filter(e => e instanceof NavigationEnd))\n      .subscribe(() => this.redirectToFirstTab());\n\n    this.dataSubscription = route.data\n      .pipe(\n        merge(this.updatedContext(route), this.refreshTrigger),\n        switchMap(() => this.tabsResolver.resolve(route.snapshot)),\n      )\n      .subscribe(tabs => this.updateTabs(tabs));\n  }\n\n  destroy(): void {\n    this.dataSubscription.unsubscribe();\n    this.routerSubscription.unsubscribe();\n    this.lastAddedTabs.forEach(t => this.tabsService.remove(t));\n  }\n\n  refreshContext() {\n    this.refreshTrigger.next();\n  }\n\n  updatedContext(route: ActivatedRoute): Observable<ApiCall> {\n    const { data } = route.snapshot;\n    const serviceInstance = ViewContextServices.contextToService(data.context);\n    if (serviceInstance) {\n      const service = this.injector.get(serviceInstance);\n      const detailsUrlRegex = service.getDetailUrl(data.contextData).replace(/\\d+/g, '?\\\\d*');\n      const contextRegex = new RegExp(detailsUrlRegex, 'i');\n      const childrenRegex = new RegExp(`${detailsUrlRegex}/child`, 'i');\n      const filterResponse = ({ url, method }) => {\n        const contextChanged = contextRegex.test(url) && ['POST', 'PUT'].includes(method);\n        const childrenAffected = childrenRegex.test(url) && ['POST', 'DELETE'].includes(method);\n        return contextChanged || childrenAffected;\n      };\n      return this.apiService.hookResponse(filterResponse);\n    }\n    return NEVER;\n  }\n\n  private updateTabs(tabs = []) {\n    this.lastAddedTabs.forEach(t => this.tabsService.remove(t));\n    this.lastAddedTabs = tabs;\n    tabs.forEach(t => this.tabsService.add(t));\n    this.redirectToFirstTab();\n  }\n\n  private redirectToFirstTab() {\n    if (this.needsRedirect()) {\n      this.tabsService.firstTab$.subscribe((tab: Tab) => {\n        if (tab) {\n          this.router.navigateByUrl(tab.path, { replaceUrl: true });\n        }\n      });\n    }\n  }\n\n  private needsRedirect() {\n    const tree: UrlTree = this.router.parseUrl(this.router.url);\n    const groups: UrlSegmentGroup = tree.root.children[PRIMARY_OUTLET];\n    const isContextRoute = groups.segments.length === 2;\n    return isContextRoute;\n  }\n}\n","import { Inject, Injectable, InjectionToken, Optional } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { fromFactories } from '../common/extension-hooks';\nimport { RouteFactory, Route } from './router.models';\nimport { TabsService } from '../tabs/tabs.service';\nimport { ContextRouteService } from './context-route.service';\n\n/**\n * A hook to use for Multi Provider extension.\n */\nexport const HOOK_ONCE_ROUTE = new InjectionToken('RouteFactory');\n\n/**\n * A service which defines routes\n */\n@Injectable({\n  providedIn: 'root'\n})\nexport class RouterService {\n  constructor(\n    @Optional() @Inject(HOOK_ONCE_ROUTE) factories: RouteFactory[],\n    private router: Router,\n    public tabsService: TabsService,\n    private contextRouteService: ContextRouteService\n  ) {\n    fromFactories(factories).subscribe((routes: Route[]) => {\n      this.addRoute(routes);\n    });\n  }\n\n  /**\n   * Refresh the current context\n   */\n  refresh() {\n    this.contextRouteService.refreshContext();\n  }\n\n  /**\n   * Add a new route to the router configuration or a context.\n   * @param route The route to add\n   */\n  addRoute(route: Route | Route[]) {\n    this.addRoutes(Array.isArray(route) ? route : [route]);\n  }\n\n  private addRoutes(routes) {\n    const emptyRoute = this.router.config.find(r => r.path === '**');\n    this.router.resetConfig(\n      [\n        ...this.router.config.filter(r => r.path !== '**'),\n        ...routes.map((r: Route) => this.convertRoute(this.router.config, r)),\n        emptyRoute\n      ].filter(Boolean)\n    );\n  }\n\n  private convertRoute(initialConfig, route: Route) {\n    if (route.context) {\n      initialConfig.forEach((r: Route) => {\n        if (r.data && r.data.context === route.context) {\n          r.children = [route, ...(r.children || [])];\n        }\n      });\n      return;\n    }\n    return route;\n  }\n}\n","import { Component } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { ContextRouteService } from './context-route.service';\n\n@Component({\n  selector: 'c8y-context-route',\n  templateUrl: './context-route.component.html'\n})\nexport class ContextRouteComponent {\n  constructor(private route: ActivatedRoute, private contextRouteService: ContextRouteService) {}\n\n  ngOnInit(): void {\n    this.contextRouteService.init(this.route);\n  }\n\n  ngOnDestroy(): void {\n    this.contextRouteService.destroy();\n  }\n\n  refreshTabs() {\n    this.contextRouteService.refreshContext();\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { FetchClient, IFetchOptions } from '@c8y/client';\nimport { Subject, Observable } from 'rxjs';\nimport { ApiCall, ApiCallOptions } from './api.model';\nimport { filter } from 'rxjs/operators';\n\n@Injectable()\nexport class ApiService {\n  calls: Observable<ApiCall>;\n  private callsSubject = new Subject<ApiCall>();\n\n  constructor(private client: FetchClient) {\n    this.calls = this.callsSubject.asObservable();\n    this.hookIntoClientFetch();\n  }\n\n  hookResponse(hookFilter: (call: ApiCall) => boolean) {\n    return this.callsSubject.pipe(\n      filter(({ phase }) => phase === 'finish'),\n      filter(hookFilter)\n    );\n  }\n\n  hookRequest(hookFilter: (call: ApiCall) => boolean) {\n    return this.callsSubject.pipe(\n      filter(({ phase }) => phase === 'start'),\n      filter(hookFilter)\n    );\n  }\n\n  async onFinish(call: ApiCall) {\n    this.callsSubject.next({ phase: 'finish', ...call });\n  }\n\n  onStart(call: ApiCall) {\n    this.callsSubject.next({ phase: 'start', ...call });\n  }\n\n  async resolveData(call: ApiCall): Promise<any> {\n    const { response, method } = call;\n    if ('data' in response) {\n      return Promise.resolve({ data: response.data, method });\n    } else {\n      const cb = (data) => ({ data, method});\n      return (response as Response).clone().json().then(cb, cb);\n    }\n  }\n\n  private hookIntoClientFetch() {\n    const fetch = this.client.fetch.bind(this.client);\n    this.client.fetch = async (url, options: ApiCallOptions & IFetchOptions = { method: 'GET'}) => {\n      const { method } = options;\n      this.onStart({ options, method, url });\n      let fetchPromise = fetch(url, options);\n      if (typeof options.responseInterceptor === 'function') {\n        fetchPromise = fetchPromise.then(options.responseInterceptor);\n      }\n      fetchPromise.then(\n        (response: Response) => this.onFinish({ response, url, options, method }),\n        (response: Response) => this.onFinish({ response, url, options, method })\n      );\n      return fetchPromise;\n    };\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { BasicAuth, FetchClient, Realtime, CookieAuth } from '@c8y/client';\nimport { ApiService } from './api.service';\nimport * as services from './services';\n\nfunction toProvider(provide) {\n  let deps: any[] = [FetchClient, Realtime];\n  if (provide === FetchClient)  {\n    deps = [CookieAuth];\n  }\n  if (provide === BasicAuth || provide === CookieAuth)  {\n    deps = [];\n  }\n  if (provide === Realtime) {\n    deps = [FetchClient];\n  }\n  return {provide, useClass: provide, deps};\n}\n\nconst providers: any[] = (Object.keys(services).map((k) => toProvider(services[k])) as any[])\n  .concat([\n    { provide: ApiService, useClass: ApiService, deps: [FetchClient] }\n  ]);\n// @dynamic\n@NgModule()\nexport class DataModule {\n  static providers() {\n    return providers;\n  }\n  static forRoot() {\n    return {\n      ngModule: DataModule,\n      providers\n    };\n  }\n}\n","import { Injectable, Injector } from '@angular/core';\nimport { ActivatedRouteSnapshot, CanActivate } from '@angular/router';\nimport { from, of } from 'rxjs';\nimport { catchError, map, shareReplay, tap } from 'rxjs/operators';\nimport { ViewContextServices } from './view-context.service';\nimport { InventoryService } from '../../api';\n\n@Injectable()\nexport class ContextRouteGuard implements CanActivate {\n  private caches = new Map();\n  constructor(private injector: Injector) {}\n\n  canActivate(route: ActivatedRouteSnapshot) {\n    const id = route.paramMap.get('id');\n    const service = this.service(route);\n    this.clearDetailCached(service, id);\n    return this.detailCached(service, id).pipe(\n      tap(contextData => (route.data = { ...route.data, contextData })),\n      map(() => true),\n      catchError(ex => of(false))\n    );\n  }\n\n  private service(route) {\n    const serviceInstance = ViewContextServices.contextToService(route.data.context);\n    return this.injector.get(serviceInstance);\n  }\n\n  private detailCached(service, id) {\n    const cache = this.getCache(service);\n    let cached = cache[id];\n    if (!cached) {\n      const params = service instanceof InventoryService ? { withChildren: false } : undefined;\n      cached = from(service.detail(id, params)).pipe(\n        map(({ data }) => data),\n        shareReplay(1)\n      );\n      cache[id] = cached;\n    }\n    return cached;\n  }\n\n  private clearDetailCached(service, id) {\n    const cache: Map<any, any> = this.getCache(service);\n    delete cache[id];\n  }\n\n  private getCache(service) {\n    let cache = this.caches.get(service);\n    if (!cache) {\n      cache = {};\n      this.caches.set(service, cache);\n    }\n    return cache;\n  }\n}\n","import { Component } from '@angular/core';\n\n@Component({selector: 'empty', template: ''})\nexport class EmptyComponent {}\n","import { NgModule } from '@angular/core';\nimport { RouterModule as NgRouterModule } from '@angular/router';\nimport { RouterService } from './router.service';\nimport { ContextRouteComponent } from './context-route.component';\nimport { HeaderModule } from '../header/header.module';\nimport { CommonModule } from '../common/common.module';\nimport { ContextRouteGuard } from './context-route.guard';\nimport { ViewContext, Route } from './router.models';\nimport { RouterTabsResolver } from './router-tabs.resolver';\nimport { EmptyComponent } from './empty.component';\n\nexport const routes: Route[] = [{\n  path: 'users/new',\n  component: EmptyComponent\n},\n{\n  path: 'tenants/new',\n  component: EmptyComponent\n}];\n// tslint:disable-next-line: forin\nfor (const key in ViewContext) {\n  const context = ViewContext[key];\n  routes.push({\n    path: context,\n    component: ContextRouteComponent,\n    canActivate: [ ContextRouteGuard ],\n    data: { context, contextData: {} },\n    resolve: {\n      tabs: RouterTabsResolver,\n    }\n  });\n}\n\n@NgModule({\n  declarations: [ ContextRouteComponent, EmptyComponent],\n  imports: [\n    NgRouterModule.forRoot(routes),\n    HeaderModule,\n    CommonModule\n  ],\n  entryComponents: [ContextRouteComponent, EmptyComponent]\n})\nexport class RouterModule {\n  static providers() {\n    return [\n      ContextRouteGuard,\n      RouterTabsResolver,\n      RouterService\n    ];\n  }\n\n  static forRoot() {\n    return {\n      ngModule: RouterModule,\n      providers: RouterModule.providers()\n    };\n  }\n\n  constructor(routerService: RouterService) {\n    // Declared but never used is intended: to always have a instance of RouterService.\n  }\n}\n","import { Component, Input, OnInit } from '@angular/core';\r\nimport { kebabCase } from 'lodash-es';\r\n\r\n@Component({\r\n  selector: 'c8y-quick-link',\r\n  templateUrl: './quick-link.component.html'\r\n})\r\nexport class QuickLinkComponent implements OnInit {\r\n  @Input() icon;\r\n  @Input() label;\r\n  classes = '';\r\n\r\n  ngOnInit(): void {\r\n    this.classes = `card-block text-center ${kebabCase(this.label)}`;\r\n  }\r\n}\r\n","import { CoreModule } from '../core.module';\r\nimport { NgModule } from '@angular/core';\r\nimport { QuickLinkComponent } from './quick-link.component';\r\n\r\n@NgModule({\r\n  declarations: [QuickLinkComponent],\r\n  imports: [CoreModule],\r\n  exports: [QuickLinkComponent],\r\n  providers: []\r\n})\r\nexport class QuickLinkModule {}\r\n","import { coerceNumberProperty } from '@angular/cdk/coercion';\nimport { IIdentified, Realtime } from '@c8y/client';\nimport { Observable, Subject } from 'rxjs';\nimport { filter, finalize, map } from 'rxjs/operators';\nimport { RealtimeMessage } from './realtime.model';\n\n/**\n * A wrapper class for handling realtime notifications in RxJS fashion.\n */\nexport abstract class RealtimeService<T> {\n  /**\n   * A flag displaying if realtime notifications are currently active.\n   */\n  get active(): boolean {\n    return this.isActive;\n  }\n\n  private subjects$: Map<string, RealtimeSubject<T>> = new Map<string, RealtimeSubject<T>>();\n  private isActive: boolean = true;\n\n  constructor(protected realtime: Realtime) {}\n\n  /**\n   * Get an Observable of all realtime notifications.\n   *\n   * @param {string | number | IIdentified} entityOrId Entity object or id\n   *\n   * @returns An [[Observable]] of notifications wrapped as [[RealtimeMessage]]\n   */\n  onAll$(entityOrId?: string | number | IIdentified): Observable<RealtimeMessage<T>> {\n    const subject$: RealtimeSubject<T> = this.getSubjectForChannel(entityOrId);\n\n    return subject$.pipe(\n      finalize(() => {\n        if (subject$.observers.length === 1 && subject$.observers[0].closed) {\n          subject$.stop();\n          this.subjects$.delete(subject$.channel);\n        }\n      })\n    );\n  }\n\n  /**\n   * Subscribes again all realtime channels with active observers.\n   */\n  start() {\n    if (!this.isActive) {\n      this.subjects$.forEach(subject$ => {\n        subject$.start();\n      });\n      this.isActive = true;\n    }\n  }\n\n  /**\n   * Stops realtime notifications and unsubscribes all realtime channels.\n   */\n  stop() {\n    if (this.isActive) {\n      this.subjects$.forEach(subject$ => {\n        subject$.stop();\n      });\n\n      this.isActive = false;\n    }\n  }\n\n  /**\n   * Get an Observable of all CREATE realtime notifications.\n   *\n   * @returns An [[Observable]] of newly created entity objects.\n   */\n  onCreate$(): Observable<T> {\n    return this.onAll$().pipe(\n      filter(msg => msg.realtimeAction === 'CREATE'),\n      map(msg => msg.data as T)\n    );\n  }\n\n  /**\n   * Get an Observable of all UPDATE realtime notifications.\n   *\n   * @param {string | number | IIdentified} entityOrId Entity object or id\n   *\n   * @returns An [[Observable]] of updated entity objects.\n   */\n  onUpdate$(entityOrId?: string | number | IIdentified): Observable<T> {\n    return this.onAll$(entityOrId).pipe(\n      filter(msg => msg.realtimeAction === 'UPDATE'),\n      map(msg => msg.data as T)\n    );\n  }\n\n  /**\n   * Get an Observable of all DELETE realtime notifications.\n   *\n   * @param {string | number | IIdentified} entityOrId Entity object or id\n   *\n   * @returns An [[Observable]] of deleted entity objects.\n   */\n  onDelete$(entityOrId?: string | number | IIdentified): Observable<number> {\n    return this.onAll$(entityOrId).pipe(\n      filter(msg => msg.realtimeAction === 'DELETE'),\n      map(msg => coerceNumberProperty(msg.data))\n    );\n  }\n\n  protected getIdString(reference: number | string | IIdentified): string {\n    let id: string | number;\n    if (typeof reference === 'object') {\n      id = reference.id;\n    } else {\n      id = reference;\n    }\n    return String(id);\n  }\n\n  protected getChannel(entityOrId?: string | number | IIdentified) {\n    return entityOrId ? this.channel().replace('*', this.getIdString(entityOrId)) : this.channel();\n  }\n\n  protected abstract channel(): string;\n\n  private getSubjectForChannel(entityOrId?: string | number | IIdentified): RealtimeSubject<T> {\n    const channel: string = this.getChannel(entityOrId);\n    let subject$: RealtimeSubject<T>;\n    if (this.subjects$.has(channel)) {\n      subject$ = this.subjects$.get(channel);\n    } else {\n      subject$ = new RealtimeSubject(channel, this.realtime);\n      this.subjects$.set(channel, subject$);\n    }\n\n    return subject$;\n  }\n}\n\n// tslint:disable-next-line: max-classes-per-file\nclass RealtimeSubject<T> extends Subject<RealtimeMessage<T>> {\n  realtimeSubscription: object;\n  get channel(): string {\n    return this.realtimeChannel;\n  }\n\n  constructor(private realtimeChannel: string, private realtime: Realtime) {\n    super();\n    this.start();\n  }\n\n  start() {\n    if (!this.realtimeSubscription) {\n      this.realtimeSubscription = this.realtime.subscribe(this.realtimeChannel, msg => {\n        const data: RealtimeMessage<T> = {\n          channel: msg.channel,\n          data: msg.data.data,\n          id: msg.id,\n          realtimeAction: msg.data.realtimeAction\n        };\n        this.next(data);\n      });\n    }\n  }\n\n  stop() {\n    if (this.realtimeSubscription) {\n      this.realtime.unsubscribe(this.realtimeSubscription);\n      this.realtimeSubscription = null;\n    }\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { IOperationBulk, Realtime } from '@c8y/client';\nimport { RealtimeService } from './realtime.service';\n\n/**\n * A service for handling bulk operation realtime notifications in RxJS fashion.\n */\n@Injectable()\nexport class OperationBulkRealtimeService extends RealtimeService<IOperationBulk> {\n  constructor(realtime: Realtime) {\n    super(realtime);\n  }\n\n  protected channel(): string {\n    return '/bulkOperations/*';\n  }\n}\n","export class RealtimeMessage<T> {\n  id: string;\n  channel: string;\n  realtimeAction: RealtimeAction;\n  data: T | number;\n}\n\nexport type RealtimeAction = 'UPDATE' | 'DELETE' | 'CREATE';\n","/**\n * Barrel to export /core\n */\nexport * from './core/public-api';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n\nexport {ActionBarItemComponent as z} from './core/action-bar/action-bar-item.component';\nexport {ActionBarComponent as y} from './core/action-bar/action-bar.component';\nexport {ActionBarModule as x} from './core/action-bar/action-bar.module';\nexport {ActionOutletComponent as bb} from './core/action/action-outlet.component';\nexport {ActionComponent as bc} from './core/action/action.component';\nexport {ActionModule as ba} from './core/action/action.module';\nexport {AlertDetailsComponent as bg} from './core/alert/alert-details.component';\nexport {AlertOutletComponent as be} from './core/alert/alert-outlet.component';\nexport {AlertTextComponent as bh} from './core/alert/alert-text.component';\nexport {AlertComponent as bf} from './core/alert/alert.component';\nexport {AlertModule as bd} from './core/alert/alert.module';\nexport {AuditLogComponent as bj} from './core/audit-log/audit-log.component';\nexport {AuditLogModule as bi} from './core/audit-log/audit-log.module';\nexport {ProvidePhoneNumberComponent as ca} from './core/authentication/provide-phone-number.component';\nexport {BootstrapModule as bk} from './core/bootstrap/bootstrap.module';\nexport {CookieBannerComponent as bl} from './core/bootstrap/cookie-banner/cookie-banner.component';\nexport {BreadcrumbItemComponent as cf} from './core/breadcrumb/breadcrumb-item.component';\nexport {BreadcrumbOutletComponent as cg} from './core/breadcrumb/breadcrumb-outlet.component';\nexport {BreadcrumbComponent as ce} from './core/breadcrumb/breadcrumb.component';\nexport {BreadcrumbModule as cd} from './core/breadcrumb/breadcrumb.module';\nexport {ApplicationOptions as a} from './core/common/ApplicationOptions';\nexport {ForOfDirective as r} from './core/common/forOf.directive';\nexport {ICONS as o,IconDirective as n} from './core/common/icon.directive';\nexport {LoadMoreComponent as s} from './core/common/load-more.component';\nexport {MapFunctionPipe as t} from './core/common/map-function.pipe';\nexport {OutletDirective as p} from './core/common/outlet.directive';\nexport {ProgressBarComponent as u} from './core/common/progress-bar.component';\nexport {ShortenUserNamePipe as q} from './core/common/shorten-user-name.pipe';\nexport {SingleOperationComponent as v} from './core/common/single-operation.component';\nexport {UserPreferencesService as w} from './core/common/user-preferences/user-preferences.service';\nexport {CellRendererComponent as ct} from './core/data-grid/column/cell-renderer.component';\nexport {ColumnDirective as cv} from './core/data-grid/column/column.directive';\nexport {FilteringFormRendererComponent as cu} from './core/data-grid/column/filtering-form-renderer.component';\nexport {InputGroupListContainerDirective as bw} from './core/forms/input-group-list-container.directive';\nexport {IpRangeInputListComponent as by} from './core/forms/ip-range-input-list.component';\nexport {RequiredInputPlaceholderDirective as bx} from './core/forms/required-input-placeholder.directive';\nexport {AppIconComponent as bn} from './core/header/application/app-icon.component';\nexport {AppSwitcherComponent as bo} from './core/header/application/app-switcher.component';\nexport {RightDrawerComponent as bp} from './core/header/right-drawer/right-drawer.component';\nexport {TitleOutletComponent as bm} from './core/header/title/title-outlet.component';\nexport {I18nModule as f,languagesFactory as d,localeId as e,localePathFactory as c,translateLoaderFactory as b} from './core/i18n/i18n.module';\nexport {LANGUAGES as i} from './core/i18n/languages';\nexport {LOCALE_PATH as h} from './core/i18n/locale.path';\nexport {MissingTranslationCustomHandler as l} from './core/i18n/missing-translation-custom.handler';\nexport {MESSAGES as g} from './core/i18n/pattern-messages.data';\nexport {PatternMessagesService as m} from './core/i18n/pattern-messages.service';\nexport {TranslateCustomLoader as j} from './core/i18n/translate.loader';\nexport {TranslateParserCustom as k} from './core/i18n/translate.parser';\nexport {ListItemActionComponent as cx} from './core/list-group/list-item-action.component';\nexport {ListItemBodyComponent as da} from './core/list-group/list-item-body.component';\nexport {ListItemCheckboxComponent as db} from './core/list-group/list-item-checkbox.component';\nexport {ListItemCollapseComponent as cy} from './core/list-group/list-item-collapse.component';\nexport {ListItemFooterComponent as cw} from './core/list-group/list-item-footer.component';\nexport {ListItemIconComponent as cz} from './core/list-group/list-item-icon.component';\nexport {ChangePasswordComponent as cn} from './core/login/change-password.component';\nexport {CredentialsComponent as co} from './core/login/credentials.component';\nexport {LoginComponent as cl} from './core/login/login.component';\nexport {LoginModule as ck} from './core/login/login.module';\nexport {RecoverPasswordComponent as cm} from './core/login/recover-password.component';\nexport {TotpAuthComponent as cp} from './core/login/totp-auth.component';\nexport {ModalComponent as bz} from './core/modal/modal.component';\nexport {NavigatorNodeData as dh} from './core/navigator/navigator-node-data';\nexport {NavigatorNodeComponent as cj} from './core/navigator/navigator-node.component';\nexport {NavigatorOutletComponent as ci} from './core/navigator/navigator-outlet.component';\nexport {NavigatorModule as ch} from './core/navigator/navigator.module';\nexport {QuickLinkComponent as dl} from './core/quicklink/quick-link.component';\nexport {RealtimeButtonComponent as dg} from './core/realtime/realtime-button.component';\nexport {RealtimeModule as df} from './core/realtime/realtime.module';\nexport {ContextRouteGuard as dk} from './core/router/context-route.guard';\nexport {ContextRouteService as di} from './core/router/context-route.service';\nexport {RouterTabsResolver as dj} from './core/router/router-tabs.resolver';\nexport {SearchOutletComponent as cb} from './core/search/search-outlet.component';\nexport {SearchComponent as cc} from './core/search/search.component';\nexport {SelectModalFilterPipe as de} from './core/select-modal/select-modal-filter.pipe';\nexport {C8yStepperIcon as dc} from './core/stepper/stepper-icon.directive';\nexport {C8yStepperProgress as dd} from './core/stepper/stepper-progress.component';\nexport {TabComponent as cs} from './core/tabs/tab.component';\nexport {TabsOutletComponent as cr} from './core/tabs/tabs-outlet.component';\nexport {TabsModule as cq} from './core/tabs/tabs.module';\nexport {UserEditModalComponent as bt} from './core/user/user-edit-modal.component';\nexport {UserEditComponent as bs} from './core/user/user-edit.component';\nexport {UserMenuItemComponent as bu} from './core/user/user-menu-item.component';\nexport {UserMenuOutletComponent as br} from './core/user/user-menu-outlet.component';\nexport {UserTotpSetupComponent as bv} from './core/user/user-totp-setup.component';\nexport {UserModule as bq} from './core/user/user.module';"],"names":["tslib_1.__param","ApiService","combineLatest","TranslateService","NgxTranslateService","NgDatePipe","tslib_1.__decorate","get","isUndefined","DataModule","NgCommonModule","_memoize","filter","RouterModule","map","SystemOptionsService","BsModalModule","merge","NgFormsModule","sortBy","FormsModule","isEmpty","find","C8yFormsModule","CommonModule","_parseInt","C8YCommonModule","C8yCommonModule","BsModalRef","c8yFormsModule","c8yStepperModule","NgRouterModule"],"mappings":"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"}