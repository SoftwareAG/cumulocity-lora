<div class="card bottom-m-xs">
  <div class="card-header separator">
    <h4 translate>Coils (discrete outputs)</h4>
  </div>
  <div class="card-block" ng-if="vm.isEmpty(vm.discreteOutputsCategorized)">
    <div class="c8y-empty-state text-left">
      <h1 c8y-icon="sliders"></h1>
      <p ng-if="!vm.features.holdingRegisters.noRegistersDefinedMessage">
        {{ 'No coils defined.' | translate }}
      </p>
    </div>
  </div>

  <div ng-if="!vm.isEmpty(vm.discreteOutputsCategorized)">
    <div
      ng-repeat-start="(category, discreteOutputs) in vm.discreteOutputsCategorized"
      class="right-m-md left-m-md"
    >
      <div class="legend" ng-if="category" title="{{ category }}">{{ category }}</div>
      <div class="legend" ng-if="!category">{{ 'Uncategorized' | translate }}</div>
    </div>

    <div
      class="list-group"
      style="box-shadow: inset 0 1px 0 rgba(0,0,0,.05), inset 0 -1px 0 rgba(0,0,0,.05)"
      ng-repeat-end
    >
      <div class="list-group-item" ng-repeat="discreteOutput in discreteOutputs | orderBy:'number'">
        <div class="flex-row">
          <div class="list-item-actions">
            <div class="dropdown settings" is-open="false" uib-dropdown>
              <button
                class="dropdown-toggle c8y-dropdown"
                aria-haspopup="true"
                aria-expanded="false"
                uib-dropdown-toggle
                title="{{ 'Actions' | translate }}"
              >
                <i c8y-icon="ellipsis-v"></i>
              </button>
              <ul class="dropdown-menu dropdown-menu-right" uib-dropdown-menu="">
                <li>
                  <a
                    title="{{ 'Edit' | translate }}"
                    href=""
                    ng-click="vm.editDiscreteOutput(discreteOutput)"
                  >
                    <i c8y-icon="pencil"></i> {{ 'Edit' | translate }}
                  </a>
                </li>
                <li>
                  <a
                    title="{{ 'Remove' | translate }}"
                    href=""
                    ng-click="vm.removeDiscreteOutput(discreteOutput)"
                  >
                    <i c8y-icon="trash"></i> {{ 'Remove' | translate }}
                  </a>
                </li>
              </ul>
            </div>
          </div>
          <div class="list-item-icon">
            <i c8y-icon="sliders"></i>
          </div>
          <div class="list-item-body">
            <div class="row">
              <div class="col-sm-6">
                <span>{{ discreteOutput.name }}</span>
              </div>
              <div class="col-sm-6">
                <label translate>Number</label>
                <span>&nbsp;{{ discreteOutput.number }}</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="card-footer separator">
    <a
      title="{{ 'Add coil' | translate }}"
      href=""
      class="btn-add-block top-m-sm"
      ng-click="vm.addDiscreteOutput()"
    >
      <i c8y-icon="plus-circle"></i>
      <translate>Add coil</translate>
    </a>
  </div>
</div>
