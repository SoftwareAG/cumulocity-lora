<div class="form" ng-form="vm.mappingForm">
  <div class="bg-gray-lighter" style="padding: 16px; margin: 0 -16px;">
    <div class="legend form-block" translate>Validation rules</div>
    <div ng-if="vm.rules.length > 0" ng-repeat="andRules in vm.rules" class="top-m-lg">
      <div
        ng-if="$index > 0"
        class="legend form-block center"
        style="padding: 0 84px 0 0"
        translate
      >
        Or
      </div>
      <c8y-lwm2m-validation-rule
        ng-repeat="rule in andRules"
        rule="rule"
        options="vm.options"
        resource-data-type="{{ vm.resourceDataType }}"
        value-types="vm.valueTypes"
        on-remove="vm.remove(rule)"
        on-add="vm.addAndRule(rule)"
        on-change="vm.changes(rule)"
        is-last="$last"
      >
      </c8y-lwm2m-validation-rule>
      <hr ng-if="vm.isLast(andRules)" />
      <button
        title="{{ 'Or' | translate }}"
        id="orBtn-{{ vm.resource.id }}"
        ng-click="vm.addOrGroup()"
        ng-if="vm.isLast(andRules)"
        class="btn btn-default btn-sm"
        translate
      >
        Or
      </button>
    </div>
    <div ng-if="vm.rules.length === 0">
      <div class="c8y-empty-state text-left">
        <h1 c8y-icon="c8y-data-points" class="c8y-icon-duocolor"></h1>
        <p>
          <span translate
            ><strong>No validation for this resource.</strong> Add a validation rule by clicking
            below.</span
          ><br />
          <button
            title="{{ 'Add validation rule' | translate }}"
            type="button"
            ng-click="vm.addAndRule({})"
            class="btn btn-default btn-sm top-m"
            translate
          >
            Add validation rule
          </button>
        </p>
      </div>
      <hr />
    </div>
  </div>
</div>
