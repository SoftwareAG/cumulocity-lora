<p style="margin: 15px 0 20px;">
  <span class="lead">{{ vm.helpText.header | translate }}</span
  ><br />
  {{ vm.helpText.text | translate }}
</p>
<div class="card-group interact-grid">
  <div class="col-xs-12 col-sm-6 col-md-4" ng-show="vm.canCreate">
    <a
      title="{{ 'Add role' | translate }}"
      href=""
      class="card add-card"
      ng-click="::vm.addRole()"
      style="min-height: 90px;"
    >
      <i c8y-icon="plus-square" class="text-muted"></i> <span translate>Add role</span>
    </a>
  </div>

  <div
    ng-repeat="role in vm.roles | orderBy:'name'"
    class="col-xs-12 col-sm-6 col-md-4"
    ng-click="::vm.edit(role)"
  >
    <div class="card" ng-click="vm.edit(role)">
      <div class="card-actions" ng-click="$event.stopPropagation()">
        <div class="dropdown  settings" uib-dropdown>
          <a
            title="{{ 'Actions' | translate }}"
            class="dropdown-toggle c8y-dropdown"
            uib-dropdown-toggle
            ng-click="::$event.stopPropagation()"
          >
            <span><i c8y-icon="ellipsis-v"></i></span>
          </a>
          <ul class="dropdown-menu dropdown-menu-right" uib-dropdown-menu>
            <li>
              <a
                title="{{ 'Edit' | translate }}"
                href=""
                ng-click="::$event.stopPropagation();vm.edit(role)"
              >
                <i c8y-icon="edit"></i> <translate>Edit</translate>
              </a>
            </li>
            <li>
              <a
                title="{{ 'Duplicate' | translate }}"
                href=""
                ng-click="::$event.stopPropagation();vm.duplicate(role)"
              >
                <i c8y-icon="clone"></i> <translate>Duplicate</translate>
              </a>
            </li>
            <li>
              <a
                title="{{ 'Remove' | translate }}"
                href=""
                ng-click="::$event.stopPropagation();vm.remove(role)"
                ng-hide="::vm.isUndeletable(role)"
              >
                <i c8y-icon="trash"></i> <translate>Remove</translate>
              </a>
            </li>
          </ul>
        </div>
      </div>

      <div class="card-header">
        <div class="card-title text-truncate" title="{{::role.name}}">
          <span>{{::role.name | translate}}</span>
        </div>
      </div>
      <!-- <hr> -->
      <div class="card-block">
        <p class="text-truncate-wrap" ng-show="role.description">
          {{::role.description | translate}}
        </p>
        <small class="text-muted" ng-hide="role.description" translate
          ><em>No description available</em></small
        >
        <div style="margin-top: 5px;" ng-show="::role.permissions">
          <span class="badge bg-primary" ng-bind="::role.permissions.length"></span>
          <small
            class="text-muted"
            translate
            translate-n="::role.permissions.length"
            translate-plural="permissions"
            >permission</small
          >
        </div>
      </div>
    </div>
  </div>
</div>
<c8y-load-more></c8y-load-more>
