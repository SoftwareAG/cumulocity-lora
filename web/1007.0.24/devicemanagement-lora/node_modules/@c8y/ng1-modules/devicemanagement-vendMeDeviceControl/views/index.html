<div data-ng-controller="vendMeDeviceControlCtrl" class="col-lg-6">
  <form>
    <!-- <div class="form-group">
      <label>Protocol</label>
      <select class="form-control"
        data-ng-model="sProtocol"
        data-ng-change="updateOptions()"
        data-ng-options="protocol.text for protocol in protocols">
      </select>
    </div> -->

    <div class="form-group">
      <label translate>Protocol</label>

      <div class="input-group">
        <label class="checkbox-inline">
          <input
            type="checkbox"
            ng-model="proto.EXE.active"
            ng-change="proto.MDB.active && (proto.MDB.active=!proto.EXE.active)"
          />
          {{ proto.EXE.text }}
        </label>

        <label class="checkbox-inline">
          <input
            type="checkbox"
            ng-model="proto.MDB.active"
            ng-change="proto.EXE.active && (proto.EXE.active=!proto.MDB.active)"
          />
          {{ proto.MDB.text }}
        </label>

        <label class="checkbox-inline">
          <input
            type="checkbox"
            ng-model="proto.FREE.active"
            ng-disabled="proto.EXE.active"
            ng-change="confirmFreeVend(proto.FREE.active)"
          />
          {{ proto.FREE.text }}
        </label>
      </div>
    </div>

    <div class="form-group">
      <label translate>Serial #1</label>

      <div class="input-group">
        <label class="checkbox-inline">
          <input
            type="checkbox"
            ng-model="proto.DDCMP1.active"
            ng-change="proto.DDCMP1.active && (proto.DEX1.active=!proto.DDCMP1.active)"
          />
          {{ proto.DDCMP1.text }}
        </label>

        <label class="checkbox-inline">
          <input
            type="checkbox"
            ng-model="proto.DEX1.active"
            ng-change="proto.DEX1.active && (proto.DDCMP1.active=!proto.DEX1.active)"
          />
          {{ proto.DEX1.text }}
        </label>
      </div>
    </div>

    <div class="form-group">
      <label translate>Serial #2</label>

      <div class="input-group">
        <label class="checkbox-inline">
          <input
            type="checkbox"
            ng-model="proto.DDCMP2.active"
            ng-change="proto.DDCMP2.active && (proto.DEX2.active=!proto.DDCMP2.active)"
          />
          {{ proto.DDCMP2.text }}
        </label>

        <label class="checkbox-inline">
          <input
            type="checkbox"
            ng-model="proto.DEX2.active"
            ng-change="proto.DEX2.active && (proto.DDCMP2.active=!proto.DEX2.active)"
          />
          {{ proto.DEX2.text }}
        </label>
      </div>
    </div>

    <div class="form-group">
      <label translate>Options</label>

      <div class="checkbox" data-ng-repeat="bit in bitmask">
        <label>
          <input type="checkbox" data-ng-model="bit.selected" data-ng-disabled="!showOption(bit)" />
          {{ bit.text }} <i class="icon-ok statusOk" data-ng-show="showOption(bit)"></i>
        </label>
      </div>
    </div>

    <div class="form-group">
      <button
        title="{{ 'Update protocol configuration' | translate }}"
        type="button"
        class="btn btn-primary"
        data-ng-click="setProtocol()"
        translate
      >
        Update protocol configuration
      </button>
    </div>

    <div class="form-group">
      <label translate>Vending machine settings</label>

      <div class="input-group">
        <label class="checkbox-inline">
          <input
            title="{{ 'Coin changer' | translate }}"
            type="checkbox"
            ng-model="coinChanger"
            data-ng-change="setVendingMachineSettings(device, 'coinChanger', coinChanger)"
          />
          {{ 'Coin changer' | translate }}
        </label>

        <label class="checkbox-inline">
          <input
            title="{{ 'Bill validator' | translate }}"
            type="checkbox"
            ng-model="billValidator"
            data-ng-change="setVendingMachineSettings(device, 'bill_validator', billValidator)"
          />
          {{ 'Bill validator' | translate }}
        </label>

        <label class="checkbox-inline">
          <input
            title="{{ 'Cashless 1' | translate }}"
            type="checkbox"
            ng-model="cashless1"
            data-ng-change="setVendingMachineSettings(device, 'cashless1', cashless1)"
          />
          {{ 'Cashless 1' | translate }}
        </label>

        <label class="checkbox-inline">
          <input
            title="{{ 'Cashless 2' | translate }}"
            type="checkbox"
            ng-model="cashless2"
            data-ng-change="setVendingMachineSettings(device, 'cashless2', cashless2)"
          />
          {{ 'Cashless 2' | translate }}
        </label>
      </div>
    </div>

    <div class="form-group">
      <label translate>Sales configuration</label>

      <div class="input-group">
        <label class="checkbox-inline">
          <input
            title="{{ 'Use reset counters' | translate }}"
            type="checkbox"
            ng-model="useResetCounters"
            data-ng-change="setUseResetCounters(device, useResetCounters)"
          />
          {{ 'Use reset counters' | translate }}
        </label>
      </div>
    </div>

    <div class="form-group">
      <button
        title="{{ 'Update vending machine' | translate }}"
        type="button"
        class="btn btn-primary"
        data-ng-click="updateDevice()"
        translate
      >
        Update vending machine
      </button>
    </div>

    <div class="form-group">
      <label translate>Maximum credit</label>
      <div class="input-group">
        <input type="text" data-ng-model="credit" class="form-control text-right" step="0.01" />
        <span class="input-group-addon">&euro;</span>
      </div>
    </div>

    <div class="form-group">
      <button
        title="{{ 'Update maximum credit' | translate }}"
        type="button"
        class="btn btn-primary"
        data-ng-click="setCredit(credit)"
        translate
      >
        Update maximum credit
      </button>
    </div>

    <div class="form-group">
      <label translate>Request device log</label>
      <div class="form-control-static">
        <button
          title="{{ 'Request device log' | translate }}"
          type="button"
          class="btn btn-primary"
          data-ng-click="getDeviceLog()"
          translate
        >
          Request device log
        </button>
      </div>
      <small style="display:block; margin-top:5px;" translate>
        Device related log information will be shown under "<b>Events</b>".
      </small>
    </div>
  </form>
</div>
