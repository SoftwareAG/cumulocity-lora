<div ng-if="!multiple">
  <ng-form name="nestedSmartRuleForm">
    <div
      class="form-group alarmType"
      ng-class="{'has-error': nestedSmartRuleForm.$dirty && nestedSmartRuleForm.$invalid}"
    >
      <input
        type="{{ param.type }}"
        class="form-control span"
        ng-model="rule.config[param.property]"
        placeholder="{{ placeholder(param) | translate }}"
        uib-tooltip="{{ tooltip(param) }}"
        ng-required="param.required"
      />
    </div>
  </ng-form>
</div>
<div ng-if="multiple">
  <div class="form-group" ng-repeat="alarmType in alarmTypes">
    <ng-form name="nestedSmartRuleForm">
      <div
        class="input-group"
        ng-class="{'has-error': nestedSmartRuleForm.$dirty && nestedSmartRuleForm.$invalid}"
      >
        <input
          type="{{ param.type }}"
          class="form-control"
          ng-model="alarmType.name"
          placeholder="{{ placeholder(param) | translate }}"
          uib-tooltip="{{ tooltip(param) }}"
          ng-required="param.required"
        />
        <span class="input-group-btn">
          <button
            type="button"
            class="btn btn-link"
            uib-tooltip="{{ 'Remove' | translate }}"
            ng-click="remove(alarmType)"
            ng-disabled="alarmTypes.length <= 1"
          >
            <i c8y-icon="minus-circle" class="text-danger"></i>
          </button>
        </span>
      </div>
    </ng-form>
  </div>
  <button
    title="{{ 'Add alarm type' | translate }}"
    type="button"
    class="btn-add-block"
    ng-click="add()"
  >
    <i c8y-icon="plus-circle"></i> <translate>Add alarm type</translate>
  </button>
</div>
