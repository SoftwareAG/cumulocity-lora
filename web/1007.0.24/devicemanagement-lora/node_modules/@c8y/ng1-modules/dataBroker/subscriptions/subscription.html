<div class="card">
  <div class="card-actions">
    <div class="dropdown  settings" uib-dropdown>
      <a
        title="{{ 'Actions' | translate }}"
        class="dropdown-toggle c8y-dropdown btn btn-link"
        uib-dropdown-toggle
        ng-click="::$event.stopPropagation()"
      >
        <span><i c8y-icon="ellipsis-v"></i></span>
      </a>
      <ul class="dropdown-menu dropdown-menu-right" uib-dropdown-menu>
        <li>
          <a
            title="{{ 'Delete' | translate }}"
            href=""
            ng-click="vm.removeSubscription(vm.acceptedSubscription)"
          >
            <i c8y-icon="trash"></i>
            <translate>Delete</translate>
          </a>
        </li>
      </ul>
    </div>
  </div>
  <div class="card-header separator">
    <div class="card-icon">
      <i c8y-icon="c8y-connector-in c8y-icon-duocolor" style="font-size: 125%"></i>
    </div>
    <h4 class="text-truncate card-title">
      <span>{{ vm.acceptedSubscription._c8y_BrokerSource.connectorName }}</span>
      <small class="text-truncate text-muted">
        {{ vm.acceptedSubscription._c8y_BrokerSource.domain }}
      </small>
    </h4>
  </div>
  <div class="card-block">
    <span
      class="text-truncate-wrap"
      title="{{ vm.acceptedSubscription._c8y_BrokerSource.connectorDescription }}"
      >{{ vm.acceptedSubscription._c8y_BrokerSource.connectorDescription }}</span
    >
    <div class="row">
      <div
        class="col-xs-6"
        ng-click="vm.toggleSubscriptionStatus($event, vm.acceptedSubscription)"
        style="height:34px;"
      >
        <label
          class="c8y-switch"
          title="{{ 'Activate or deactivate data subscription' | translate }}"
        >
          <input type="checkbox" ng-checked="vm.acceptedSubscription.userStatus" />
          <span></span>
          {{ vm.acceptedSubscription.visibleUserStatus | translate }}
        </label>
      </div>
      <div class="col-xs-6">
        <div class="text-right" style="line-height: 34px;">
          <span
            title="{{ 'Source tenant status' | translate }}"
            class="subscription-status-info"
            ng-class="vm.acceptedSubscription.status.textClass"
          >
            <i
              ng-class="vm.acceptedSubscription.status.iconClass"
              c8y-icon="{{ vm.acceptedSubscription.status.icon }}"
            ></i>
            <span>{{ vm.acceptedSubscription.status.text | translate }}</span>
          </span>
        </div>
      </div>
    </div>
  </div>
</div>
