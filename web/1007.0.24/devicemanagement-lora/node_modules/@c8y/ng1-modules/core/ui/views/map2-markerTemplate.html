<div class="map-marker">
  <a class="text-truncate deviceLink"
    style="font-size: 14px"
    ng-href="#/device/{{mo.id}}"
    title="{{mo.name}}">
    {{mo.name}}
  </a>
  <div class="text-muted" ng-if="lastUpdated">{{'In this location since' | translate}}:
    <br>
    {{lastUpdated}}
  </div>
  <table class="switch" style="margin-top: 8px;">
    <tr ng-if="!showTrackingOptions">
      <td>
        <label class="c8y-switch">
          <input type="checkbox" ng-disabled="tracker._fetching"
            ng-model="tracker.active[mo.id]"
            ng-change="!!tracker.active[mo.id] ? tracker.activate(mo.id) : tracker.deactivate(mo.id)">
          <span></span>
        </label>
      </td>
      <td class="description" ng-if="!!tracker.active[mo.id]">{{'Track visible' | translate}}</td>
      <td class="description" ng-if="!tracker.active[mo.id]">{{'Track hidden' | translate}}</td>
    </tr>
    <tr ng-if="showTrackingOptions">
      <td>
        <label class="c8y-switch">
          <input type="checkbox" ng-disabled="tracker._fetching"
            ng-model="tracker.__gps"
            ng-change="onTrackingChange(mo.id)">
          <span></span>
        </label>
      </td>
      <td class="description" ng-if="tracker.__gps">{{'GPS tracks visible' | translate}}</td>
      <td class="description" ng-if="!tracker.__gps">{{'GPS tracks hidden' | translate}}</td>
    </tr>
    <tr ng-if="showTrackingOptions">
      <td>
        <label class="c8y-switch">
          <input type="checkbox" ng-disabled="tracker._fetching"
            ng-model="tracker.__gsm"
            ng-change="onTrackingChange(mo.id)">
          <span></span>
        </label>
      </td>
      <td class="description" ng-if="tracker.__gsm">{{'GSM tracks visible' | translate}}</td>
      <td class="description" ng-if="!tracker.__gsm">{{'GSM tracks hidden' | translate}}</td>
    </tr>
  </table>
</div>
